#!/usr/bin/env node
(()=>{var t={3493:(t,r,i)=>{var o=i(6975);function retry(t,r){function run(i,a){var c=r||{};var l;if(!("randomize"in c)){c.randomize=true}l=o.operation(c);function bail(t){a(t||new Error("Aborted"))}function onError(t,r){if(t.bail){bail(t);return}if(!l.retry(t)){a(l.mainError())}else if(c.onRetry){c.onRetry(t,r)}}function runAttempt(r){var o;try{o=t(bail,r)}catch(t){onError(t,r);return}Promise.resolve(o).then(i).catch((function catchIt(t){onError(t,r)}))}l.attempt(runAttempt)}return new Promise(run)}t.exports=retry},5218:t=>{"use strict";t.exports=balanced;function balanced(t,r,i){if(t instanceof RegExp)t=maybeMatch(t,i);if(r instanceof RegExp)r=maybeMatch(r,i);var o=range(t,r,i);return o&&{start:o[0],end:o[1],pre:i.slice(0,o[0]),body:i.slice(o[0]+t.length,o[1]),post:i.slice(o[1]+r.length)}}function maybeMatch(t,r){var i=r.match(t);return i?i[0]:null}balanced.range=range;function range(t,r,i){var o,a,c,l,h;var u=i.indexOf(t);var d=i.indexOf(r,u+1);var p=u;if(u>=0&&d>0){if(t===r){return[u,d]}o=[];c=i.length;while(p>=0&&!h){if(p==u){o.push(p);u=i.indexOf(t,p+1)}else if(o.length==1){h=[o.pop(),d]}else{a=o.pop();if(a<c){c=a;l=d}d=i.indexOf(r,p+1)}p=u<d&&u>=0?u:d}if(o.length){h=[c,l]}}return h}},4800:(t,r,i)=>{var o=i(7381);var a=i(5218);t.exports=expandTop;var c="\0SLASH"+Math.random()+"\0";var l="\0OPEN"+Math.random()+"\0";var h="\0CLOSE"+Math.random()+"\0";var u="\0COMMA"+Math.random()+"\0";var d="\0PERIOD"+Math.random()+"\0";function numeric(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function escapeBraces(t){return t.split("\\\\").join(c).split("\\{").join(l).split("\\}").join(h).split("\\,").join(u).split("\\.").join(d)}function unescapeBraces(t){return t.split(c).join("\\").split(l).join("{").split(h).join("}").split(u).join(",").split(d).join(".")}function parseCommaParts(t){if(!t)return[""];var r=[];var i=a("{","}",t);if(!i)return t.split(",");var o=i.pre;var c=i.body;var l=i.post;var h=o.split(",");h[h.length-1]+="{"+c+"}";var u=parseCommaParts(l);if(l.length){h[h.length-1]+=u.shift();h.push.apply(h,u)}r.push.apply(r,h);return r}function expandTop(t){if(!t)return[];if(t.substr(0,2)==="{}"){t="\\{\\}"+t.substr(2)}return expand(escapeBraces(t),true).map(unescapeBraces)}function identity(t){return t}function embrace(t){return"{"+t+"}"}function isPadded(t){return/^-?0\d/.test(t)}function lte(t,r){return t<=r}function gte(t,r){return t>=r}function expand(t,r){var i=[];var c=a("{","}",t);if(!c||/\$$/.test(c.pre))return[t];var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(c.body);var u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(c.body);var d=l||u;var p=c.body.indexOf(",")>=0;if(!d&&!p){if(c.post.match(/,.*\}/)){t=c.pre+"{"+c.body+h+c.post;return expand(t)}return[t]}var m;if(d){m=c.body.split(/\.\./)}else{m=parseCommaParts(c.body);if(m.length===1){m=expand(m[0],false).map(embrace);if(m.length===1){var g=c.post.length?expand(c.post,false):[""];return g.map((function(t){return c.pre+m[0]+t}))}}}var y=c.pre;var g=c.post.length?expand(c.post,false):[""];var b;if(d){var v=numeric(m[0]);var w=numeric(m[1]);var _=Math.max(m[0].length,m[1].length);var E=m.length==3?Math.abs(numeric(m[2])):1;var S=lte;var O=w<v;if(O){E*=-1;S=gte}var x=m.some(isPadded);b=[];for(var R=v;S(R,w);R+=E){var T;if(u){T=String.fromCharCode(R);if(T==="\\")T=""}else{T=String(R);if(x){var k=_-T.length;if(k>0){var A=new Array(k+1).join("0");if(R<0)T="-"+A+T.slice(1);else T=A+T}}}b.push(T)}}else{b=o(m,(function(t){return expand(t,false)}))}for(var C=0;C<b.length;C++){for(var P=0;P<g.length;P++){var I=y+b[C]+g[P];if(!r||d||I)i.push(I)}}return i}},9289:(t,r,i)=>{"use strict";const o=i(1452);const a=["assert","buffer","child_process","cluster","console","constants","crypto","dgram","dns","domain","events","fs","http","https","module","net","os","path","punycode","querystring","readline","repl","stream","string_decoder","sys","timers","tls","tty","url","util","vm","zlib"];const c={freelist:"<6.0.0",v8:">=1.0.0",process:">=1.1.0",inspector:">=8.0.0",async_hooks:">=8.1.0",http2:">=8.4.0",perf_hooks:">=8.5.0",trace_events:">=10.0.0",worker_threads:">=12.0.0","node:test":">=18.0.0"};const l={worker_threads:">=10.5.0",wasi:">=12.16.0",diagnostics_channel:"^14.17.0 || >=15.1.0"};t.exports=({version:t=process.version,experimental:r=false}={})=>{const i=[...a];for(const[r,a]of Object.entries(c)){if(t==="*"||o.satisfies(t,a)){i.push(r)}}if(r){for(const[r,a]of Object.entries(l)){if(!i.includes(r)&&(t==="*"||o.satisfies(t,a))){i.push(r)}}}return i}},8754:(t,r,i)=>{"use strict";const o=i(7147);const a=i(1017);const c=o.lchown?"lchown":"chown";const l=o.lchownSync?"lchownSync":"chownSync";const h=o.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/);const lchownSync=(t,r,i)=>{try{return o[l](t,r,i)}catch(t){if(t.code!=="ENOENT")throw t}};const chownSync=(t,r,i)=>{try{return o.chownSync(t,r,i)}catch(t){if(t.code!=="ENOENT")throw t}};const u=h?(t,r,i,a)=>c=>{if(!c||c.code!=="EISDIR")a(c);else o.chown(t,r,i,a)}:(t,r,i,o)=>o;const d=h?(t,r,i)=>{try{return lchownSync(t,r,i)}catch(o){if(o.code!=="EISDIR")throw o;chownSync(t,r,i)}}:(t,r,i)=>lchownSync(t,r,i);const p=process.version;let readdir=(t,r,i)=>o.readdir(t,r,i);let readdirSync=(t,r)=>o.readdirSync(t,r);if(/^v4\./.test(p))readdir=(t,r,i)=>o.readdir(t,i);const chown=(t,r,i,a)=>{o[c](t,r,i,u(t,r,i,(t=>{a(t&&t.code!=="ENOENT"?t:null)})))};const chownrKid=(t,r,i,c,l)=>{if(typeof r==="string")return o.lstat(a.resolve(t,r),((o,a)=>{if(o)return l(o.code!=="ENOENT"?o:null);a.name=r;chownrKid(t,a,i,c,l)}));if(r.isDirectory()){chownr(a.resolve(t,r.name),i,c,(o=>{if(o)return l(o);const h=a.resolve(t,r.name);chown(h,i,c,l)}))}else{const o=a.resolve(t,r.name);chown(o,i,c,l)}};const chownr=(t,r,i,o)=>{readdir(t,{withFileTypes:true},((a,c)=>{if(a){if(a.code==="ENOENT")return o();else if(a.code!=="ENOTDIR"&&a.code!=="ENOTSUP")return o(a)}if(a||!c.length)return chown(t,r,i,o);let l=c.length;let h=null;const then=a=>{if(h)return;if(a)return o(h=a);if(--l===0)return chown(t,r,i,o)};c.forEach((o=>chownrKid(t,o,r,i,then)))}))};const chownrKidSync=(t,r,i,c)=>{if(typeof r==="string"){try{const i=o.lstatSync(a.resolve(t,r));i.name=r;r=i}catch(t){if(t.code==="ENOENT")return;else throw t}}if(r.isDirectory())chownrSync(a.resolve(t,r.name),i,c);d(a.resolve(t,r.name),i,c)};const chownrSync=(t,r,i)=>{let o;try{o=readdirSync(t,{withFileTypes:true})}catch(o){if(o.code==="ENOENT")return;else if(o.code==="ENOTDIR"||o.code==="ENOTSUP")return d(t,r,i);else throw o}if(o&&o.length)o.forEach((o=>chownrKidSync(t,o,r,i)));return d(t,r,i)};t.exports=chownr;chownr.sync=chownrSync},7381:t=>{t.exports=function(t,i){var o=[];for(var a=0;a<t.length;a++){var c=i(t[a],a);if(r(c))o.push.apply(o,c);else o.push(c)}return o};var r=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}},4488:(t,r,i)=>{"use strict";const o=i(2081);const a=i(8423);const c=i(9449);function spawn(t,r,i){const l=a(t,r,i);const h=o.spawn(l.command,l.args,l.options);c.hookChildProcess(h,l);return h}function spawnSync(t,r,i){const l=a(t,r,i);const h=o.spawnSync(l.command,l.args,l.options);h.error=h.error||c.verifyENOENTSync(h.status,l);return h}t.exports=spawn;t.exports.spawn=spawn;t.exports.sync=spawnSync;t.exports._parse=a;t.exports._enoent=c},9449:t=>{"use strict";const r=process.platform==="win32";function notFoundError(t,r){return Object.assign(new Error(`${r} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${r} ${t.command}`,path:t.command,spawnargs:t.args})}function hookChildProcess(t,i){if(!r){return}const o=t.emit;t.emit=function(r,a){if(r==="exit"){const r=verifyENOENT(a,i,"spawn");if(r){return o.call(t,"error",r)}}return o.apply(t,arguments)}}function verifyENOENT(t,i){if(r&&t===1&&!i.file){return notFoundError(i.original,"spawn")}return null}function verifyENOENTSync(t,i){if(r&&t===1&&!i.file){return notFoundError(i.original,"spawnSync")}return null}t.exports={hookChildProcess:hookChildProcess,verifyENOENT:verifyENOENT,verifyENOENTSync:verifyENOENTSync,notFoundError:notFoundError}},8423:(t,r,i)=>{"use strict";const o=i(1017);const a=i(5907);const c=i(8268);const l=i(263);const h=process.platform==="win32";const u=/\.(?:com|exe)$/i;const d=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function detectShebang(t){t.file=a(t);const r=t.file&&l(t.file);if(r){t.args.unshift(t.file);t.command=r;return a(t)}return t.file}function parseNonShell(t){if(!h){return t}const r=detectShebang(t);const i=!u.test(r);if(t.options.forceShell||i){const i=d.test(r);t.command=o.normalize(t.command);t.command=c.command(t.command);t.args=t.args.map((t=>c.argument(t,i)));const a=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${a}"`];t.command=process.env.comspec||"cmd.exe";t.options.windowsVerbatimArguments=true}return t}function parse(t,r,i){if(r&&!Array.isArray(r)){i=r;r=null}r=r?r.slice(0):[];i=Object.assign({},i);const o={command:t,args:r,options:i,file:undefined,original:{command:t,args:r}};return i.shell?o:parseNonShell(o)}t.exports=parse},8268:t=>{"use strict";const r=/([()\][%!^"`<>&|;, *?])/g;function escapeCommand(t){t=t.replace(r,"^$1");return t}function escapeArgument(t,i){t=`${t}`;t=t.replace(/(\\*)"/g,'$1$1\\"');t=t.replace(/(\\*)$/,"$1$1");t=`"${t}"`;t=t.replace(r,"^$1");if(i){t=t.replace(r,"^$1")}return t}t.exports.command=escapeCommand;t.exports.argument=escapeArgument},263:(t,r,i)=>{"use strict";const o=i(7147);const a=i(530);function readShebang(t){const r=150;const i=Buffer.alloc(r);let c;try{c=o.openSync(t,"r");o.readSync(c,i,0,r,0);o.closeSync(c)}catch(t){}return a(i.toString())}t.exports=readShebang},5907:(t,r,i)=>{"use strict";const o=i(1017);const a=i(7200);const c=i(2799);function resolveCommandAttempt(t,r){const i=t.options.env||process.env;const l=process.cwd();const h=t.options.cwd!=null;const u=h&&process.chdir!==undefined&&!process.chdir.disabled;if(u){try{process.chdir(t.options.cwd)}catch(t){}}let d;try{d=a.sync(t.command,{path:i[c({env:i})],pathExt:r?o.delimiter:undefined})}catch(t){}finally{if(u){process.chdir(l)}}if(d){d=o.resolve(h?t.options.cwd:"",d)}return d}function resolveCommand(t){return resolveCommandAttempt(t)||resolveCommandAttempt(t,true)}t.exports=resolveCommand},2269:(t,r,i)=>{"use strict";const{Transform:o,PassThrough:a}=i(2781);const c=i(9796);const l=i(9021);t.exports=t=>{const r=(t.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(r)){return t}const i=r==="br";if(i&&typeof c.createBrotliDecompress!=="function"){t.destroy(new Error("Brotli is not supported on Node.js < 12"));return t}let h=true;const u=new o({transform(t,r,i){h=false;i(null,t)},flush(t){t()}});const d=new a({autoDestroy:false,destroy(r,i){t.destroy();i(r)}});const p=i?c.createBrotliDecompress():c.createUnzip();p.once("error",(r=>{if(h&&!t.readable){d.end();return}d.destroy(r)}));l(t,d);t.pipe(u).pipe(p).pipe(d);return d}},7360:t=>{"use strict";
/*!
 * @description Recursive object extending
 * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>
 * @license MIT
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2013-2018 Viacheslav Lotsmanov
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */function isSpecificValue(t){return t instanceof Buffer||t instanceof Date||t instanceof RegExp?true:false}function cloneSpecificValue(t){if(t instanceof Buffer){var r=Buffer.alloc?Buffer.alloc(t.length):new Buffer(t.length);t.copy(r);return r}else if(t instanceof Date){return new Date(t.getTime())}else if(t instanceof RegExp){return new RegExp(t)}else{throw new Error("Unexpected situation")}}function deepCloneArray(t){var i=[];t.forEach((function(t,o){if(typeof t==="object"&&t!==null){if(Array.isArray(t)){i[o]=deepCloneArray(t)}else if(isSpecificValue(t)){i[o]=cloneSpecificValue(t)}else{i[o]=r({},t)}}else{i[o]=t}}));return i}function safeGetProperty(t,r){return r==="__proto__"?undefined:t[r]}var r=t.exports=function(){if(arguments.length<1||typeof arguments[0]!=="object"){return false}if(arguments.length<2){return arguments[0]}var t=arguments[0];var i=Array.prototype.slice.call(arguments,1);var o,a,c;i.forEach((function(i){if(typeof i!=="object"||i===null||Array.isArray(i)){return}Object.keys(i).forEach((function(c){a=safeGetProperty(t,c);o=safeGetProperty(i,c);if(o===t){return}else if(typeof o!=="object"||o===null){t[c]=o;return}else if(Array.isArray(o)){t[c]=deepCloneArray(o);return}else if(isSpecificValue(o)){t[c]=cloneSpecificValue(o);return}else if(typeof a!=="object"||a===null||Array.isArray(a)){t[c]=r({},o);return}else{t[c]=r(a,o);return}}))}));return t}},8985:(t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:true});function isTLSSocket(t){return t.encrypted}const deferToConnect=(t,r)=>{let i;if(typeof r==="function"){const t=r;i={connect:t}}else{i=r}const o=typeof i.connect==="function";const a=typeof i.secureConnect==="function";const c=typeof i.close==="function";const onConnect=()=>{if(o){i.connect()}if(isTLSSocket(t)&&a){if(t.authorized){i.secureConnect()}else if(!t.authorizationError){t.once("secureConnect",i.secureConnect)}}if(c){t.once("close",i.close)}};if(t.writable&&!t.connecting){onConnect()}else if(t.connecting){t.once("connect",onConnect)}else if(t.destroyed&&c){i.close(t._hadError)}};r["default"]=deferToConnect;t.exports=deferToConnect;t.exports["default"]=deferToConnect},36:(t,r,i)=>{"use strict";const o=i(7097);const a=i(2361).EventEmitter;const c=i(7147);const l=process.binding("fs");const h=l.writeBuffers;const u=l.FSReqWrap||l.FSReqCallback;const d=Symbol("_autoClose");const p=Symbol("_close");const m=Symbol("_ended");const g=Symbol("_fd");const y=Symbol("_finished");const b=Symbol("_flags");const v=Symbol("_flush");const w=Symbol("_handleChunk");const _=Symbol("_makeBuf");const E=Symbol("_mode");const S=Symbol("_needDrain");const O=Symbol("_onerror");const x=Symbol("_onopen");const R=Symbol("_onread");const T=Symbol("_onwrite");const k=Symbol("_open");const A=Symbol("_path");const C=Symbol("_pos");const P=Symbol("_queue");const I=Symbol("_read");const N=Symbol("_readSize");const L=Symbol("_reading");const M=Symbol("_remain");const $=Symbol("_size");const j=Symbol("_write");const D=Symbol("_writing");const H=Symbol("_defaultFlag");class ReadStream extends o{constructor(t,r){r=r||{};super(r);this.writable=false;if(typeof t!=="string")throw new TypeError("path must be a string");this[g]=typeof r.fd==="number"?r.fd:null;this[A]=t;this[N]=r.readSize||16*1024*1024;this[L]=false;this[$]=typeof r.size==="number"?r.size:Infinity;this[M]=this[$];this[d]=typeof r.autoClose==="boolean"?r.autoClose:true;if(typeof this[g]==="number")this[I]();else this[k]()}get fd(){return this[g]}get path(){return this[A]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[k](){c.open(this[A],"r",((t,r)=>this[x](t,r)))}[x](t,r){if(t)this[O](t);else{this[g]=r;this.emit("open",r);this[I]()}}[_](){return Buffer.allocUnsafe(Math.min(this[N],this[M]))}[I](){if(!this[L]){this[L]=true;const t=this[_]();if(t.length===0)return process.nextTick((()=>this[R](null,0,t)));c.read(this[g],t,0,t.length,null,((t,r,i)=>this[R](t,r,i)))}}[R](t,r,i){this[L]=false;if(t)this[O](t);else if(this[w](r,i))this[I]()}[p](){if(this[d]&&typeof this[g]==="number"){c.close(this[g],(t=>this.emit("close")));this[g]=null}}[O](t){this[L]=true;this[p]();this.emit("error",t)}[w](t,r){let i=false;this[M]-=t;if(t>0)i=super.write(t<r.length?r.slice(0,t):r);if(t===0||this[M]<=0){i=false;this[p]();super.end()}return i}emit(t,r){switch(t){case"prefinish":case"finish":break;case"drain":if(typeof this[g]==="number")this[I]();break;default:return super.emit(t,r)}}}class ReadStreamSync extends ReadStream{[k](){let t=true;try{this[x](null,c.openSync(this[A],"r"));t=false}finally{if(t)this[p]()}}[I](){let t=true;try{if(!this[L]){this[L]=true;do{const t=this[_]();const r=t.length===0?0:c.readSync(this[g],t,0,t.length,null);if(!this[w](r,t))break}while(true);this[L]=false}t=false}finally{if(t)this[p]()}}[p](){if(this[d]&&typeof this[g]==="number"){try{c.closeSync(this[g])}catch(t){}this[g]=null;this.emit("close")}}}class WriteStream extends a{constructor(t,r){r=r||{};super(r);this.readable=false;this[D]=false;this[m]=false;this[S]=false;this[P]=[];this[A]=t;this[g]=typeof r.fd==="number"?r.fd:null;this[E]=r.mode===undefined?438:r.mode;this[C]=typeof r.start==="number"?r.start:null;this[d]=typeof r.autoClose==="boolean"?r.autoClose:true;const i=this[C]!==null?"r+":"w";this[H]=r.flags===undefined;this[b]=this[H]?i:r.flags;if(this[g]===null)this[k]()}get fd(){return this[g]}get path(){return this[A]}[O](t){this[p]();this[D]=true;this.emit("error",t)}[k](){c.open(this[A],this[b],this[E],((t,r)=>this[x](t,r)))}[x](t,r){if(this[H]&&this[b]==="r+"&&t&&t.code==="ENOENT"){this[b]="w";this[k]()}else if(t)this[O](t);else{this[g]=r;this.emit("open",r);this[v]()}}end(t,r){if(t)this.write(t,r);this[m]=true;if(!this[D]&&!this[P].length&&typeof this[g]==="number")this[T](null,0)}write(t,r){if(typeof t==="string")t=new Buffer(t,r);if(this[m]){this.emit("error",new Error("write() after end()"));return false}if(this[g]===null||this[D]||this[P].length){this[P].push(t);this[S]=true;return false}this[D]=true;this[j](t);return true}[j](t){c.write(this[g],t,0,t.length,this[C],((t,r)=>this[T](t,r)))}[T](t,r){if(t)this[O](t);else{if(this[C]!==null)this[C]+=r;if(this[P].length)this[v]();else{this[D]=false;if(this[m]&&!this[y]){this[y]=true;this[p]();this.emit("finish")}else if(this[S]){this[S]=false;this.emit("drain")}}}}[v](){if(this[P].length===0){if(this[m])this[T](null,0)}else if(this[P].length===1)this[j](this[P].pop());else{const t=this[P];this[P]=[];writev(this[g],t,this[C],((t,r)=>this[T](t,r)))}}[p](){if(this[d]&&typeof this[g]==="number"){c.close(this[g],(t=>this.emit("close")));this[g]=null}}}class WriteStreamSync extends WriteStream{[k](){let t;try{t=c.openSync(this[A],this[b],this[E])}catch(t){if(this[H]&&this[b]==="r+"&&t&&t.code==="ENOENT"){this[b]="w";return this[k]()}else throw t}this[x](null,t)}[p](){if(this[d]&&typeof this[g]==="number"){try{c.closeSync(this[g])}catch(t){}this[g]=null;this.emit("close")}}[j](t){try{this[T](null,c.writeSync(this[g],t,0,t.length,this[C]))}catch(t){this[T](t,0)}}}const writev=(t,r,i,o)=>{const done=(t,i)=>o(t,i,r);const a=new u;a.oncomplete=done;l.writeBuffers(t,r,i,a)};r.ReadStream=ReadStream;r.ReadStreamSync=ReadStreamSync;r.WriteStream=WriteStream;r.WriteStreamSync=WriteStreamSync},3981:(t,r,i)=>{t.exports=realpath;realpath.realpath=realpath;realpath.sync=realpathSync;realpath.realpathSync=realpathSync;realpath.monkeypatch=monkeypatch;realpath.unmonkeypatch=unmonkeypatch;var o=i(7147);var a=o.realpath;var c=o.realpathSync;var l=process.version;var h=/^v[0-5]\./.test(l);var u=i(3623);function newError(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function realpath(t,r,i){if(h){return a(t,r,i)}if(typeof r==="function"){i=r;r=null}a(t,r,(function(o,a){if(newError(o)){u.realpath(t,r,i)}else{i(o,a)}}))}function realpathSync(t,r){if(h){return c(t,r)}try{return c(t,r)}catch(i){if(newError(i)){return u.realpathSync(t,r)}else{throw i}}}function monkeypatch(){o.realpath=realpath;o.realpathSync=realpathSync}function unmonkeypatch(){o.realpath=a;o.realpathSync=c}},3623:(t,r,i)=>{var o=i(1017);var a=process.platform==="win32";var c=i(7147);var l=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function rethrow(){var t;if(l){var r=new Error;t=debugCallback}else t=missingCallback;return t;function debugCallback(t){if(t){r.message=t.message;t=r;missingCallback(t)}}function missingCallback(t){if(t){if(process.throwDeprecation)throw t;else if(!process.noDeprecation){var r="fs: missing callback "+(t.stack||t.message);if(process.traceDeprecation)console.trace(r);else console.error(r)}}}}function maybeCallback(t){return typeof t==="function"?t:rethrow()}var h=o.normalize;if(a){var u=/(.*?)(?:[\/\\]+|$)/g}else{var u=/(.*?)(?:[\/]+|$)/g}if(a){var d=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/}else{var d=/^[\/]*/}r.realpathSync=function realpathSync(t,r){t=o.resolve(t);if(r&&Object.prototype.hasOwnProperty.call(r,t)){return r[t]}var i=t,l={},h={};var p;var m;var g;var y;start();function start(){var r=d.exec(t);p=r[0].length;m=r[0];g=r[0];y="";if(a&&!h[g]){c.lstatSync(g);h[g]=true}}while(p<t.length){u.lastIndex=p;var b=u.exec(t);y=m;m+=b[0];g=y+b[1];p=u.lastIndex;if(h[g]||r&&r[g]===g){continue}var v;if(r&&Object.prototype.hasOwnProperty.call(r,g)){v=r[g]}else{var w=c.lstatSync(g);if(!w.isSymbolicLink()){h[g]=true;if(r)r[g]=g;continue}var _=null;if(!a){var E=w.dev.toString(32)+":"+w.ino.toString(32);if(l.hasOwnProperty(E)){_=l[E]}}if(_===null){c.statSync(g);_=c.readlinkSync(g)}v=o.resolve(y,_);if(r)r[g]=v;if(!a)l[E]=_}t=o.resolve(v,t.slice(p));start()}if(r)r[i]=t;return t};r.realpath=function realpath(t,r,i){if(typeof i!=="function"){i=maybeCallback(r);r=null}t=o.resolve(t);if(r&&Object.prototype.hasOwnProperty.call(r,t)){return process.nextTick(i.bind(null,null,r[t]))}var l=t,h={},p={};var m;var g;var y;var b;start();function start(){var r=d.exec(t);m=r[0].length;g=r[0];y=r[0];b="";if(a&&!p[y]){c.lstat(y,(function(t){if(t)return i(t);p[y]=true;LOOP()}))}else{process.nextTick(LOOP)}}function LOOP(){if(m>=t.length){if(r)r[l]=t;return i(null,t)}u.lastIndex=m;var o=u.exec(t);b=g;g+=o[0];y=b+o[1];m=u.lastIndex;if(p[y]||r&&r[y]===y){return process.nextTick(LOOP)}if(r&&Object.prototype.hasOwnProperty.call(r,y)){return gotResolvedLink(r[y])}return c.lstat(y,gotStat)}function gotStat(t,o){if(t)return i(t);if(!o.isSymbolicLink()){p[y]=true;if(r)r[y]=y;return process.nextTick(LOOP)}if(!a){var l=o.dev.toString(32)+":"+o.ino.toString(32);if(h.hasOwnProperty(l)){return gotTarget(null,h[l],y)}}c.stat(y,(function(t){if(t)return i(t);c.readlink(y,(function(t,r){if(!a)h[l]=r;gotTarget(t,r)}))}))}function gotTarget(t,a,c){if(t)return i(t);var l=o.resolve(b,a);if(r)r[c]=l;gotResolvedLink(l)}function gotResolvedLink(r){t=o.resolve(r,t.slice(m));start()}}},3443:(t,r,i)=>{"use strict";const{PassThrough:o}=i(2781);t.exports=t=>{t={...t};const{array:r}=t;let{encoding:i}=t;const a=i==="buffer";let c=false;if(r){c=!(i||a)}else{i=i||"utf8"}if(a){i=null}const l=new o({objectMode:c});if(i){l.setEncoding(i)}let h=0;const u=[];l.on("data",(t=>{u.push(t);if(c){h=u.length}else{h+=t.length}}));l.getBufferedValue=()=>{if(r){return u}return a?Buffer.concat(u,h):u.join("")};l.getBufferedLength=()=>h;return l}},367:(t,r,i)=>{"use strict";const{constants:o}=i(4300);const a=i(2781);const{promisify:c}=i(3837);const l=i(3443);const h=c(a.pipeline);class MaxBufferError extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}}async function getStream(t,r){if(!t){throw new Error("Expected a stream")}r={maxBuffer:Infinity,...r};const{maxBuffer:i}=r;const a=l(r);await new Promise(((r,c)=>{const rejectPromise=t=>{if(t&&a.getBufferedLength()<=o.MAX_LENGTH){t.bufferedData=a.getBufferedValue()}c(t)};(async()=>{try{await h(t,a);r()}catch(t){rejectPromise(t)}})();a.on("data",(()=>{if(a.getBufferedLength()>i){rejectPromise(new MaxBufferError)}}))}));return a.getBufferedValue()}t.exports=getStream;t.exports.buffer=(t,r)=>getStream(t,{...r,encoding:"buffer"});t.exports.array=(t,r)=>getStream(t,{...r,array:true});t.exports.MaxBufferError=MaxBufferError},569:(t,r,i)=>{r.setopts=setopts;r.ownProp=ownProp;r.makeAbs=makeAbs;r.finish=finish;r.mark=mark;r.isIgnored=isIgnored;r.childrenIgnored=childrenIgnored;function ownProp(t,r){return Object.prototype.hasOwnProperty.call(t,r)}var o=i(7147);var a=i(1017);var c=i(8923);var l=i(6230);var h=c.Minimatch;function alphasort(t,r){return t.localeCompare(r,"en")}function setupIgnores(t,r){t.ignore=r.ignore||[];if(!Array.isArray(t.ignore))t.ignore=[t.ignore];if(t.ignore.length){t.ignore=t.ignore.map(ignoreMap)}}function ignoreMap(t){var r=null;if(t.slice(-3)==="/**"){var i=t.replace(/(\/\*\*)+$/,"");r=new h(i,{dot:true})}return{matcher:new h(t,{dot:true}),gmatcher:r}}function setopts(t,r,i){if(!i)i={};if(i.matchBase&&-1===r.indexOf("/")){if(i.noglobstar){throw new Error("base matching requires globstar")}r="**/"+r}t.silent=!!i.silent;t.pattern=r;t.strict=i.strict!==false;t.realpath=!!i.realpath;t.realpathCache=i.realpathCache||Object.create(null);t.follow=!!i.follow;t.dot=!!i.dot;t.mark=!!i.mark;t.nodir=!!i.nodir;if(t.nodir)t.mark=true;t.sync=!!i.sync;t.nounique=!!i.nounique;t.nonull=!!i.nonull;t.nosort=!!i.nosort;t.nocase=!!i.nocase;t.stat=!!i.stat;t.noprocess=!!i.noprocess;t.absolute=!!i.absolute;t.fs=i.fs||o;t.maxLength=i.maxLength||Infinity;t.cache=i.cache||Object.create(null);t.statCache=i.statCache||Object.create(null);t.symlinks=i.symlinks||Object.create(null);setupIgnores(t,i);t.changedCwd=false;var c=process.cwd();if(!ownProp(i,"cwd"))t.cwd=c;else{t.cwd=a.resolve(i.cwd);t.changedCwd=t.cwd!==c}t.root=i.root||a.resolve(t.cwd,"/");t.root=a.resolve(t.root);if(process.platform==="win32")t.root=t.root.replace(/\\/g,"/");t.cwdAbs=l(t.cwd)?t.cwd:makeAbs(t,t.cwd);if(process.platform==="win32")t.cwdAbs=t.cwdAbs.replace(/\\/g,"/");t.nomount=!!i.nomount;i.nonegate=true;i.nocomment=true;i.allowWindowsEscape=false;t.minimatch=new h(r,i);t.options=t.minimatch.options}function finish(t){var r=t.nounique;var i=r?[]:Object.create(null);for(var o=0,a=t.matches.length;o<a;o++){var c=t.matches[o];if(!c||Object.keys(c).length===0){if(t.nonull){var l=t.minimatch.globSet[o];if(r)i.push(l);else i[l]=true}}else{var h=Object.keys(c);if(r)i.push.apply(i,h);else h.forEach((function(t){i[t]=true}))}}if(!r)i=Object.keys(i);if(!t.nosort)i=i.sort(alphasort);if(t.mark){for(var o=0;o<i.length;o++){i[o]=t._mark(i[o])}if(t.nodir){i=i.filter((function(r){var i=!/\/$/.test(r);var o=t.cache[r]||t.cache[makeAbs(t,r)];if(i&&o)i=o!=="DIR"&&!Array.isArray(o);return i}))}}if(t.ignore.length)i=i.filter((function(r){return!isIgnored(t,r)}));t.found=i}function mark(t,r){var i=makeAbs(t,r);var o=t.cache[i];var a=r;if(o){var c=o==="DIR"||Array.isArray(o);var l=r.slice(-1)==="/";if(c&&!l)a+="/";else if(!c&&l)a=a.slice(0,-1);if(a!==r){var h=makeAbs(t,a);t.statCache[h]=t.statCache[i];t.cache[h]=t.cache[i]}}return a}function makeAbs(t,r){var i=r;if(r.charAt(0)==="/"){i=a.join(t.root,r)}else if(l(r)||r===""){i=r}else if(t.changedCwd){i=a.resolve(t.cwd,r)}else{i=a.resolve(r)}if(process.platform==="win32")i=i.replace(/\\/g,"/");return i}function isIgnored(t,r){if(!t.ignore.length)return false;return t.ignore.some((function(t){return t.matcher.match(r)||!!(t.gmatcher&&t.gmatcher.match(r))}))}function childrenIgnored(t,r){if(!t.ignore.length)return false;return t.ignore.some((function(t){return!!(t.gmatcher&&t.gmatcher.match(r))}))}},4991:(t,r,i)=>{t.exports=glob;var o=i(3981);var a=i(8923);var c=a.Minimatch;var l=i(2842);var h=i(2361).EventEmitter;var u=i(1017);var d=i(9491);var p=i(6230);var m=i(4003);var g=i(569);var y=g.setopts;var b=g.ownProp;var v=i(8143);var w=i(3837);var _=g.childrenIgnored;var E=g.isIgnored;var S=i(9852);function glob(t,r,i){if(typeof r==="function")i=r,r={};if(!r)r={};if(r.sync){if(i)throw new TypeError("callback provided to sync glob");return m(t,r)}return new Glob(t,r,i)}glob.sync=m;var O=glob.GlobSync=m.GlobSync;glob.glob=glob;function extend(t,r){if(r===null||typeof r!=="object"){return t}var i=Object.keys(r);var o=i.length;while(o--){t[i[o]]=r[i[o]]}return t}glob.hasMagic=function(t,r){var i=extend({},r);i.noprocess=true;var o=new Glob(t,i);var a=o.minimatch.set;if(!t)return false;if(a.length>1)return true;for(var c=0;c<a[0].length;c++){if(typeof a[0][c]!=="string")return true}return false};glob.Glob=Glob;l(Glob,h);function Glob(t,r,i){if(typeof r==="function"){i=r;r=null}if(r&&r.sync){if(i)throw new TypeError("callback provided to sync glob");return new O(t,r)}if(!(this instanceof Glob))return new Glob(t,r,i);y(this,t,r);this._didRealPath=false;var o=this.minimatch.set.length;this.matches=new Array(o);if(typeof i==="function"){i=S(i);this.on("error",i);this.on("end",(function(t){i(null,t)}))}var a=this;this._processing=0;this._emitQueue=[];this._processQueue=[];this.paused=false;if(this.noprocess)return this;if(o===0)return done();var c=true;for(var l=0;l<o;l++){this._process(this.minimatch.set[l],l,false,done)}c=false;function done(){--a._processing;if(a._processing<=0){if(c){process.nextTick((function(){a._finish()}))}else{a._finish()}}}}Glob.prototype._finish=function(){d(this instanceof Glob);if(this.aborted)return;if(this.realpath&&!this._didRealpath)return this._realpath();g.finish(this);this.emit("end",this.found)};Glob.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=true;var t=this.matches.length;if(t===0)return this._finish();var r=this;for(var i=0;i<this.matches.length;i++)this._realpathSet(i,next);function next(){if(--t===0)r._finish()}};Glob.prototype._realpathSet=function(t,r){var i=this.matches[t];if(!i)return r();var a=Object.keys(i);var c=this;var l=a.length;if(l===0)return r();var h=this.matches[t]=Object.create(null);a.forEach((function(i,a){i=c._makeAbs(i);o.realpath(i,c.realpathCache,(function(o,a){if(!o)h[a]=true;else if(o.syscall==="stat")h[i]=true;else c.emit("error",o);if(--l===0){c.matches[t]=h;r()}}))}))};Glob.prototype._mark=function(t){return g.mark(this,t)};Glob.prototype._makeAbs=function(t){return g.makeAbs(this,t)};Glob.prototype.abort=function(){this.aborted=true;this.emit("abort")};Glob.prototype.pause=function(){if(!this.paused){this.paused=true;this.emit("pause")}};Glob.prototype.resume=function(){if(this.paused){this.emit("resume");this.paused=false;if(this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var r=0;r<t.length;r++){var i=t[r];this._emitMatch(i[0],i[1])}}if(this._processQueue.length){var o=this._processQueue.slice(0);this._processQueue.length=0;for(var r=0;r<o.length;r++){var a=o[r];this._processing--;this._process(a[0],a[1],a[2],a[3])}}}};Glob.prototype._process=function(t,r,i,o){d(this instanceof Glob);d(typeof o==="function");if(this.aborted)return;this._processing++;if(this.paused){this._processQueue.push([t,r,i,o]);return}var c=0;while(typeof t[c]==="string"){c++}var l;switch(c){case t.length:this._processSimple(t.join("/"),r,o);return;case 0:l=null;break;default:l=t.slice(0,c).join("/");break}var h=t.slice(c);var u;if(l===null)u=".";else if(p(l)||p(t.map((function(t){return typeof t==="string"?t:"[*]"})).join("/"))){if(!l||!p(l))l="/"+l;u=l}else u=l;var m=this._makeAbs(u);if(_(this,u))return o();var g=h[0]===a.GLOBSTAR;if(g)this._processGlobStar(l,u,m,h,r,i,o);else this._processReaddir(l,u,m,h,r,i,o)};Glob.prototype._processReaddir=function(t,r,i,o,a,c,l){var h=this;this._readdir(i,c,(function(u,d){return h._processReaddir2(t,r,i,o,a,c,d,l)}))};Glob.prototype._processReaddir2=function(t,r,i,o,a,c,l,h){if(!l)return h();var d=o[0];var p=!!this.minimatch.negate;var m=d._glob;var g=this.dot||m.charAt(0)===".";var y=[];for(var b=0;b<l.length;b++){var v=l[b];if(v.charAt(0)!=="."||g){var w;if(p&&!t){w=!v.match(d)}else{w=v.match(d)}if(w)y.push(v)}}var _=y.length;if(_===0)return h();if(o.length===1&&!this.mark&&!this.stat){if(!this.matches[a])this.matches[a]=Object.create(null);for(var b=0;b<_;b++){var v=y[b];if(t){if(t!=="/")v=t+"/"+v;else v=t+v}if(v.charAt(0)==="/"&&!this.nomount){v=u.join(this.root,v)}this._emitMatch(a,v)}return h()}o.shift();for(var b=0;b<_;b++){var v=y[b];var E;if(t){if(t!=="/")v=t+"/"+v;else v=t+v}this._process([v].concat(o),a,c,h)}h()};Glob.prototype._emitMatch=function(t,r){if(this.aborted)return;if(E(this,r))return;if(this.paused){this._emitQueue.push([t,r]);return}var i=p(r)?r:this._makeAbs(r);if(this.mark)r=this._mark(r);if(this.absolute)r=i;if(this.matches[t][r])return;if(this.nodir){var o=this.cache[i];if(o==="DIR"||Array.isArray(o))return}this.matches[t][r]=true;var a=this.statCache[i];if(a)this.emit("stat",r,a);this.emit("match",r)};Glob.prototype._readdirInGlobStar=function(t,r){if(this.aborted)return;if(this.follow)return this._readdir(t,false,r);var i="lstat\0"+t;var o=this;var a=v(i,lstatcb_);if(a)o.fs.lstat(t,a);function lstatcb_(i,a){if(i&&i.code==="ENOENT")return r();var c=a&&a.isSymbolicLink();o.symlinks[t]=c;if(!c&&a&&!a.isDirectory()){o.cache[t]="FILE";r()}else o._readdir(t,false,r)}};Glob.prototype._readdir=function(t,r,i){if(this.aborted)return;i=v("readdir\0"+t+"\0"+r,i);if(!i)return;if(r&&!b(this.symlinks,t))return this._readdirInGlobStar(t,i);if(b(this.cache,t)){var o=this.cache[t];if(!o||o==="FILE")return i();if(Array.isArray(o))return i(null,o)}var a=this;a.fs.readdir(t,readdirCb(this,t,i))};function readdirCb(t,r,i){return function(o,a){if(o)t._readdirError(r,o,i);else t._readdirEntries(r,a,i)}}Glob.prototype._readdirEntries=function(t,r,i){if(this.aborted)return;if(!this.mark&&!this.stat){for(var o=0;o<r.length;o++){var a=r[o];if(t==="/")a=t+a;else a=t+"/"+a;this.cache[a]=true}}this.cache[t]=r;return i(null,r)};Glob.prototype._readdirError=function(t,r,i){if(this.aborted)return;switch(r.code){case"ENOTSUP":case"ENOTDIR":var o=this._makeAbs(t);this.cache[o]="FILE";if(o===this.cwdAbs){var a=new Error(r.code+" invalid cwd "+this.cwd);a.path=this.cwd;a.code=r.code;this.emit("error",a);this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=false;break;default:this.cache[this._makeAbs(t)]=false;if(this.strict){this.emit("error",r);this.abort()}if(!this.silent)console.error("glob error",r);break}return i()};Glob.prototype._processGlobStar=function(t,r,i,o,a,c,l){var h=this;this._readdir(i,c,(function(u,d){h._processGlobStar2(t,r,i,o,a,c,d,l)}))};Glob.prototype._processGlobStar2=function(t,r,i,o,a,c,l,h){if(!l)return h();var u=o.slice(1);var d=t?[t]:[];var p=d.concat(u);this._process(p,a,false,h);var m=this.symlinks[i];var g=l.length;if(m&&c)return h();for(var y=0;y<g;y++){var b=l[y];if(b.charAt(0)==="."&&!this.dot)continue;var v=d.concat(l[y],u);this._process(v,a,true,h);var w=d.concat(l[y],o);this._process(w,a,true,h)}h()};Glob.prototype._processSimple=function(t,r,i){var o=this;this._stat(t,(function(a,c){o._processSimple2(t,r,a,c,i)}))};Glob.prototype._processSimple2=function(t,r,i,o,a){if(!this.matches[r])this.matches[r]=Object.create(null);if(!o)return a();if(t&&p(t)&&!this.nomount){var c=/[\/\\]$/.test(t);if(t.charAt(0)==="/"){t=u.join(this.root,t)}else{t=u.resolve(this.root,t);if(c)t+="/"}}if(process.platform==="win32")t=t.replace(/\\/g,"/");this._emitMatch(r,t);a()};Glob.prototype._stat=function(t,r){var i=this._makeAbs(t);var o=t.slice(-1)==="/";if(t.length>this.maxLength)return r();if(!this.stat&&b(this.cache,i)){var a=this.cache[i];if(Array.isArray(a))a="DIR";if(!o||a==="DIR")return r(null,a);if(o&&a==="FILE")return r()}var c;var l=this.statCache[i];if(l!==undefined){if(l===false)return r(null,l);else{var h=l.isDirectory()?"DIR":"FILE";if(o&&h==="FILE")return r();else return r(null,h,l)}}var u=this;var d=v("stat\0"+i,lstatcb_);if(d)u.fs.lstat(i,d);function lstatcb_(o,a){if(a&&a.isSymbolicLink()){return u.fs.stat(i,(function(o,c){if(o)u._stat2(t,i,null,a,r);else u._stat2(t,i,o,c,r)}))}else{u._stat2(t,i,o,a,r)}}};Glob.prototype._stat2=function(t,r,i,o,a){if(i&&(i.code==="ENOENT"||i.code==="ENOTDIR")){this.statCache[r]=false;return a()}var c=t.slice(-1)==="/";this.statCache[r]=o;if(r.slice(-1)==="/"&&o&&!o.isDirectory())return a(null,false,o);var l=true;if(o)l=o.isDirectory()?"DIR":"FILE";this.cache[r]=this.cache[r]||l;if(c&&l==="FILE")return a();return a(null,l,o)}},4003:(t,r,i)=>{t.exports=globSync;globSync.GlobSync=GlobSync;var o=i(3981);var a=i(8923);var c=a.Minimatch;var l=i(4991).Glob;var h=i(3837);var u=i(1017);var d=i(9491);var p=i(6230);var m=i(569);var g=m.setopts;var y=m.ownProp;var b=m.childrenIgnored;var v=m.isIgnored;function globSync(t,r){if(typeof r==="function"||arguments.length===3)throw new TypeError("callback provided to sync glob\n"+"See: https://github.com/isaacs/node-glob/issues/167");return new GlobSync(t,r).found}function GlobSync(t,r){if(!t)throw new Error("must provide pattern");if(typeof r==="function"||arguments.length===3)throw new TypeError("callback provided to sync glob\n"+"See: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof GlobSync))return new GlobSync(t,r);g(this,t,r);if(this.noprocess)return this;var i=this.minimatch.set.length;this.matches=new Array(i);for(var o=0;o<i;o++){this._process(this.minimatch.set[o],o,false)}this._finish()}GlobSync.prototype._finish=function(){d.ok(this instanceof GlobSync);if(this.realpath){var t=this;this.matches.forEach((function(r,i){var a=t.matches[i]=Object.create(null);for(var c in r){try{c=t._makeAbs(c);var l=o.realpathSync(c,t.realpathCache);a[l]=true}catch(r){if(r.syscall==="stat")a[t._makeAbs(c)]=true;else throw r}}}))}m.finish(this)};GlobSync.prototype._process=function(t,r,i){d.ok(this instanceof GlobSync);var o=0;while(typeof t[o]==="string"){o++}var c;switch(o){case t.length:this._processSimple(t.join("/"),r);return;case 0:c=null;break;default:c=t.slice(0,o).join("/");break}var l=t.slice(o);var h;if(c===null)h=".";else if(p(c)||p(t.map((function(t){return typeof t==="string"?t:"[*]"})).join("/"))){if(!c||!p(c))c="/"+c;h=c}else h=c;var u=this._makeAbs(h);if(b(this,h))return;var m=l[0]===a.GLOBSTAR;if(m)this._processGlobStar(c,h,u,l,r,i);else this._processReaddir(c,h,u,l,r,i)};GlobSync.prototype._processReaddir=function(t,r,i,o,a,c){var l=this._readdir(i,c);if(!l)return;var h=o[0];var d=!!this.minimatch.negate;var p=h._glob;var m=this.dot||p.charAt(0)===".";var g=[];for(var y=0;y<l.length;y++){var b=l[y];if(b.charAt(0)!=="."||m){var v;if(d&&!t){v=!b.match(h)}else{v=b.match(h)}if(v)g.push(b)}}var w=g.length;if(w===0)return;if(o.length===1&&!this.mark&&!this.stat){if(!this.matches[a])this.matches[a]=Object.create(null);for(var y=0;y<w;y++){var b=g[y];if(t){if(t.slice(-1)!=="/")b=t+"/"+b;else b=t+b}if(b.charAt(0)==="/"&&!this.nomount){b=u.join(this.root,b)}this._emitMatch(a,b)}return}o.shift();for(var y=0;y<w;y++){var b=g[y];var _;if(t)_=[t,b];else _=[b];this._process(_.concat(o),a,c)}};GlobSync.prototype._emitMatch=function(t,r){if(v(this,r))return;var i=this._makeAbs(r);if(this.mark)r=this._mark(r);if(this.absolute){r=i}if(this.matches[t][r])return;if(this.nodir){var o=this.cache[i];if(o==="DIR"||Array.isArray(o))return}this.matches[t][r]=true;if(this.stat)this._stat(r)};GlobSync.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,false);var r;var i;var o;try{i=this.fs.lstatSync(t)}catch(t){if(t.code==="ENOENT"){return null}}var a=i&&i.isSymbolicLink();this.symlinks[t]=a;if(!a&&i&&!i.isDirectory())this.cache[t]="FILE";else r=this._readdir(t,false);return r};GlobSync.prototype._readdir=function(t,r){var i;if(r&&!y(this.symlinks,t))return this._readdirInGlobStar(t);if(y(this.cache,t)){var o=this.cache[t];if(!o||o==="FILE")return null;if(Array.isArray(o))return o}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(r){this._readdirError(t,r);return null}};GlobSync.prototype._readdirEntries=function(t,r){if(!this.mark&&!this.stat){for(var i=0;i<r.length;i++){var o=r[i];if(t==="/")o=t+o;else o=t+"/"+o;this.cache[o]=true}}this.cache[t]=r;return r};GlobSync.prototype._readdirError=function(t,r){switch(r.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(t);this.cache[i]="FILE";if(i===this.cwdAbs){var o=new Error(r.code+" invalid cwd "+this.cwd);o.path=this.cwd;o.code=r.code;throw o}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=false;break;default:this.cache[this._makeAbs(t)]=false;if(this.strict)throw r;if(!this.silent)console.error("glob error",r);break}};GlobSync.prototype._processGlobStar=function(t,r,i,o,a,c){var l=this._readdir(i,c);if(!l)return;var h=o.slice(1);var u=t?[t]:[];var d=u.concat(h);this._process(d,a,false);var p=l.length;var m=this.symlinks[i];if(m&&c)return;for(var g=0;g<p;g++){var y=l[g];if(y.charAt(0)==="."&&!this.dot)continue;var b=u.concat(l[g],h);this._process(b,a,true);var v=u.concat(l[g],o);this._process(v,a,true)}};GlobSync.prototype._processSimple=function(t,r){var i=this._stat(t);if(!this.matches[r])this.matches[r]=Object.create(null);if(!i)return;if(t&&p(t)&&!this.nomount){var o=/[\/\\]$/.test(t);if(t.charAt(0)==="/"){t=u.join(this.root,t)}else{t=u.resolve(this.root,t);if(o)t+="/"}}if(process.platform==="win32")t=t.replace(/\\/g,"/");this._emitMatch(r,t)};GlobSync.prototype._stat=function(t){var r=this._makeAbs(t);var i=t.slice(-1)==="/";if(t.length>this.maxLength)return false;if(!this.stat&&y(this.cache,r)){var o=this.cache[r];if(Array.isArray(o))o="DIR";if(!i||o==="DIR")return o;if(i&&o==="FILE")return false}var a;var c=this.statCache[r];if(!c){var l;try{l=this.fs.lstatSync(r)}catch(t){if(t&&(t.code==="ENOENT"||t.code==="ENOTDIR")){this.statCache[r]=false;return false}}if(l&&l.isSymbolicLink()){try{c=this.fs.statSync(r)}catch(t){c=l}}else{c=l}}this.statCache[r]=c;var o=true;if(c)o=c.isDirectory()?"DIR":"FILE";this.cache[r]=this.cache[r]||o;if(i&&o==="FILE")return false;return o};GlobSync.prototype._mark=function(t){return m.mark(this,t)};GlobSync.prototype._makeAbs=function(t){return m.makeAbs(this,t)}},1454:t=>{"use strict";const r=new Set([200,203,204,206,300,301,404,405,410,414,501]);const i=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]);const o=new Set([500,502,503,504]);const a={date:true,connection:true,"keep-alive":true,"proxy-authenticate":true,"proxy-authorization":true,te:true,trailer:true,"transfer-encoding":true,upgrade:true};const c={"content-length":true,"content-encoding":true,"transfer-encoding":true,"content-range":true};function toNumberOrZero(t){const r=parseInt(t,10);return isFinite(r)?r:0}function isErrorResponse(t){if(!t){return true}return o.has(t.status)}function parseCacheControl(t){const r={};if(!t)return r;const i=t.trim().split(/\s*,\s*/);for(const t of i){const[i,o]=t.split(/\s*=\s*/,2);r[i]=o===undefined?true:o.replace(/^"|"$/g,"")}return r}function formatCacheControl(t){let r=[];for(const i in t){const o=t[i];r.push(o===true?i:i+"="+o)}if(!r.length){return undefined}return r.join(", ")}t.exports=class CachePolicy{constructor(t,r,{shared:i,cacheHeuristic:o,immutableMinTimeToLive:a,ignoreCargoCult:c,_fromObject:l}={}){if(l){this._fromObject(l);return}if(!r||!r.headers){throw Error("Response headers missing")}this._assertRequestHasHeaders(t);this._responseTime=this.now();this._isShared=i!==false;this._cacheHeuristic=undefined!==o?o:.1;this._immutableMinTtl=undefined!==a?a:24*3600*1e3;this._status="status"in r?r.status:200;this._resHeaders=r.headers;this._rescc=parseCacheControl(r.headers["cache-control"]);this._method="method"in t?t.method:"GET";this._url=t.url;this._host=t.headers.host;this._noAuthorization=!t.headers.authorization;this._reqHeaders=r.headers.vary?t.headers:null;this._reqcc=parseCacheControl(t.headers["cache-control"]);if(c&&"pre-check"in this._rescc&&"post-check"in this._rescc){delete this._rescc["pre-check"];delete this._rescc["post-check"];delete this._rescc["no-cache"];delete this._rescc["no-store"];delete this._rescc["must-revalidate"];this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":formatCacheControl(this._rescc)});delete this._resHeaders.expires;delete this._resHeaders.pragma}if(r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)){this._rescc["no-cache"]=true}}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&("GET"===this._method||"HEAD"===this._method||"POST"===this._method&&this._hasExplicitExpiration())&&i.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||r.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers){throw Error("Request headers missing")}}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);const r=parseCacheControl(t.headers["cache-control"]);if(r["no-cache"]||/no-cache/.test(t.headers.pragma)){return false}if(r["max-age"]&&this.age()>r["max-age"]){return false}if(r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]){return false}if(this.stale()){const t=r["max-stale"]&&!this._rescc["must-revalidate"]&&(true===r["max-stale"]||r["max-stale"]>this.age()-this.maxAge());if(!t){return false}}return this._requestMatches(t,false)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&"HEAD"===t.method)&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary){return true}if(this._resHeaders.vary==="*"){return false}const r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(const i of r){if(t.headers[i]!==this._reqHeaders[i])return false}return true}_copyWithoutHopByHopHeaders(t){const r={};for(const i in t){if(a[i])continue;r[i]=t[i]}if(t.connection){const i=t.connection.trim().split(/\s*,\s*/);for(const t of i){delete r[t]}}if(r.warning){const t=r.warning.split(/,/).filter((t=>!/^\s*1[0-9][0-9]/.test(t)));if(!t.length){delete r.warning}else{r.warning=t.join(",").trim()}}return r}responseHeaders(){const t=this._copyWithoutHopByHopHeaders(this._resHeaders);const r=this.age();if(r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24){t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'}t.age=`${Math.round(r)}`;t.date=new Date(this.now()).toUTCString();return t}date(){const t=Date.parse(this._resHeaders.date);if(isFinite(t)){return t}return this._responseTime}age(){let t=this._ageValue();const r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return toNumberOrZero(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]){return 0}if(this._isShared&&(this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable)){return 0}if(this._resHeaders.vary==="*"){return 0}if(this._isShared){if(this._rescc["proxy-revalidate"]){return 0}if(this._rescc["s-maxage"]){return toNumberOrZero(this._rescc["s-maxage"])}}if(this._rescc["max-age"]){return toNumberOrZero(this._rescc["max-age"])}const t=this._rescc.immutable?this._immutableMinTtl:0;const r=this.date();if(this._resHeaders.expires){const i=Date.parse(this._resHeaders.expires);if(Number.isNaN(i)||i<r){return 0}return Math.max(t,(i-r)/1e3)}if(this._resHeaders["last-modified"]){const i=Date.parse(this._resHeaders["last-modified"]);if(isFinite(i)&&r>i){return Math.max(t,(r-i)/1e3*this._cacheHeuristic)}}return t}timeToLive(){const t=this.maxAge()-this.age();const r=t+toNumberOrZero(this._rescc["stale-if-error"]);const i=t+toNumberOrZero(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,i)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+toNumberOrZero(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+toNumberOrZero(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(undefined,undefined,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t;this._isShared=t.sh;this._cacheHeuristic=t.ch;this._immutableMinTtl=t.imm!==undefined?t.imm:24*3600*1e3;this._status=t.st;this._resHeaders=t.resh;this._rescc=t.rescc;this._method=t.m;this._url=t.u;this._host=t.h;this._noAuthorization=t.a;this._reqHeaders=t.reqh;this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);const r=this._copyWithoutHopByHopHeaders(t.headers);delete r["if-range"];if(!this._requestMatches(t,true)||!this.storable()){delete r["if-none-match"];delete r["if-modified-since"];return r}if(this._resHeaders.etag){r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag}const i=r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET";if(i){delete r["if-modified-since"];if(r["if-none-match"]){const t=r["if-none-match"].split(/,/).filter((t=>!/^\s*W\//.test(t)));if(!t.length){delete r["if-none-match"]}else{r["if-none-match"]=t.join(",").trim()}}}else if(this._resHeaders["last-modified"]&&!r["if-modified-since"]){r["if-modified-since"]=this._resHeaders["last-modified"]}return r}revalidatedPolicy(t,r){this._assertRequestHasHeaders(t);if(this._useStaleIfError()&&isErrorResponse(r)){return{modified:false,matches:false,policy:this}}if(!r||!r.headers){throw Error("Response headers missing")}let i=false;if(r.status!==undefined&&r.status!=304){i=false}else if(r.headers.etag&&!/^\s*W\//.test(r.headers.etag)){i=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag}else if(this._resHeaders.etag&&r.headers.etag){i=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,"")}else if(this._resHeaders["last-modified"]){i=this._resHeaders["last-modified"]===r.headers["last-modified"]}else{if(!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]){i=true}}if(!i){return{policy:new this.constructor(t,r),modified:r.status!=304,matches:false}}const o={};for(const t in this._resHeaders){o[t]=t in r.headers&&!c[t]?r.headers[t]:this._resHeaders[t]}const a=Object.assign({},r,{status:this._status,method:this._method,headers:o});return{policy:new this.constructor(t,a,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:false,matches:true}}}},4828:(t,r,i)=>{"use strict";const{URL:o}=i(7310);const a=i(2361);const c=i(4404);const l=i(5158);const h=i(6664);const u=i(7253);const d=Symbol("currentStreamCount");const p=Symbol("request");const m=Symbol("cachedOriginSet");const g=Symbol("gracefullyClosing");const y=Symbol("length");const b=["createConnection","maxDeflateDynamicTableSize","maxSettings","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","peerMaxConcurrentStreams","settings","family","localAddress","rejectUnauthorized","pskCallback","minDHSize","path","socket","ca","cert","sigalgs","ciphers","clientCertEngine","crl","dhparam","ecdhCurve","honorCipherOrder","key","privateKeyEngine","privateKeyIdentifier","maxVersion","minVersion","pfx","secureOptions","secureProtocol","sessionIdContext","ticketKeys"];const getSortedIndex=(t,r,i)=>{let o=0;let a=t.length;while(o<a){const c=o+a>>>1;if(i(t[c],r)){o=c+1}else{a=c}}return o};const compareSessions=(t,r)=>t.remoteSettings.maxConcurrentStreams>r.remoteSettings.maxConcurrentStreams;const closeCoveredSessions=(t,r)=>{for(let i=0;i<t.length;i++){const o=t[i];if(o[m].length>0&&o[m].length<r[m].length&&o[m].every((t=>r[m].includes(t)))&&o[d]+r[d]<=r.remoteSettings.maxConcurrentStreams){gracefullyClose(o)}}};const closeSessionIfCovered=(t,r)=>{for(let i=0;i<t.length;i++){const o=t[i];if(r[m].length>0&&r[m].length<o[m].length&&r[m].every((t=>o[m].includes(t)))&&r[d]+o[d]<=o.remoteSettings.maxConcurrentStreams){gracefullyClose(r);return true}}return false};const gracefullyClose=t=>{t[g]=true;if(t[d]===0){t.close()}};class Agent extends a{constructor({timeout:t=0,maxSessions:r=Number.POSITIVE_INFINITY,maxEmptySessions:i=10,maxCachedTlsSessions:o=100}={}){super();this.sessions={};this.queue={};this.timeout=t;this.maxSessions=r;this.maxEmptySessions=i;this._emptySessionCount=0;this._sessionCount=0;this.settings={enablePush:false,initialWindowSize:1024*1024*32};this.tlsSessionCache=new h({maxSize:o})}get protocol(){return"https:"}normalizeOptions(t){let r="";for(let i=0;i<b.length;i++){const o=b[i];r+=":";if(t&&t[o]!==undefined){r+=t[o]}}return r}_processQueue(){if(this._sessionCount>=this.maxSessions){this.closeEmptySessions(this.maxSessions-this._sessionCount+1);return}for(const t in this.queue){for(const r in this.queue[t]){const i=this.queue[t][r];if(!i.completed){i.completed=true;i()}}}}_isBetterSession(t,r){return t>r}_accept(t,r,i,o){let a=0;while(a<r.length&&t[d]<t.remoteSettings.maxConcurrentStreams){r[a].resolve(t);a++}r.splice(0,a);if(r.length>0){this.getSession(i,o,r);r.length=0}}getSession(t,r,i){return new Promise(((a,c)=>{if(Array.isArray(i)&&i.length>0){i=[...i];a()}else{i=[{resolve:a,reject:c}]}try{if(typeof t==="string"){t=new o(t)}else if(!(t instanceof o)){throw new TypeError("The `origin` argument needs to be a string or an URL object")}if(r){const{servername:i}=r;const{hostname:o}=t;if(i&&o!==i){throw new Error(`Origin ${o} differs from servername ${i}`)}}}catch(t){for(let r=0;r<i.length;r++){i[r].reject(t)}return}const h=this.normalizeOptions(r);const u=t.origin;if(h in this.sessions){const t=this.sessions[h];let o=-1;let a=-1;let c;for(let r=0;r<t.length;r++){const i=t[r];const l=i.remoteSettings.maxConcurrentStreams;if(l<o){break}if(!i[m].includes(u)){continue}const h=i[d];if(h>=l||i[g]||i.destroyed){continue}if(!c){o=l}if(this._isBetterSession(h,a)){c=i;a=h}}if(c){this._accept(c,i,u,r);return}}if(h in this.queue){if(u in this.queue[h]){this.queue[h][u].listeners.push(...i);return}}else{this.queue[h]={[y]:0}}const removeFromQueue=()=>{if(h in this.queue&&this.queue[h][u]===entry){delete this.queue[h][u];if(--this.queue[h][y]===0){delete this.queue[h]}}};const entry=async()=>{this._sessionCount++;const o=`${u}:${h}`;let a=false;let c;try{const b={...r};if(b.settings===undefined){b.settings=this.settings}if(b.session===undefined){b.session=this.tlsSessionCache.get(o)}const v=b.createConnection||this.createConnection;c=await v.call(this,t,b);b.createConnection=()=>c;const w=l.connect(t,b);w[d]=0;w[g]=false;const getOriginSet=()=>{const{socket:t}=w;let r;if(t.servername===false){t.servername=t.remoteAddress;r=w.originSet;t.servername=false}else{r=w.originSet}return r};const isFree=()=>w[d]<w.remoteSettings.maxConcurrentStreams;w.socket.once("session",(t=>{this.tlsSessionCache.set(o,t)}));w.once("error",(t=>{for(let r=0;r<i.length;r++){i[r].reject(t)}this.tlsSessionCache.delete(o)}));w.setTimeout(this.timeout,(()=>{w.destroy()}));w.once("close",(()=>{this._sessionCount--;if(a){this._emptySessionCount--;const t=this.sessions[h];if(t.length===1){delete this.sessions[h]}else{t.splice(t.indexOf(w),1)}}else{removeFromQueue();const t=new Error("Session closed without receiving a SETTINGS frame");t.code="HTTP2WRAPPER_NOSETTINGS";for(let r=0;r<i.length;r++){i[r].reject(t)}}this._processQueue()}));const processListeners=()=>{const t=this.queue[h];if(!t){return}const r=w[m];for(let i=0;i<r.length;i++){const o=r[i];if(o in t){const{listeners:r,completed:i}=t[o];let a=0;while(a<r.length&&isFree()){r[a].resolve(w);a++}t[o].listeners.splice(0,a);if(t[o].listeners.length===0&&!i){delete t[o];if(--t[y]===0){delete this.queue[h];break}}if(!isFree()){break}}}};w.on("origin",(()=>{w[m]=getOriginSet()||[];w[g]=false;closeSessionIfCovered(this.sessions[h],w);if(w[g]||!isFree()){return}processListeners();if(!isFree()){return}closeCoveredSessions(this.sessions[h],w)}));w.once("remoteSettings",(()=>{if(entry.destroyed){const t=new Error("Agent has been destroyed");for(let r=0;r<i.length;r++){i[r].reject(t)}w.destroy();return}if(w.setLocalWindowSize){w.setLocalWindowSize(1024*1024*4)}w[m]=getOriginSet()||[];if(w.socket.encrypted){const t=w[m][0];if(t!==u){const r=new Error(`Requested origin ${u} does not match server ${t}`);for(let t=0;t<i.length;t++){i[t].reject(r)}w.destroy();return}}removeFromQueue();{const t=this.sessions;if(h in t){const r=t[h];r.splice(getSortedIndex(r,w,compareSessions),0,w)}else{t[h]=[w]}}a=true;this._emptySessionCount++;this.emit("session",w);this._accept(w,i,u,r);if(w[d]===0&&this._emptySessionCount>this.maxEmptySessions){this.closeEmptySessions(this._emptySessionCount-this.maxEmptySessions)}w.on("remoteSettings",(()=>{if(!isFree()){return}processListeners();if(!isFree()){return}closeCoveredSessions(this.sessions[h],w)}))}));w[p]=w.request;w.request=(t,r)=>{if(w[g]){throw new Error("The session is gracefully closing. No new streams are allowed.")}const i=w[p](t,r);w.ref();if(w[d]++===0){this._emptySessionCount--}i.once("close",(()=>{if(--w[d]===0){this._emptySessionCount++;w.unref();if(this._emptySessionCount>this.maxEmptySessions||w[g]){w.close();return}}if(w.destroyed||w.closed){return}if(isFree()&&!closeSessionIfCovered(this.sessions[h],w)){closeCoveredSessions(this.sessions[h],w);processListeners();if(w[d]===0){this._processQueue()}}}));return i}}catch(t){removeFromQueue();this._sessionCount--;for(let r=0;r<i.length;r++){i[r].reject(t)}}};entry.listeners=i;entry.completed=false;entry.destroyed=false;this.queue[h][u]=entry;this.queue[h][y]++;this._processQueue()}))}request(t,r,i,o){return new Promise(((a,c)=>{this.getSession(t,r,[{reject:c,resolve:t=>{try{const r=t.request(i,o);u(r);a(r)}catch(t){c(t)}}}])}))}async createConnection(t,r){return Agent.connect(t,r)}static connect(t,r){r.ALPNProtocols=["h2"];const i=t.port||443;const o=t.hostname;if(typeof r.servername==="undefined"){r.servername=o}const a=c.connect(i,o,r);if(r.socket){a._peername={family:undefined,address:undefined,port:i}}return a}closeEmptySessions(t=Number.POSITIVE_INFINITY){let r=0;const{sessions:i}=this;for(const o in i){const a=i[o];for(let i=0;i<a.length;i++){const o=a[i];if(o[d]===0){r++;o.close();if(r>=t){return r}}}}return r}destroy(t){const{sessions:r,queue:i}=this;for(const i in r){const o=r[i];for(let r=0;r<o.length;r++){o[r].destroy(t)}}for(const t in i){const r=i[t];for(const t in r){r[t].destroyed=true}}this.queue={};this.tlsSessionCache.clear()}get emptySessionCount(){return this._emptySessionCount}get pendingSessionCount(){return this._sessionCount-this._emptySessionCount}get sessionCount(){return this._sessionCount}}Agent.kCurrentStreamCount=d;Agent.kGracefullyClosing=g;t.exports={Agent:Agent,globalAgent:new Agent}},3942:(t,r,i)=>{"use strict";const{URL:o,urlToHttpOptions:a}=i(7310);const c=i(3685);const l=i(5687);const h=i(8826);const u=i(6664);const{Agent:d,globalAgent:p}=i(4828);const m=i(6496);const g=i(3671);const y=i(7253);const b=new u({maxSize:100});const v=new Map;const installSocket=(t,r,i)=>{r._httpMessage={shouldKeepAlive:true};const onFree=()=>{t.emit("free",r,i)};r.on("free",onFree);const onClose=()=>{t.removeSocket(r,i)};r.on("close",onClose);const onTimeout=()=>{const{freeSockets:i}=t;for(const t of Object.values(i)){if(t.includes(r)){r.destroy();return}}};r.on("timeout",onTimeout);const onRemove=()=>{t.removeSocket(r,i);r.off("close",onClose);r.off("free",onFree);r.off("timeout",onTimeout);r.off("agentRemove",onRemove)};r.on("agentRemove",onRemove);t.emit("free",r,i)};const createResolveProtocol=(t,r=new Map,i=undefined)=>async o=>{const a=`${o.host}:${o.port}:${o.ALPNProtocols.sort()}`;if(!t.has(a)){if(r.has(a)){const t=await r.get(a);return{alpnProtocol:t.alpnProtocol}}const{path:c}=o;o.path=o.socketPath;const l=h(o,i);r.set(a,l);try{const i=await l;t.set(a,i.alpnProtocol);r.delete(a);o.path=c;return i}catch(t){r.delete(a);o.path=c;throw t}}return{alpnProtocol:t.get(a)}};const w=createResolveProtocol(b,v);t.exports=async(t,r,i)=>{if(typeof t==="string"){t=a(new o(t))}else if(t instanceof o){t=a(t)}else{t={...t}}if(typeof r==="function"||r===undefined){i=r;r=t}else{r=Object.assign(t,r)}r.ALPNProtocols=r.ALPNProtocols||["h2","http/1.1"];if(!Array.isArray(r.ALPNProtocols)||r.ALPNProtocols.length===0){throw new Error("The `ALPNProtocols` option must be an Array with at least one entry")}r.protocol=r.protocol||"https:";const h=r.protocol==="https:";r.host=r.hostname||r.host||"localhost";r.session=r.tlsSession;r.servername=r.servername||g(r.headers&&r.headers.host||r.host);r.port=r.port||(h?443:80);r._defaultAgent=h?l.globalAgent:c.globalAgent;const u=r.resolveProtocol||w;let{agent:b}=r;if(b!==undefined&&b!==false&&b.constructor.name!=="Object"){throw new Error("The `options.agent` can be only an object `http`, `https` or `http2` properties")}if(h){r.resolveSocket=true;let{socket:t,alpnProtocol:o,timeout:a}=await u(r);if(a){if(t){t.destroy()}const i=new Error(`Timed out resolving ALPN: ${r.timeout} ms`);i.code="ETIMEDOUT";i.ms=r.timeout;throw i}if(t&&r.createConnection){t.destroy();t=undefined}delete r.resolveSocket;const c=o==="h2";if(b){b=c?b.http2:b.https;r.agent=b}if(b===undefined){b=c?p:l.globalAgent}if(t){if(b===false){t.destroy()}else{const i=(c?d:l.Agent).prototype.createConnection;if(b.createConnection===i){if(c){r._reuseSocket=t}else{installSocket(b,t,r)}}else{t.destroy()}}}if(c){return y(new m(r,i))}}else if(b){r.agent=b.http}return y(c.request(r,i))};t.exports.protocolCache=b;t.exports.resolveProtocol=w;t.exports.createResolveProtocol=createResolveProtocol},6496:(t,r,i)=>{"use strict";const{URL:o,urlToHttpOptions:a}=i(7310);const c=i(5158);const{Writable:l}=i(2781);const{Agent:h,globalAgent:u}=i(4828);const d=i(4011);const p=i(1544);const{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_PROTOCOL:g,ERR_HTTP_HEADERS_SENT:y}=i(8635);const b=i(1091);const v=i(5590);const w=i(704);const{HTTP2_HEADER_STATUS:_,HTTP2_HEADER_METHOD:E,HTTP2_HEADER_PATH:S,HTTP2_HEADER_AUTHORITY:O,HTTP2_METHOD_CONNECT:x}=c.constants;const R=Symbol("headers");const T=Symbol("origin");const k=Symbol("session");const A=Symbol("options");const C=Symbol("flushedHeaders");const P=Symbol("jobs");const I=Symbol("pendingAgentPromise");class ClientRequest extends l{constructor(t,r,i){super({autoDestroy:false,emitClose:false});if(typeof t==="string"){t=a(new o(t))}else if(t instanceof o){t=a(t)}else{t={...t}}if(typeof r==="function"||r===undefined){i=r;r=t}else{r=Object.assign(t,r)}if(r.h2session){this[k]=r.h2session;if(this[k].destroyed){throw new Error("The session has been closed already")}this.protocol=this[k].socket.encrypted?"https:":"http:"}else if(r.agent===false){this.agent=new h({maxEmptySessions:0})}else if(typeof r.agent==="undefined"||r.agent===null){this.agent=u}else if(typeof r.agent.request==="function"){this.agent=r.agent}else{throw new m("options.agent",["http2wrapper.Agent-like Object","undefined","false"],r.agent)}if(this.agent){this.protocol=this.agent.protocol}if(r.protocol&&r.protocol!==this.protocol){throw new g(r.protocol,this.protocol)}if(!r.port){r.port=r.defaultPort||this.agent&&this.agent.defaultPort||443}r.host=r.hostname||r.host||"localhost";delete r.hostname;const{timeout:c}=r;r.timeout=undefined;this[R]=Object.create(null);this[P]=[];this[I]=undefined;this.socket=null;this.connection=null;this.method=r.method||"GET";if(!(this.method==="CONNECT"&&(r.path==="/"||r.path===undefined))){this.path=r.path}this.res=null;this.aborted=false;this.reusedSocket=false;const{headers:l}=r;if(l){for(const t in l){this.setHeader(t,l[t])}}if(r.auth&&!("authorization"in this[R])){this[R].authorization="Basic "+Buffer.from(r.auth).toString("base64")}r.session=r.tlsSession;r.path=r.socketPath;this[A]=r;this[T]=new o(`${this.protocol}//${r.servername||r.host}:${r.port}`);const d=r._reuseSocket;if(d){r.createConnection=(...t)=>{if(d.destroyed){return this.agent.createConnection(...t)}return d};this.agent.getSession(this[T],this[A]).catch((()=>{}))}if(c){this.setTimeout(c)}if(i){this.once("response",i)}this[C]=false}get method(){return this[R][E]}set method(t){if(t){this[R][E]=t.toUpperCase()}}get path(){const t=this.method==="CONNECT"?O:S;return this[R][t]}set path(t){if(t){const r=this.method==="CONNECT"?O:S;this[R][r]=t}}get host(){return this[T].hostname}set host(t){}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(t,r,i){if(this._mustNotHaveABody){i(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();const callWrite=()=>this._request.write(t,r,i);if(this._request){callWrite()}else{this[P].push(callWrite)}}_final(t){this.flushHeaders();const callEnd=()=>{if(this._mustNotHaveABody||this.method==="CONNECT"){t();return}this._request.end(t)};if(this._request){callEnd()}else{this[P].push(callEnd)}}abort(){if(this.res&&this.res.complete){return}if(!this.aborted){process.nextTick((()=>this.emit("abort")))}this.aborted=true;this.destroy()}async _destroy(t,r){if(this.res){this.res._dump()}if(this._request){this._request.destroy()}else{process.nextTick((()=>{this.emit("close")}))}try{await this[I]}catch(r){if(this.aborted){t=r}}r(t)}async flushHeaders(){if(this[C]||this.destroyed){return}this[C]=true;const t=this.method===x;const onStream=r=>{this._request=r;if(this.destroyed){r.destroy();return}if(!t){p(r,this,["timeout","continue"])}r.once("error",(t=>{this.destroy(t)}));r.once("aborted",(()=>{const{res:t}=this;if(t){t.aborted=true;t.emit("aborted");t.destroy()}else{this.destroy(new Error("The server aborted the HTTP/2 stream"))}}));const onResponse=(i,o,a)=>{const c=new d(this.socket,r.readableHighWaterMark);this.res=c;c.url=`${this[T].origin}${this.path}`;c.req=this;c.statusCode=i[_];c.headers=i;c.rawHeaders=a;c.once("end",(()=>{c.complete=true;c.socket=null;c.connection=null}));if(t){c.upgrade=true;if(this.emit("connect",c,r,Buffer.alloc(0))){this.emit("close")}else{r.destroy()}}else{r.on("data",(t=>{if(!c._dumped&&!c.push(t)){r.pause()}}));r.once("end",(()=>{if(!this.aborted){c.push(null)}}));if(!this.emit("response",c)){c._dump()}}};r.once("response",onResponse);r.once("headers",(t=>this.emit("information",{statusCode:t[_]})));r.once("trailers",((t,r,i)=>{const{res:o}=this;if(o===null){onResponse(t,r,i);return}o.trailers=t;o.rawTrailers=i}));r.once("close",(()=>{const{aborted:t,res:r}=this;if(r){if(t){r.aborted=true;r.emit("aborted");r.destroy()}const finish=()=>{r.emit("close");this.destroy();this.emit("close")};if(r.readable){r.once("end",finish)}else{finish()}return}if(!this.destroyed){this.destroy(new Error("The HTTP/2 stream has been early terminated"));this.emit("close");return}this.destroy();this.emit("close")}));this.socket=new Proxy(r,w);for(const t of this[P]){t()}this.emit("socket",this.socket)};if(!(O in this[R])&&!t){this[R][O]=this[T].host}if(this[k]){try{onStream(this[k].request(this[R]))}catch(t){this.destroy(t)}}else{this.reusedSocket=true;try{const t=this.agent.request(this[T],this[A],this[R]);this[I]=t;onStream(await t);this[I]=false}catch(t){this[I]=false;this.destroy(t)}}}get connection(){return this.socket}set connection(t){this.socket=t}getHeaderNames(){return Object.keys(this[R])}hasHeader(t){if(typeof t!=="string"){throw new m("name","string",t)}return Boolean(this[R][t.toLowerCase()])}getHeader(t){if(typeof t!=="string"){throw new m("name","string",t)}return this[R][t.toLowerCase()]}get headersSent(){return this[C]}removeHeader(t){if(typeof t!=="string"){throw new m("name","string",t)}if(this.headersSent){throw new y("remove")}delete this[R][t.toLowerCase()]}setHeader(t,r){if(this.headersSent){throw new y("set")}b(t);v(t,r);const i=t.toLowerCase();if(i==="connection"){if(r.toLowerCase()==="keep-alive"){return}throw new Error(`Invalid 'connection' header: ${r}`)}if(i==="host"&&this.method==="CONNECT"){this[R][O]=r}else{this[R][i]=r}}setNoDelay(){}setSocketKeepAlive(){}setTimeout(t,r){const applyTimeout=()=>this._request.setTimeout(t,r);if(this._request){applyTimeout()}else{this[P].push(applyTimeout)}return this}get maxHeadersCount(){if(!this.destroyed&&this._request){return this._request.session.localSettings.maxHeaderListSize}return undefined}set maxHeadersCount(t){}}t.exports=ClientRequest},4011:(t,r,i)=>{"use strict";const{Readable:o}=i(2781);class IncomingMessage extends o{constructor(t,r){super({emitClose:false,autoDestroy:true,highWaterMark:r});this.statusCode=null;this.statusMessage="";this.httpVersion="2.0";this.httpVersionMajor=2;this.httpVersionMinor=0;this.headers={};this.trailers={};this.req=null;this.aborted=false;this.complete=false;this.upgrade=null;this.rawHeaders=[];this.rawTrailers=[];this.socket=t;this._dumped=false}get connection(){return this.socket}set connection(t){this.socket=t}_destroy(t,r){if(!this.readableEnded){this.aborted=true}r();this.req._request.destroy(t)}setTimeout(t,r){this.req.setTimeout(t,r);return this}_dump(){if(!this._dumped){this._dumped=true;this.removeAllListeners("data");this.resume()}}_read(){if(this.req){this.req._request.resume()}}}t.exports=IncomingMessage},5767:(t,r,i)=>{"use strict";const o=i(5158);const{Agent:a,globalAgent:c}=i(4828);const l=i(6496);const h=i(4011);const u=i(3942);const{HttpOverHttp2:d,HttpsOverHttp2:p}=i(7570);const m=i(855);const{Http2OverHttp:g,Http2OverHttps:y}=i(5431);const b=i(1091);const v=i(5590);const request=(t,r,i)=>new l(t,r,i);const get=(t,r,i)=>{const o=new l(t,r,i);o.end();return o};t.exports={...o,ClientRequest:l,IncomingMessage:h,Agent:a,globalAgent:c,request:request,get:get,auto:u,proxies:{HttpOverHttp2:d,HttpsOverHttp2:p,Http2OverHttp2:m,Http2OverHttp:g,Http2OverHttps:y},validateHeaderName:b,validateHeaderValue:v}},5060:t=>{"use strict";t.exports=t=>{const{username:r,password:i}=t.proxyOptions.url;if(r||i){const t=`${r}:${i}`;const o=`Basic ${Buffer.from(t).toString("base64")}`;return{"proxy-authorization":o,authorization:o}}return{}}},7570:(t,r,i)=>{"use strict";const o=i(4404);const a=i(3685);const c=i(5687);const l=i(6582);const{globalAgent:h}=i(4828);const u=i(4039);const d=i(7652);const p=i(5060);const createConnection=(t,r,i)=>{(async()=>{try{const{proxyOptions:a}=t;const{url:d,headers:m,raw:g}=a;const y=await h.request(d,a,{...p(t),...m,":method":"CONNECT",":authority":`${r.host}:${r.port}`});y.once("error",i);y.once("response",(a=>{const h=a[":status"];if(h!==200){i(new u(h));return}const d=t instanceof c.Agent;if(g&&d){r.socket=y;const t=o.connect(r);t.once("close",(()=>{y.destroy()}));i(null,t);return}const p=new l(y);p.encrypted=false;p._handle.getpeername=t=>{t.family=undefined;t.address=undefined;t.port=undefined};i(null,p)}))}catch(t){i(t)}})()};class HttpOverHttp2 extends a.Agent{constructor(t){super(t);d(this,t.proxyOptions)}createConnection(t,r){createConnection(this,t,r)}}class HttpsOverHttp2 extends c.Agent{constructor(t){super(t);d(this,t.proxyOptions)}createConnection(t,r){createConnection(this,t,r)}}t.exports={HttpOverHttp2:HttpOverHttp2,HttpsOverHttp2:HttpsOverHttp2}},5431:(t,r,i)=>{"use strict";const o=i(3685);const a=i(5687);const c=i(2853);const l=i(5060);const getStream=t=>new Promise(((r,i)=>{const onConnect=(o,a,c)=>{a.unshift(c);t.off("error",i);r([a,o.statusCode])};t.once("error",i);t.once("connect",onConnect)}));class Http2OverHttp extends c{async _getProxyStream(t){const{proxyOptions:r}=this;const{url:i,headers:c}=this.proxyOptions;const h=i.protocol==="https:"?a:o;const u=h.request({...r,hostname:i.hostname,port:i.port,path:t,headers:{...l(this),...c,host:t},method:"CONNECT"}).end();return getStream(u)}}t.exports={Http2OverHttp:Http2OverHttp,Http2OverHttps:Http2OverHttp}},855:(t,r,i)=>{"use strict";const{globalAgent:o}=i(4828);const a=i(2853);const c=i(5060);const getStatusCode=t=>new Promise(((r,i)=>{t.once("error",i);t.once("response",(o=>{t.off("error",i);r(o[":status"])}))}));class Http2OverHttp2 extends a{async _getProxyStream(t){const{proxyOptions:r}=this;const i={...c(this),...r.headers,":method":"CONNECT",":authority":t};const a=await o.request(r.url,r,i);const l=await getStatusCode(a);return[a,l]}}t.exports=Http2OverHttp2},2853:(t,r,i)=>{"use strict";const{Agent:o}=i(4828);const a=i(6582);const c=i(4039);const l=i(7652);class Http2OverHttpX extends o{constructor(t){super(t);l(this,t.proxyOptions)}async createConnection(t,r){const i=`${t.hostname}:${t.port||443}`;const[o,l]=await this._getProxyStream(i);if(l!==200){throw new c(l)}if(this.proxyOptions.raw){r.socket=o}else{const t=new a(o);t.encrypted=false;t._handle.getpeername=t=>{t.family=undefined;t.address=undefined;t.port=undefined};return t}return super.createConnection(t,r)}}t.exports=Http2OverHttpX},7652:(t,r,i)=>{"use strict";const{URL:o}=i(7310);const a=i(8583);t.exports=(t,r)=>{a("proxyOptions",r,["object"]);a("proxyOptions.headers",r.headers,["object","undefined"]);a("proxyOptions.raw",r.raw,["boolean","undefined"]);a("proxyOptions.url",r.url,[o,"string"]);const i=new o(r.url);t.proxyOptions={raw:true,...r,headers:{...r.headers},url:i}}},4039:t=>{"use strict";class UnexpectedStatusCodeError extends Error{constructor(t){super(`The proxy server rejected the request with status code ${t}`);this.statusCode=t}}t.exports=UnexpectedStatusCodeError},3671:(t,r,i)=>{"use strict";const{isIP:o}=i(1808);const a=i(9491);const getHost=t=>{if(t[0]==="["){const r=t.indexOf("]");a(r!==-1);return t.slice(1,r)}const r=t.indexOf(":");if(r===-1){return t}return t.slice(0,r)};t.exports=t=>{const r=getHost(t);if(o(r)){return""}return r}},8583:t=>{"use strict";const checkType=(t,r,i)=>{const o=i.some((t=>{const i=typeof t;if(i==="string"){return typeof r===t}return r instanceof t}));if(!o){const o=i.map((t=>typeof t==="string"?t:t.name));throw new TypeError(`Expected '${t}' to be a type of ${o.join(" or ")}, got ${typeof r}`)}};t.exports=checkType},7253:t=>{"use strict";t.exports=t=>{if(t.listenerCount("error")!==0){return t}t.__destroy=t._destroy;t._destroy=(...r)=>{const i=r.pop();t.__destroy(...r,(async t=>{await Promise.resolve();i(t)}))};const onError=r=>{Promise.resolve().then((()=>{t.emit("error",r)}))};t.once("error",onError);Promise.resolve().then((()=>{t.off("error",onError)}));return t}},8635:t=>{"use strict";const makeError=(r,i,o)=>{t.exports[i]=class NodeError extends r{constructor(...t){super(typeof o==="string"?o:o(t));this.name=`${super.name} [${i}]`;this.code=i}}};makeError(TypeError,"ERR_INVALID_ARG_TYPE",(t=>{const r=t[0].includes(".")?"property":"argument";let i=t[1];const o=Array.isArray(i);if(o){i=`${i.slice(0,-1).join(", ")} or ${i.slice(-1)}`}return`The "${t[0]}" ${r} must be ${o?"one of":"of"} type ${i}. Received ${typeof t[2]}`}));makeError(TypeError,"ERR_INVALID_PROTOCOL",(t=>`Protocol "${t[0]}" not supported. Expected "${t[1]}"`));makeError(Error,"ERR_HTTP_HEADERS_SENT",(t=>`Cannot ${t[0]} headers after they are sent to the client`));makeError(TypeError,"ERR_INVALID_HTTP_TOKEN",(t=>`${t[0]} must be a valid HTTP token [${t[1]}]`));makeError(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",(t=>`Invalid value "${t[0]} for header "${t[1]}"`));makeError(TypeError,"ERR_INVALID_CHAR",(t=>`Invalid character in ${t[0]} [${t[1]}]`));makeError(Error,"ERR_HTTP2_NO_SOCKET_MANIPULATION","HTTP/2 sockets should not be directly manipulated (e.g. read and written)")},8100:t=>{"use strict";t.exports=t=>{switch(t){case":method":case":scheme":case":authority":case":path":return true;default:return false}}},6582:(t,r,i)=>{"use strict";const o=i(2781);const a=i(4404);const c=new a.TLSSocket(new o.PassThrough)._handle._parentWrap.constructor;t.exports=c},1544:t=>{"use strict";t.exports=(t,r,i)=>{for(const o of i){t.on(o,((...t)=>r.emit(o,...t)))}}},704:(t,r,i)=>{"use strict";const{ERR_HTTP2_NO_SOCKET_MANIPULATION:o}=i(8635);const a={has(t,r){const i=t.session===undefined?t:t.session.socket;return r in t||r in i},get(t,r){switch(r){case"on":case"once":case"end":case"emit":case"destroy":return t[r].bind(t);case"writable":case"destroyed":return t[r];case"readable":if(t.destroyed){return false}return t.readable;case"setTimeout":{const{session:r}=t;if(r!==undefined){return r.setTimeout.bind(r)}return t.setTimeout.bind(t)}case"write":case"read":case"pause":case"resume":throw new o;default:{const i=t.session===undefined?t:t.session.socket;const o=i[r];return typeof o==="function"?o.bind(i):o}}},getPrototypeOf(t){if(t.session!==undefined){return Reflect.getPrototypeOf(t.session.socket)}return Reflect.getPrototypeOf(t)},set(t,r,i){switch(r){case"writable":case"readable":case"destroyed":case"on":case"once":case"end":case"emit":case"destroy":t[r]=i;return true;case"setTimeout":{const{session:r}=t;if(r===undefined){t.setTimeout=i}else{r.setTimeout=i}return true}case"write":case"read":case"pause":case"resume":throw new o;default:{const o=t.session===undefined?t:t.session.socket;o[r]=i;return true}}}};t.exports=a},1091:(t,r,i)=>{"use strict";const{ERR_INVALID_HTTP_TOKEN:o}=i(8635);const a=i(8100);const c=/^[\^`\-\w!#$%&*+.|~]+$/;t.exports=t=>{if(typeof t!=="string"||!c.test(t)&&!a(t)){throw new o("Header name",t)}}},5590:(t,r,i)=>{"use strict";const{ERR_HTTP_INVALID_HEADER_VALUE:o,ERR_INVALID_CHAR:a}=i(8635);const c=/[^\t\u0020-\u007E\u0080-\u00FF]/;t.exports=(t,r)=>{if(typeof r==="undefined"){throw new o(r,t)}if(c.test(r)){throw new a("header content",t)}}},8143:(t,r,i)=>{var o=i(3270);var a=Object.create(null);var c=i(9852);t.exports=o(inflight);function inflight(t,r){if(a[t]){a[t].push(r);return null}else{a[t]=[r];return makeres(t)}}function makeres(t){return c((function RES(){var r=a[t];var i=r.length;var o=slice(arguments);try{for(var c=0;c<i;c++){r[c].apply(null,o)}}finally{if(r.length>i){r.splice(0,i);process.nextTick((function(){RES.apply(null,o)}))}else{delete a[t]}}}))}function slice(t){var r=t.length;var i=[];for(var o=0;o<r;o++)i[o]=t[o];return i}},2842:(t,r,i)=>{try{var o=i(3837);if(typeof o.inherits!=="function")throw"";t.exports=o.inherits}catch(r){t.exports=i(3782)}},3782:t=>{if(typeof Object.create==="function"){t.exports=function inherits(t,r){if(r){t.super_=r;t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}}else{t.exports=function inherits(t,r){if(r){t.super_=r;var TempCtor=function(){};TempCtor.prototype=r.prototype;t.prototype=new TempCtor;t.prototype.constructor=t}}}},7036:(t,r)=>{r.parse=r.decode=decode;r.stringify=r.encode=encode;r.safe=safe;r.unsafe=unsafe;var i=typeof process!=="undefined"&&process.platform==="win32"?"\r\n":"\n";function encode(t,r){var o=[];var a="";if(typeof r==="string"){r={section:r,whitespace:false}}else{r=r||{};r.whitespace=r.whitespace===true}var c=r.whitespace?" = ":"=";Object.keys(t).forEach((function(r,l,h){var u=t[r];if(u&&Array.isArray(u)){u.forEach((function(t){a+=safe(r+"[]")+c+safe(t)+"\n"}))}else if(u&&typeof u==="object")o.push(r);else a+=safe(r)+c+safe(u)+i}));if(r.section&&a.length)a="["+safe(r.section)+"]"+i+a;o.forEach((function(o,c,l){var h=dotSplit(o).join("\\.");var u=(r.section?r.section+".":"")+h;var d=encode(t[o],{section:u,whitespace:r.whitespace});if(a.length&&d.length)a+=i;a+=d}));return a}function dotSplit(t){return t.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map((function(t){return t.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")}))}function decode(t){var r={};var i=r;var o=null;var a=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i;var c=t.split(/[\r\n]+/g);c.forEach((function(t,c,l){if(!t||t.match(/^\s*[;#]/))return;var h=t.match(a);if(!h)return;if(h[1]!==undefined){o=unsafe(h[1]);if(o==="__proto__"){i={};return}i=r[o]=r[o]||{};return}var u=unsafe(h[2]);if(u==="__proto__")return;var d=h[3]?unsafe(h[4]):true;switch(d){case"true":case"false":case"null":d=JSON.parse(d)}if(u.length>2&&u.slice(-2)==="[]"){u=u.substring(0,u.length-2);if(u==="__proto__")return;if(!i[u])i[u]=[];else if(!Array.isArray(i[u]))i[u]=[i[u]]}if(Array.isArray(i[u]))i[u].push(d);else i[u]=d}));Object.keys(r).filter((function(t,i,o){if(!r[t]||typeof r[t]!=="object"||Array.isArray(r[t]))return false;var a=dotSplit(t);var c=r;var l=a.pop();var h=l.replace(/\\\./g,".");a.forEach((function(t,r,i){if(t==="__proto__")return;if(!c[t]||typeof c[t]!=="object")c[t]={};c=c[t]}));if(c===r&&h===l)return false;c[h]=r[t];return true})).forEach((function(t,i,o){delete r[t]}));return r}function isQuoted(t){return t.charAt(0)==='"'&&t.slice(-1)==='"'||t.charAt(0)==="'"&&t.slice(-1)==="'"}function safe(t){return typeof t!=="string"||t.match(/[=\r\n]/)||t.match(/^\[/)||t.length>1&&isQuoted(t)||t!==t.trim()?JSON.stringify(t):t.replace(/;/g,"\\;").replace(/#/g,"\\#")}function unsafe(t,r){t=(t||"").trim();if(isQuoted(t)){if(t.charAt(0)==="'")t=t.substr(1,t.length-2);try{t=JSON.parse(t)}catch(t){}}else{var i=false;var o="";for(var a=0,c=t.length;a<c;a++){var l=t.charAt(a);if(i){if("\\;#".indexOf(l)!==-1)o+=l;else o+="\\"+l;i=false}else if(";#".indexOf(l)!==-1)break;else if(l==="\\")i=true;else o+=l}if(i)o+="\\";return o.trim()}return t}},7745:(t,r,i)=>{var o=i(7147);var a;if(process.platform==="win32"||global.TESTING_WINDOWS){a=i(8554)}else{a=i(7138)}t.exports=isexe;isexe.sync=sync;function isexe(t,r,i){if(typeof r==="function"){i=r;r={}}if(!i){if(typeof Promise!=="function"){throw new TypeError("callback not provided")}return new Promise((function(i,o){isexe(t,r||{},(function(t,r){if(t){o(t)}else{i(r)}}))}))}a(t,r||{},(function(t,o){if(t){if(t.code==="EACCES"||r&&r.ignoreErrors){t=null;o=false}}i(t,o)}))}function sync(t,r){try{return a.sync(t,r||{})}catch(t){if(r&&r.ignoreErrors||t.code==="EACCES"){return false}else{throw t}}}},7138:(t,r,i)=>{t.exports=isexe;isexe.sync=sync;var o=i(7147);function isexe(t,r,i){o.stat(t,(function(t,o){i(t,t?false:checkStat(o,r))}))}function sync(t,r){return checkStat(o.statSync(t),r)}function checkStat(t,r){return t.isFile()&&checkMode(t,r)}function checkMode(t,r){var i=t.mode;var o=t.uid;var a=t.gid;var c=r.uid!==undefined?r.uid:process.getuid&&process.getuid();var l=r.gid!==undefined?r.gid:process.getgid&&process.getgid();var h=parseInt("100",8);var u=parseInt("010",8);var d=parseInt("001",8);var p=h|u;var m=i&d||i&u&&a===l||i&h&&o===c||i&p&&c===0;return m}},8554:(t,r,i)=>{t.exports=isexe;isexe.sync=sync;var o=i(7147);function checkPathExt(t,r){var i=r.pathExt!==undefined?r.pathExt:process.env.PATHEXT;if(!i){return true}i=i.split(";");if(i.indexOf("")!==-1){return true}for(var o=0;o<i.length;o++){var a=i[o].toLowerCase();if(a&&t.substr(-a.length).toLowerCase()===a){return true}}return false}function checkStat(t,r,i){if(!t.isSymbolicLink()&&!t.isFile()){return false}return checkPathExt(r,i)}function isexe(t,r,i){o.stat(t,(function(o,a){i(o,o?false:checkStat(a,t,r))}))}function sync(t,r){return checkStat(o.statSync(t),t,r)}},9604:(t,r)=>{r.stringify=function stringify(t){if("undefined"==typeof t)return t;if(t&&Buffer.isBuffer(t))return JSON.stringify(":base64:"+t.toString("base64"));if(t&&t.toJSON)t=t.toJSON();if(t&&"object"===typeof t){var r="";var i=Array.isArray(t);r=i?"[":"{";var o=true;for(var a in t){var c="function"==typeof t[a]||!i&&"undefined"===typeof t[a];if(Object.hasOwnProperty.call(t,a)&&!c){if(!o)r+=",";o=false;if(i){if(t[a]==undefined)r+="null";else r+=stringify(t[a])}else if(t[a]!==void 0){r+=stringify(a)+":"+stringify(t[a])}}}r+=i?"]":"}";return r}else if("string"===typeof t){return JSON.stringify(/^:/.test(t)?":"+t:t)}else if("undefined"===typeof t){return"null"}else return JSON.stringify(t)};r.parse=function(t){return JSON.parse(t,(function(t,r){if("string"===typeof r){if(/^:base64:/.test(r))return Buffer.from(r.substring(8),"base64");else return/^:/.test(r)?r.substring(1):r}return r}))}},1187:(t,r,i)=>{"use strict";const o=i(2361);const a=i(9604);const loadStore=t=>{const r={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(t.adapter||t.uri){const i=t.adapter||/^[^:+]*/.exec(t.uri)[0];return new(require(r[i]))(t)}return new Map};const c=["sqlite","postgres","mysql","mongo","redis","tiered"];class Keyv extends o{constructor(t,{emitErrors:r=true,...i}={}){super();this.opts={namespace:"keyv",serialize:a.stringify,deserialize:a.parse,...typeof t==="string"?{uri:t}:t,...i};if(!this.opts.store){const t={...this.opts};this.opts.store=loadStore(t)}if(this.opts.compression){const t=this.opts.compression;const{serialize:r,deserialize:i}=t.opts;this.opts.serialize=r;this.opts.deserialize=i}if(typeof this.opts.store.on==="function"&&r){this.opts.store.on("error",(t=>this.emit("error",t)))}this.opts.store.namespace=this.opts.namespace;const generateIterator=t=>async function*(){for await(const[r,i]of typeof t==="function"?t(this.opts.store.namespace):t){const t=this.opts.deserialize(i);if(this.opts.store.namespace&&!r.includes(this.opts.store.namespace)){continue}if(typeof t.expires==="number"&&Date.now()>t.expires){this.delete(r);continue}yield[this._getKeyUnprefix(r),t.value]}};if(typeof this.opts.store[Symbol.iterator]==="function"&&this.opts.store instanceof Map){this.iterator=generateIterator(this.opts.store)}else if(typeof this.opts.store.iterator==="function"&&this.opts.store.opts&&this._checkIterableAdaptar()){this.iterator=generateIterator(this.opts.store.iterator.bind(this.opts.store))}}_checkIterableAdaptar(){return c.includes(this.opts.store.opts.dialect)||c.findIndex((t=>this.opts.store.opts.url.includes(t)))>=0}_getKeyPrefix(t){return`${this.opts.namespace}:${t}`}_getKeyPrefixArray(t){return t.map((t=>`${this.opts.namespace}:${t}`))}_getKeyUnprefix(t){return t.split(":").splice(1).join(":")}get(t,r){const{store:i}=this.opts;const o=Array.isArray(t);const a=o?this._getKeyPrefixArray(t):this._getKeyPrefix(t);if(o&&i.getMany===undefined){const t=[];for(const o of a){t.push(Promise.resolve().then((()=>i.get(o))).then((t=>typeof t==="string"?this.opts.deserialize(t):t)).then((t=>{if(t===undefined||t===null){return undefined}if(typeof t.expires==="number"&&Date.now()>t.expires){return this.delete(o).then((()=>undefined))}return r&&r.raw?t:t.value})))}return Promise.allSettled(t).then((t=>{const r=[];for(const i of t){r.push(i.value)}return r}))}return Promise.resolve().then((()=>o?i.getMany(a):i.get(a))).then((t=>typeof t==="string"?this.opts.deserialize(t):t)).then((i=>{if(i===undefined||i===null){return undefined}if(o){const o=[];for(let a of i){if(typeof a==="string"){a=this.opts.deserialize(a)}if(a===undefined||a===null){o.push(undefined);continue}if(typeof a.expires==="number"&&Date.now()>a.expires){this.delete(t).then((()=>undefined));o.push(undefined)}else{o.push(r&&r.raw?a:a.value)}}return o}if(typeof i.expires==="number"&&Date.now()>i.expires){return this.delete(t).then((()=>undefined))}return r&&r.raw?i:i.value}))}set(t,r,i){const o=this._getKeyPrefix(t);if(typeof i==="undefined"){i=this.opts.ttl}if(i===0){i=undefined}const{store:a}=this.opts;return Promise.resolve().then((()=>{const t=typeof i==="number"?Date.now()+i:null;if(typeof r==="symbol"){this.emit("error","symbol cannot be serialized")}r={value:r,expires:t};return this.opts.serialize(r)})).then((t=>a.set(o,t,i))).then((()=>true))}delete(t){const{store:r}=this.opts;if(Array.isArray(t)){const i=this._getKeyPrefixArray(t);if(r.deleteMany===undefined){const t=[];for(const o of i){t.push(r.delete(o))}return Promise.allSettled(t).then((t=>t.every((t=>t.value===true))))}return Promise.resolve().then((()=>r.deleteMany(i)))}const i=this._getKeyPrefix(t);return Promise.resolve().then((()=>r.delete(i)))}clear(){const{store:t}=this.opts;return Promise.resolve().then((()=>t.clear()))}has(t){const r=this._getKeyPrefix(t);const{store:i}=this.opts;return Promise.resolve().then((async()=>{if(typeof i.has==="function"){return i.has(r)}const t=await i.get(r);return t!==undefined}))}disconnect(){const{store:t}=this.opts;if(typeof t.disconnect==="function"){return t.disconnect()}}}t.exports=Keyv},7836:t=>{"use strict";const{FORCE_COLOR:r,NODE_DISABLE_COLORS:i,TERM:o}=process.env;const a={enabled:!i&&o!=="dumb"&&r!=="0",reset:init(0,0),bold:init(1,22),dim:init(2,22),italic:init(3,23),underline:init(4,24),inverse:init(7,27),hidden:init(8,28),strikethrough:init(9,29),black:init(30,39),red:init(31,39),green:init(32,39),yellow:init(33,39),blue:init(34,39),magenta:init(35,39),cyan:init(36,39),white:init(37,39),gray:init(90,39),grey:init(90,39),bgBlack:init(40,49),bgRed:init(41,49),bgGreen:init(42,49),bgYellow:init(43,49),bgBlue:init(44,49),bgMagenta:init(45,49),bgCyan:init(46,49),bgWhite:init(47,49)};function run(t,r){let i=0,o,a="",c="";for(;i<t.length;i++){o=t[i];a+=o.open;c+=o.close;if(r.includes(o.close)){r=r.replace(o.rgx,o.close+o.open)}}return a+r+c}function chain(t,r){let i={has:t,keys:r};i.reset=a.reset.bind(i);i.bold=a.bold.bind(i);i.dim=a.dim.bind(i);i.italic=a.italic.bind(i);i.underline=a.underline.bind(i);i.inverse=a.inverse.bind(i);i.hidden=a.hidden.bind(i);i.strikethrough=a.strikethrough.bind(i);i.black=a.black.bind(i);i.red=a.red.bind(i);i.green=a.green.bind(i);i.yellow=a.yellow.bind(i);i.blue=a.blue.bind(i);i.magenta=a.magenta.bind(i);i.cyan=a.cyan.bind(i);i.white=a.white.bind(i);i.gray=a.gray.bind(i);i.grey=a.grey.bind(i);i.bgBlack=a.bgBlack.bind(i);i.bgRed=a.bgRed.bind(i);i.bgGreen=a.bgGreen.bind(i);i.bgYellow=a.bgYellow.bind(i);i.bgBlue=a.bgBlue.bind(i);i.bgMagenta=a.bgMagenta.bind(i);i.bgCyan=a.bgCyan.bind(i);i.bgWhite=a.bgWhite.bind(i);return i}function init(t,r){let i={open:`[${t}m`,close:`[${r}m`,rgx:new RegExp(`\\x1b\\[${r}m`,"g")};return function(r){if(this!==void 0&&this.has!==void 0){this.has.includes(t)||(this.has.push(t),this.keys.push(i));return r===void 0?this:a.enabled?run(this.keys,r+""):r+""}return r===void 0?chain([t],[i]):a.enabled?run([i],r+""):r+""}}t.exports=a},8443:(t,r,i)=>{"use strict";const o=i(3401);const a=Symbol("max");const c=Symbol("length");const l=Symbol("lengthCalculator");const h=Symbol("allowStale");const u=Symbol("maxAge");const d=Symbol("dispose");const p=Symbol("noDisposeOnSet");const m=Symbol("lruList");const g=Symbol("cache");const y=Symbol("updateAgeOnGet");const naiveLength=()=>1;class LRUCache{constructor(t){if(typeof t==="number")t={max:t};if(!t)t={};if(t.max&&(typeof t.max!=="number"||t.max<0))throw new TypeError("max must be a non-negative number");const r=this[a]=t.max||Infinity;const i=t.length||naiveLength;this[l]=typeof i!=="function"?naiveLength:i;this[h]=t.stale||false;if(t.maxAge&&typeof t.maxAge!=="number")throw new TypeError("maxAge must be a number");this[u]=t.maxAge||0;this[d]=t.dispose;this[p]=t.noDisposeOnSet||false;this[y]=t.updateAgeOnGet||false;this.reset()}set max(t){if(typeof t!=="number"||t<0)throw new TypeError("max must be a non-negative number");this[a]=t||Infinity;trim(this)}get max(){return this[a]}set allowStale(t){this[h]=!!t}get allowStale(){return this[h]}set maxAge(t){if(typeof t!=="number")throw new TypeError("maxAge must be a non-negative number");this[u]=t;trim(this)}get maxAge(){return this[u]}set lengthCalculator(t){if(typeof t!=="function")t=naiveLength;if(t!==this[l]){this[l]=t;this[c]=0;this[m].forEach((t=>{t.length=this[l](t.value,t.key);this[c]+=t.length}))}trim(this)}get lengthCalculator(){return this[l]}get length(){return this[c]}get itemCount(){return this[m].length}rforEach(t,r){r=r||this;for(let i=this[m].tail;i!==null;){const o=i.prev;forEachStep(this,t,i,r);i=o}}forEach(t,r){r=r||this;for(let i=this[m].head;i!==null;){const o=i.next;forEachStep(this,t,i,r);i=o}}keys(){return this[m].toArray().map((t=>t.key))}values(){return this[m].toArray().map((t=>t.value))}reset(){if(this[d]&&this[m]&&this[m].length){this[m].forEach((t=>this[d](t.key,t.value)))}this[g]=new Map;this[m]=new o;this[c]=0}dump(){return this[m].map((t=>isStale(this,t)?false:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)})).toArray().filter((t=>t))}dumpLru(){return this[m]}set(t,r,i){i=i||this[u];if(i&&typeof i!=="number")throw new TypeError("maxAge must be a number");const o=i?Date.now():0;const h=this[l](r,t);if(this[g].has(t)){if(h>this[a]){del(this,this[g].get(t));return false}const l=this[g].get(t);const u=l.value;if(this[d]){if(!this[p])this[d](t,u.value)}u.now=o;u.maxAge=i;u.value=r;this[c]+=h-u.length;u.length=h;this.get(t);trim(this);return true}const y=new Entry(t,r,h,o,i);if(y.length>this[a]){if(this[d])this[d](t,r);return false}this[c]+=y.length;this[m].unshift(y);this[g].set(t,this[m].head);trim(this);return true}has(t){if(!this[g].has(t))return false;const r=this[g].get(t).value;return!isStale(this,r)}get(t){return get(this,t,true)}peek(t){return get(this,t,false)}pop(){const t=this[m].tail;if(!t)return null;del(this,t);return t.value}del(t){del(this,this[g].get(t))}load(t){this.reset();const r=Date.now();for(let i=t.length-1;i>=0;i--){const o=t[i];const a=o.e||0;if(a===0)this.set(o.k,o.v);else{const t=a-r;if(t>0){this.set(o.k,o.v,t)}}}}prune(){this[g].forEach(((t,r)=>get(this,r,false)))}}const get=(t,r,i)=>{const o=t[g].get(r);if(o){const r=o.value;if(isStale(t,r)){del(t,o);if(!t[h])return undefined}else{if(i){if(t[y])o.value.now=Date.now();t[m].unshiftNode(o)}}return r.value}};const isStale=(t,r)=>{if(!r||!r.maxAge&&!t[u])return false;const i=Date.now()-r.now;return r.maxAge?i>r.maxAge:t[u]&&i>t[u]};const trim=t=>{if(t[c]>t[a]){for(let r=t[m].tail;t[c]>t[a]&&r!==null;){const i=r.prev;del(t,r);r=i}}};const del=(t,r)=>{if(r){const i=r.value;if(t[d])t[d](i.key,i.value);t[c]-=i.length;t[g].delete(i.key);t[m].removeNode(r)}};class Entry{constructor(t,r,i,o,a){this.key=t;this.value=r;this.length=i;this.now=o;this.maxAge=a||0}}const forEachStep=(t,r,i,o)=>{let a=i.value;if(isStale(t,a)){del(t,i);if(!t[h])a=undefined}if(a)r.call(o,a.value,a.key,t)};t.exports=LRUCache},9021:t=>{"use strict";const r=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];t.exports=(t,i)=>{if(i._readableState.autoDestroy){throw new Error("The second stream must have the `autoDestroy` option set to `false`")}const o=new Set(Object.keys(t).concat(r));const a={};for(const r of o){if(r in i){continue}a[r]={get(){const i=t[r];const o=typeof i==="function";return o?i.bind(t):i},set(i){t[r]=i},enumerable:true,configurable:false}}Object.defineProperties(i,a);t.once("aborted",(()=>{i.destroy();i.emit("aborted")}));t.once("close",(()=>{if(t.complete){if(i.readable){i.once("end",(()=>{i.emit("close")}))}else{i.emit("close")}}else{i.emit("close")}}));return i}},8923:(t,r,i)=>{t.exports=minimatch;minimatch.Minimatch=Minimatch;var o=function(){try{return i(1017)}catch(t){}}()||{sep:"/"};minimatch.sep=o.sep;var a=minimatch.GLOBSTAR=Minimatch.GLOBSTAR={};var c=i(4800);var l={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}};var h="[^/]";var u=h+"*?";var d="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?";var p="(?:(?!(?:\\/|^)\\.).)*?";var m=charSet("().*{}+?[]^$\\!");function charSet(t){return t.split("").reduce((function(t,r){t[r]=true;return t}),{})}var g=/\/+/;minimatch.filter=filter;function filter(t,r){r=r||{};return function(i,o,a){return minimatch(i,t,r)}}function ext(t,r){r=r||{};var i={};Object.keys(t).forEach((function(r){i[r]=t[r]}));Object.keys(r).forEach((function(t){i[t]=r[t]}));return i}minimatch.defaults=function(t){if(!t||typeof t!=="object"||!Object.keys(t).length){return minimatch}var r=minimatch;var i=function minimatch(i,o,a){return r(i,o,ext(t,a))};i.Minimatch=function Minimatch(i,o){return new r.Minimatch(i,ext(t,o))};i.Minimatch.defaults=function defaults(i){return r.defaults(ext(t,i)).Minimatch};i.filter=function filter(i,o){return r.filter(i,ext(t,o))};i.defaults=function defaults(i){return r.defaults(ext(t,i))};i.makeRe=function makeRe(i,o){return r.makeRe(i,ext(t,o))};i.braceExpand=function braceExpand(i,o){return r.braceExpand(i,ext(t,o))};i.match=function(i,o,a){return r.match(i,o,ext(t,a))};return i};Minimatch.defaults=function(t){return minimatch.defaults(t).Minimatch};function minimatch(t,r,i){assertValidPattern(r);if(!i)i={};if(!i.nocomment&&r.charAt(0)==="#"){return false}return new Minimatch(r,i).match(t)}function Minimatch(t,r){if(!(this instanceof Minimatch)){return new Minimatch(t,r)}assertValidPattern(t);if(!r)r={};t=t.trim();if(!r.allowWindowsEscape&&o.sep!=="/"){t=t.split(o.sep).join("/")}this.options=r;this.set=[];this.pattern=t;this.regexp=null;this.negate=false;this.comment=false;this.empty=false;this.partial=!!r.partial;this.make()}Minimatch.prototype.debug=function(){};Minimatch.prototype.make=make;function make(){var t=this.pattern;var r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=true;return}if(!t){this.empty=true;return}this.parseNegate();var i=this.globSet=this.braceExpand();if(r.debug)this.debug=function debug(){console.error.apply(console,arguments)};this.debug(this.pattern,i);i=this.globParts=i.map((function(t){return t.split(g)}));this.debug(this.pattern,i);i=i.map((function(t,r,i){return t.map(this.parse,this)}),this);this.debug(this.pattern,i);i=i.filter((function(t){return t.indexOf(false)===-1}));this.debug(this.pattern,i);this.set=i}Minimatch.prototype.parseNegate=parseNegate;function parseNegate(){var t=this.pattern;var r=false;var i=this.options;var o=0;if(i.nonegate)return;for(var a=0,c=t.length;a<c&&t.charAt(a)==="!";a++){r=!r;o++}if(o)this.pattern=t.substr(o);this.negate=r}minimatch.braceExpand=function(t,r){return braceExpand(t,r)};Minimatch.prototype.braceExpand=braceExpand;function braceExpand(t,r){if(!r){if(this instanceof Minimatch){r=this.options}else{r={}}}t=typeof t==="undefined"?this.pattern:t;assertValidPattern(t);if(r.nobrace||!/\{(?:(?!\{).)*\}/.test(t)){return[t]}return c(t)}var y=1024*64;var assertValidPattern=function(t){if(typeof t!=="string"){throw new TypeError("invalid pattern")}if(t.length>y){throw new TypeError("pattern is too long")}};Minimatch.prototype.parse=parse;var b={};function parse(t,r){assertValidPattern(t);var i=this.options;if(t==="**"){if(!i.noglobstar)return a;else t="*"}if(t==="")return"";var o="";var c=!!i.nocase;var d=false;var p=[];var g=[];var y;var v=false;var w=-1;var _=-1;var E=t.charAt(0)==="."?"":i.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)";var S=this;function clearStateChar(){if(y){switch(y){case"*":o+=u;c=true;break;case"?":o+=h;c=true;break;default:o+="\\"+y;break}S.debug("clearStateChar %j %j",y,o);y=false}}for(var O=0,x=t.length,R;O<x&&(R=t.charAt(O));O++){this.debug("%s\t%s %s %j",t,O,o,R);if(d&&m[R]){o+="\\"+R;d=false;continue}switch(R){case"/":{return false}case"\\":clearStateChar();d=true;continue;case"?":case"*":case"+":case"@":case"!":this.debug("%s\t%s %s %j <-- stateChar",t,O,o,R);if(v){this.debug("  in class");if(R==="!"&&O===_+1)R="^";o+=R;continue}S.debug("call clearStateChar %j",y);clearStateChar();y=R;if(i.noext)clearStateChar();continue;case"(":if(v){o+="(";continue}if(!y){o+="\\(";continue}p.push({type:y,start:O-1,reStart:o.length,open:l[y].open,close:l[y].close});o+=y==="!"?"(?:(?!(?:":"(?:";this.debug("plType %j %j",y,o);y=false;continue;case")":if(v||!p.length){o+="\\)";continue}clearStateChar();c=true;var T=p.pop();o+=T.close;if(T.type==="!"){g.push(T)}T.reEnd=o.length;continue;case"|":if(v||!p.length||d){o+="\\|";d=false;continue}clearStateChar();o+="|";continue;case"[":clearStateChar();if(v){o+="\\"+R;continue}v=true;_=O;w=o.length;o+=R;continue;case"]":if(O===_+1||!v){o+="\\"+R;d=false;continue}var k=t.substring(_+1,O);try{RegExp("["+k+"]")}catch(t){var A=this.parse(k,b);o=o.substr(0,w)+"\\["+A[0]+"\\]";c=c||A[1];v=false;continue}c=true;v=false;o+=R;continue;default:clearStateChar();if(d){d=false}else if(m[R]&&!(R==="^"&&v)){o+="\\"}o+=R}}if(v){k=t.substr(_+1);A=this.parse(k,b);o=o.substr(0,w)+"\\["+A[0];c=c||A[1]}for(T=p.pop();T;T=p.pop()){var C=o.slice(T.reStart+T.open.length);this.debug("setting tail",o,T);C=C.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,r,i){if(!i){i="\\"}return r+r+i+"|"}));this.debug("tail=%j\n   %s",C,C,T,o);var P=T.type==="*"?u:T.type==="?"?h:"\\"+T.type;c=true;o=o.slice(0,T.reStart)+P+"\\("+C}clearStateChar();if(d){o+="\\\\"}var I=false;switch(o.charAt(0)){case"[":case".":case"(":I=true}for(var N=g.length-1;N>-1;N--){var L=g[N];var M=o.slice(0,L.reStart);var $=o.slice(L.reStart,L.reEnd-8);var j=o.slice(L.reEnd-8,L.reEnd);var D=o.slice(L.reEnd);j+=D;var H=M.split("(").length-1;var B=D;for(O=0;O<H;O++){B=B.replace(/\)[+*?]?/,"")}D=B;var U="";if(D===""&&r!==b){U="$"}var q=M+$+D+U+j;o=q}if(o!==""&&c){o="(?=.)"+o}if(I){o=E+o}if(r===b){return[o,c]}if(!c){return globUnescape(t)}var G=i.nocase?"i":"";try{var z=new RegExp("^"+o+"$",G)}catch(t){return new RegExp("$.")}z._glob=t;z._src=o;return z}minimatch.makeRe=function(t,r){return new Minimatch(t,r||{}).makeRe()};Minimatch.prototype.makeRe=makeRe;function makeRe(){if(this.regexp||this.regexp===false)return this.regexp;var t=this.set;if(!t.length){this.regexp=false;return this.regexp}var r=this.options;var i=r.noglobstar?u:r.dot?d:p;var o=r.nocase?"i":"";var c=t.map((function(t){return t.map((function(t){return t===a?i:typeof t==="string"?regExpEscape(t):t._src})).join("\\/")})).join("|");c="^(?:"+c+")$";if(this.negate)c="^(?!"+c+").*$";try{this.regexp=new RegExp(c,o)}catch(t){this.regexp=false}return this.regexp}minimatch.match=function(t,r,i){i=i||{};var o=new Minimatch(r,i);t=t.filter((function(t){return o.match(t)}));if(o.options.nonull&&!t.length){t.push(r)}return t};Minimatch.prototype.match=function match(t,r){if(typeof r==="undefined")r=this.partial;this.debug("match",t,this.pattern);if(this.comment)return false;if(this.empty)return t==="";if(t==="/"&&r)return true;var i=this.options;if(o.sep!=="/"){t=t.split(o.sep).join("/")}t=t.split(g);this.debug(this.pattern,"split",t);var a=this.set;this.debug(this.pattern,"set",a);var c;var l;for(l=t.length-1;l>=0;l--){c=t[l];if(c)break}for(l=0;l<a.length;l++){var h=a[l];var u=t;if(i.matchBase&&h.length===1){u=[c]}var d=this.matchOne(u,h,r);if(d){if(i.flipNegate)return true;return!this.negate}}if(i.flipNegate)return false;return this.negate};Minimatch.prototype.matchOne=function(t,r,i){var o=this.options;this.debug("matchOne",{this:this,file:t,pattern:r});this.debug("matchOne",t.length,r.length);for(var c=0,l=0,h=t.length,u=r.length;c<h&&l<u;c++,l++){this.debug("matchOne loop");var d=r[l];var p=t[c];this.debug(r,d,p);if(d===false)return false;if(d===a){this.debug("GLOBSTAR",[r,d,p]);var m=c;var g=l+1;if(g===u){this.debug("** at the end");for(;c<h;c++){if(t[c]==="."||t[c]===".."||!o.dot&&t[c].charAt(0)===".")return false}return true}while(m<h){var y=t[m];this.debug("\nglobstar while",t,m,r,g,y);if(this.matchOne(t.slice(m),r.slice(g),i)){this.debug("globstar found match!",m,h,y);return true}else{if(y==="."||y===".."||!o.dot&&y.charAt(0)==="."){this.debug("dot detected!",t,m,r,g);break}this.debug("globstar swallow a segment, and continue");m++}}if(i){this.debug("\n>>> no match, partial?",t,m,r,g);if(m===h)return true}return false}var b;if(typeof d==="string"){b=p===d;this.debug("string match",d,p,b)}else{b=p.match(d);this.debug("pattern match",d,p,b)}if(!b)return false}if(c===h&&l===u){return true}else if(c===h){return i}else if(l===u){return c===h-1&&t[c]===""}throw new Error("wtf?")};function globUnescape(t){return t.replace(/\\(.)/g,"$1")}function regExpEscape(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},2603:t=>{t.exports=function(t,r){if(!r)r={};var i={bools:{},strings:{},unknownFn:null};if(typeof r["unknown"]==="function"){i.unknownFn=r["unknown"]}if(typeof r["boolean"]==="boolean"&&r["boolean"]){i.allBools=true}else{[].concat(r["boolean"]).filter(Boolean).forEach((function(t){i.bools[t]=true}))}var o={};Object.keys(r.alias||{}).forEach((function(t){o[t]=[].concat(r.alias[t]);o[t].forEach((function(r){o[r]=[t].concat(o[t].filter((function(t){return r!==t})))}))}));[].concat(r.string).filter(Boolean).forEach((function(t){i.strings[t]=true;if(o[t]){i.strings[o[t]]=true}}));var a=r["default"]||{};var c={_:[]};Object.keys(i.bools).forEach((function(t){setArg(t,a[t]===undefined?false:a[t])}));var l=[];if(t.indexOf("--")!==-1){l=t.slice(t.indexOf("--")+1);t=t.slice(0,t.indexOf("--"))}function argDefined(t,r){return i.allBools&&/^--[^=]+$/.test(r)||i.strings[t]||i.bools[t]||o[t]}function setArg(t,r,a){if(a&&i.unknownFn&&!argDefined(t,a)){if(i.unknownFn(a)===false)return}var l=!i.strings[t]&&isNumber(r)?Number(r):r;setKey(c,t.split("."),l);(o[t]||[]).forEach((function(t){setKey(c,t.split("."),l)}))}function setKey(t,r,o){var a=t;for(var c=0;c<r.length-1;c++){var l=r[c];if(isConstructorOrProto(a,l))return;if(a[l]===undefined)a[l]={};if(a[l]===Object.prototype||a[l]===Number.prototype||a[l]===String.prototype)a[l]={};if(a[l]===Array.prototype)a[l]=[];a=a[l]}var l=r[r.length-1];if(isConstructorOrProto(a,l))return;if(a===Object.prototype||a===Number.prototype||a===String.prototype)a={};if(a===Array.prototype)a=[];if(a[l]===undefined||i.bools[l]||typeof a[l]==="boolean"){a[l]=o}else if(Array.isArray(a[l])){a[l].push(o)}else{a[l]=[a[l],o]}}function aliasIsBoolean(t){return o[t].some((function(t){return i.bools[t]}))}for(var h=0;h<t.length;h++){var u=t[h];if(/^--.+=/.test(u)){var d=u.match(/^--([^=]+)=([\s\S]*)$/);var p=d[1];var m=d[2];if(i.bools[p]){m=m!=="false"}setArg(p,m,u)}else if(/^--no-.+/.test(u)){var p=u.match(/^--no-(.+)/)[1];setArg(p,false,u)}else if(/^--.+/.test(u)){var p=u.match(/^--(.+)/)[1];var g=t[h+1];if(g!==undefined&&!/^-/.test(g)&&!i.bools[p]&&!i.allBools&&(o[p]?!aliasIsBoolean(p):true)){setArg(p,g,u);h++}else if(/^(true|false)$/.test(g)){setArg(p,g==="true",u);h++}else{setArg(p,i.strings[p]?"":true,u)}}else if(/^-[^-]+/.test(u)){var y=u.slice(1,-1).split("");var b=false;for(var v=0;v<y.length;v++){var g=u.slice(v+2);if(g==="-"){setArg(y[v],g,u);continue}if(/[A-Za-z]/.test(y[v])&&/=/.test(g)){setArg(y[v],g.split("=")[1],u);b=true;break}if(/[A-Za-z]/.test(y[v])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(g)){setArg(y[v],g,u);b=true;break}if(y[v+1]&&y[v+1].match(/\W/)){setArg(y[v],u.slice(v+2),u);b=true;break}else{setArg(y[v],i.strings[y[v]]?"":true,u)}}var p=u.slice(-1)[0];if(!b&&p!=="-"){if(t[h+1]&&!/^(-|--)[^-]/.test(t[h+1])&&!i.bools[p]&&(o[p]?!aliasIsBoolean(p):true)){setArg(p,t[h+1],u);h++}else if(t[h+1]&&/^(true|false)$/.test(t[h+1])){setArg(p,t[h+1]==="true",u);h++}else{setArg(p,i.strings[p]?"":true,u)}}}else{if(!i.unknownFn||i.unknownFn(u)!==false){c._.push(i.strings["_"]||!isNumber(u)?u:Number(u))}if(r.stopEarly){c._.push.apply(c._,t.slice(h+1));break}}}Object.keys(a).forEach((function(t){if(!hasKey(c,t.split("."))){setKey(c,t.split("."),a[t]);(o[t]||[]).forEach((function(r){setKey(c,r.split("."),a[t])}))}}));if(r["--"]){c["--"]=new Array;l.forEach((function(t){c["--"].push(t)}))}else{l.forEach((function(t){c._.push(t)}))}return c};function hasKey(t,r){var i=t;r.slice(0,-1).forEach((function(t){i=i[t]||{}}));var o=r[r.length-1];return o in i}function isNumber(t){if(typeof t==="number")return true;if(/^0x[0-9a-f]+$/i.test(t))return true;return/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function isConstructorOrProto(t,r){return r==="constructor"&&typeof t[r]==="function"||r==="__proto__"}},7097:(t,r,i)=>{"use strict";const o=i(2361);const a=i(1190);const c=i(1576).StringDecoder;const l=Symbol("EOF");const h=Symbol("maybeEmitEnd");const u=Symbol("emittedEnd");const d=Symbol("emittingEnd");const p=Symbol("closed");const m=Symbol("read");const g=Symbol("flush");const y=Symbol("flushChunk");const b=Symbol("encoding");const v=Symbol("decoder");const w=Symbol("flowing");const _=Symbol("paused");const E=Symbol("resume");const S=Symbol("bufferLength");const O=Symbol("bufferPush");const x=Symbol("bufferShift");const R=Symbol("objectMode");const T=Symbol("destroyed");const k=global._MP_NO_ITERATOR_SYMBOLS_!=="1";const A=k&&Symbol.asyncIterator||Symbol("asyncIterator not implemented");const C=k&&Symbol.iterator||Symbol("iterator not implemented");const P=Buffer.alloc?Buffer:i(6911).Buffer;const isEndish=t=>t==="end"||t==="finish"||t==="prefinish";const isArrayBuffer=t=>t instanceof ArrayBuffer||typeof t==="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0;const isArrayBufferView=t=>!P.isBuffer(t)&&ArrayBuffer.isView(t);t.exports=class Minipass extends o{constructor(t){super();this[w]=false;this[_]=false;this.pipes=new a;this.buffer=new a;this[R]=t&&t.objectMode||false;if(this[R])this[b]=null;else this[b]=t&&t.encoding||null;if(this[b]==="buffer")this[b]=null;this[v]=this[b]?new c(this[b]):null;this[l]=false;this[u]=false;this[d]=false;this[p]=false;this.writable=true;this.readable=true;this[S]=0;this[T]=false}get bufferLength(){return this[S]}get encoding(){return this[b]}set encoding(t){if(this[R])throw new Error("cannot set encoding in objectMode");if(this[b]&&t!==this[b]&&(this[v]&&this[v].lastNeed||this[S]))throw new Error("cannot change encoding");if(this[b]!==t){this[v]=t?new c(t):null;if(this.buffer.length)this.buffer=this.buffer.map((t=>this[v].write(t)))}this[b]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[R]}set objectMode(t){this[R]=this[R]||!!t}write(t,r,i){if(this[l])throw new Error("write after end");if(this[T]){this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"}));return true}if(typeof r==="function")i=r,r="utf8";if(!r)r="utf8";if(!this[R]&&!P.isBuffer(t)){if(isArrayBufferView(t))t=P.from(t.buffer,t.byteOffset,t.byteLength);else if(isArrayBuffer(t))t=P.from(t);else if(typeof t!=="string")this.objectMode=true}if(!this.objectMode&&!t.length){const t=this.flowing;if(this[S]!==0)this.emit("readable");if(i)i();return t}if(typeof t==="string"&&!this[R]&&!(r===this[b]&&!this[v].lastNeed)){t=P.from(t,r)}if(P.isBuffer(t)&&this[b])t=this[v].write(t);try{return this.flowing?(this.emit("data",t),this.flowing):(this[O](t),false)}finally{if(this[S]!==0)this.emit("readable");if(i)i()}}read(t){if(this[T])return null;try{if(this[S]===0||t===0||t>this[S])return null;if(this[R])t=null;if(this.buffer.length>1&&!this[R]){if(this.encoding)this.buffer=new a([Array.from(this.buffer).join("")]);else this.buffer=new a([P.concat(Array.from(this.buffer),this[S])])}return this[m](t||null,this.buffer.head.value)}finally{this[h]()}}[m](t,r){if(t===r.length||t===null)this[x]();else{this.buffer.head.value=r.slice(t);r=r.slice(0,t);this[S]-=t}this.emit("data",r);if(!this.buffer.length&&!this[l])this.emit("drain");return r}end(t,r,i){if(typeof t==="function")i=t,t=null;if(typeof r==="function")i=r,r="utf8";if(t)this.write(t,r);if(i)this.once("end",i);this[l]=true;this.writable=false;if(this.flowing||!this[_])this[h]();return this}[E](){if(this[T])return;this[_]=false;this[w]=true;this.emit("resume");if(this.buffer.length)this[g]();else if(this[l])this[h]();else this.emit("drain")}resume(){return this[E]()}pause(){this[w]=false;this[_]=true}get destroyed(){return this[T]}get flowing(){return this[w]}get paused(){return this[_]}[O](t){if(this[R])this[S]+=1;else this[S]+=t.length;return this.buffer.push(t)}[x](){if(this.buffer.length){if(this[R])this[S]-=1;else this[S]-=this.buffer.head.value.length}return this.buffer.shift()}[g](){do{}while(this[y](this[x]()));if(!this.buffer.length&&!this[l])this.emit("drain")}[y](t){return t?(this.emit("data",t),this.flowing):false}pipe(t,r){if(this[T])return;const i=this[u];r=r||{};if(t===process.stdout||t===process.stderr)r.end=false;else r.end=r.end!==false;const o={dest:t,opts:r,ondrain:t=>this[E]()};this.pipes.push(o);t.on("drain",o.ondrain);this[E]();if(i&&o.opts.end)o.dest.end();return t}addListener(t,r){return this.on(t,r)}on(t,r){try{return super.on(t,r)}finally{if(t==="data"&&!this.pipes.length&&!this.flowing)this[E]();else if(isEndish(t)&&this[u]){super.emit(t);this.removeAllListeners(t)}}}get emittedEnd(){return this[u]}[h](){if(!this[d]&&!this[u]&&!this[T]&&this.buffer.length===0&&this[l]){this[d]=true;this.emit("end");this.emit("prefinish");this.emit("finish");if(this[p])this.emit("close");this[d]=false}}emit(t,r){if(t!=="error"&&t!=="close"&&t!==T&&this[T])return;else if(t==="data"){if(!r)return;if(this.pipes.length)this.pipes.forEach((t=>t.dest.write(r)===false&&this.pause()))}else if(t==="end"){if(this[u]===true)return;this[u]=true;this.readable=false;if(this[v]){r=this[v].end();if(r){this.pipes.forEach((t=>t.dest.write(r)));super.emit("data",r)}}this.pipes.forEach((t=>{t.dest.removeListener("drain",t.ondrain);if(t.opts.end)t.dest.end()}))}else if(t==="close"){this[p]=true;if(!this[u]&&!this[T])return}const i=new Array(arguments.length);i[0]=t;i[1]=r;if(arguments.length>2){for(let t=2;t<arguments.length;t++){i[t]=arguments[t]}}try{return super.emit.apply(this,i)}finally{if(!isEndish(t))this[h]();else this.removeAllListeners(t)}}collect(){const t=[];t.dataLength=0;this.on("data",(r=>{t.push(r);t.dataLength+=r.length}));return this.promise().then((()=>t))}concat(){return this[R]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((t=>this[R]?Promise.reject(new Error("cannot concat in objectMode")):this[b]?t.join(""):P.concat(t,t.dataLength)))}promise(){return new Promise(((t,r)=>{this.on(T,(()=>r(new Error("stream destroyed"))));this.on("end",(()=>t()));this.on("error",(t=>r(t)))}))}[A](){const next=()=>{const t=this.read();if(t!==null)return Promise.resolve({done:false,value:t});if(this[l])return Promise.resolve({done:true});let r=null;let i=null;const onerr=t=>{this.removeListener("data",ondata);this.removeListener("end",onend);i(t)};const ondata=t=>{this.removeListener("error",onerr);this.removeListener("end",onend);this.pause();r({value:t,done:!!this[l]})};const onend=()=>{this.removeListener("error",onerr);this.removeListener("data",ondata);r({done:true})};const ondestroy=()=>onerr(new Error("stream destroyed"));return new Promise(((t,o)=>{i=o;r=t;this.once(T,ondestroy);this.once("error",onerr);this.once("end",onend);this.once("data",ondata)}))};return{next:next}}[C](){const next=()=>{const t=this.read();const r=t===null;return{value:t,done:r}};return{next:next}}destroy(t){if(this[T]){if(t)this.emit("error",t);else this.emit(T);return this}this[T]=true;this.buffer=new a;this[S]=0;if(typeof this.close==="function"&&!this[p])this.close();if(t)this.emit("error",t);else this.emit(T);return this}static isStream(t){return!!t&&(t instanceof Minipass||t instanceof o&&(typeof t.pipe==="function"||typeof t.write==="function"&&typeof t.end==="function"))}}},1532:(t,r,i)=>{const o=i(9796).constants||{ZLIB_VERNUM:4736};t.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:Infinity,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},o))},7082:(t,r,i)=>{"use strict";const o=i(9491);const a=i(4300).Buffer;const c=i(9796);const l=r.constants=i(1532);const h=i(7097);const u=a.concat;class ZlibError extends Error{constructor(t){super("zlib: "+t.message);this.code=t.code;this.errno=t.errno;if(!this.code)this.code="ZLIB_ERROR";this.message="zlib: "+t.message;Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}}const d=Symbol("opts");const p=Symbol("flushFlag");const m=Symbol("finishFlushFlag");const g=Symbol("fullFlushFlag");const y=Symbol("handle");const b=Symbol("onError");const v=Symbol("sawError");const w=Symbol("level");const _=Symbol("strategy");const E=Symbol("ended");const S=Symbol("_defaultFullFlush");class ZlibBase extends h{constructor(t,r){if(!t||typeof t!=="object")throw new TypeError("invalid options for ZlibBase constructor");super(t);this[E]=false;this[d]=t;this[p]=t.flush;this[m]=t.finishFlush;try{this[y]=new c[r](t)}catch(t){throw new ZlibError(t)}this[b]=t=>{this[v]=true;this.close();this.emit("error",t)};this[y].on("error",(t=>this[b](new ZlibError(t))));this.once("end",(()=>this.close))}close(){if(this[y]){this[y].close();this[y]=null;this.emit("close")}}reset(){if(!this[v]){o(this[y],"zlib binding closed");return this[y].reset()}}flush(t){if(this.ended)return;if(typeof t!=="number")t=this[g];this.write(Object.assign(a.alloc(0),{[p]:t}))}end(t,r,i){if(t)this.write(t,r);this.flush(this[m]);this[E]=true;return super.end(null,null,i)}get ended(){return this[E]}write(t,r,i){if(typeof r==="function")i=r,r="utf8";if(typeof t==="string")t=a.from(t,r);if(this[v])return;o(this[y],"zlib binding closed");const c=this[y]._handle;const l=c.close;c.close=()=>{};const h=this[y].close;this[y].close=()=>{};a.concat=t=>t;let d;try{const r=typeof t[p]==="number"?t[p]:this[p];d=this[y]._processChunk(t,r);a.concat=u}catch(t){a.concat=u;this[b](new ZlibError(t))}finally{if(this[y]){this[y]._handle=c;c.close=l;this[y].close=h;this[y].removeAllListeners("error")}}let m;if(d){if(Array.isArray(d)&&d.length>0){m=super.write(a.from(d[0]));for(let t=1;t<d.length;t++){m=super.write(d[t])}}else{m=super.write(a.from(d))}}if(i)i();return m}}class Zlib extends ZlibBase{constructor(t,r){t=t||{};t.flush=t.flush||l.Z_NO_FLUSH;t.finishFlush=t.finishFlush||l.Z_FINISH;super(t,r);this[g]=l.Z_FULL_FLUSH;this[w]=t.level;this[_]=t.strategy}params(t,r){if(this[v])return;if(!this[y])throw new Error("cannot switch params when binding is closed");if(!this[y].params)throw new Error("not supported in this implementation");if(this[w]!==t||this[_]!==r){this.flush(l.Z_SYNC_FLUSH);o(this[y],"zlib binding closed");const i=this[y].flush;this[y].flush=(t,r)=>{this.flush(t);r()};try{this[y].params(t,r)}finally{this[y].flush=i}if(this[y]){this[w]=t;this[_]=r}}}}class Deflate extends Zlib{constructor(t){super(t,"Deflate")}}class Inflate extends Zlib{constructor(t){super(t,"Inflate")}}class Gzip extends Zlib{constructor(t){super(t,"Gzip")}}class Gunzip extends Zlib{constructor(t){super(t,"Gunzip")}}class DeflateRaw extends Zlib{constructor(t){super(t,"DeflateRaw")}}class InflateRaw extends Zlib{constructor(t){super(t,"InflateRaw")}}class Unzip extends Zlib{constructor(t){super(t,"Unzip")}}class Brotli extends ZlibBase{constructor(t,r){t=t||{};t.flush=t.flush||l.BROTLI_OPERATION_PROCESS;t.finishFlush=t.finishFlush||l.BROTLI_OPERATION_FINISH;super(t,r);this[g]=l.BROTLI_OPERATION_FLUSH}}class BrotliCompress extends Brotli{constructor(t){super(t,"BrotliCompress")}}class BrotliDecompress extends Brotli{constructor(t){super(t,"BrotliDecompress")}}r.Deflate=Deflate;r.Inflate=Inflate;r.Gzip=Gzip;r.Gunzip=Gunzip;r.DeflateRaw=DeflateRaw;r.InflateRaw=InflateRaw;r.Unzip=Unzip;if(typeof c.BrotliCompress==="function"){r.BrotliCompress=BrotliCompress;r.BrotliDecompress=BrotliDecompress}else{r.BrotliCompress=r.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}}},7116:(t,r,i)=>{var o=i(1017);var a=i(7147);var c=parseInt("0777",8);t.exports=mkdirP.mkdirp=mkdirP.mkdirP=mkdirP;function mkdirP(t,r,i,l){if(typeof r==="function"){i=r;r={}}else if(!r||typeof r!=="object"){r={mode:r}}var h=r.mode;var u=r.fs||a;if(h===undefined){h=c}if(!l)l=null;var d=i||function(){};t=o.resolve(t);u.mkdir(t,h,(function(i){if(!i){l=l||t;return d(null,l)}switch(i.code){case"ENOENT":if(o.dirname(t)===t)return d(i);mkdirP(o.dirname(t),r,(function(i,o){if(i)d(i,o);else mkdirP(t,r,d,o)}));break;default:u.stat(t,(function(t,r){if(t||!r.isDirectory())d(i,l);else d(null,l)}));break}}))}mkdirP.sync=function sync(t,r,i){if(!r||typeof r!=="object"){r={mode:r}}var l=r.mode;var h=r.fs||a;if(l===undefined){l=c}if(!i)i=null;t=o.resolve(t);try{h.mkdirSync(t,l);i=i||t}catch(a){switch(a.code){case"ENOENT":i=sync(o.dirname(t),r,i);sync(t,r,i);break;default:var u;try{u=h.statSync(t)}catch(t){throw a}if(!u.isDirectory())throw a;break}}return i}},9852:(t,r,i)=>{var o=i(3270);t.exports=o(once);t.exports.strict=o(onceStrict);once.proto=once((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:true});Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:true})}));function once(t){var f=function(){if(f.called)return f.value;f.called=true;return f.value=t.apply(this,arguments)};f.called=false;return f}function onceStrict(t){var f=function(){if(f.called)throw new Error(f.onceError);f.called=true;return f.value=t.apply(this,arguments)};var r=t.name||"Function wrapped with `once`";f.onceError=r+" shouldn't be called more than once";f.called=false;return f}},6230:t=>{"use strict";function posix(t){return t.charAt(0)==="/"}function win32(t){var r=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/;var i=r.exec(t);var o=i[1]||"";var a=Boolean(o&&o.charAt(1)!==":");return Boolean(i[2]||a)}t.exports=process.platform==="win32"?win32:posix;t.exports.posix=posix;t.exports.win32=win32},2799:t=>{"use strict";const pathKey=(t={})=>{const r=t.env||process.env;const i=t.platform||process.platform;if(i!=="win32"){return"PATH"}return Object.keys(r).reverse().find((t=>t.toUpperCase()==="PATH"))||"Path"};t.exports=pathKey;t.exports["default"]=pathKey},7127:t=>{"use strict";class DatePart{constructor({token:t,date:r,parts:i,locales:o}){this.token=t;this.date=r||new Date;this.parts=i||[this];this.locales=o||{}}up(){}down(){}next(){const t=this.parts.indexOf(this);return this.parts.find(((r,i)=>i>t&&r instanceof DatePart))}setTo(t){}prev(){let t=[].concat(this.parts).reverse();const r=t.indexOf(this);return t.find(((t,i)=>i>r&&t instanceof DatePart))}toString(){return String(this.date)}}t.exports=DatePart},9009:(t,r,i)=>{"use strict";const o=i(7127);const pos=t=>{t=t%10;return t===1?"st":t===2?"nd":t===3?"rd":"th"};class Day extends o{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate();let r=this.date.getDay();return this.token==="DD"?String(t).padStart(2,"0"):this.token==="Do"?t+pos(t):this.token==="d"?r+1:this.token==="ddd"?this.locales.weekdaysShort[r]:this.token==="dddd"?this.locales.weekdays[r]:t}}t.exports=Day},7574:(t,r,i)=>{"use strict";const o=i(7127);class Hours extends o{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();if(/h/.test(this.token))t=t%12||12;return this.token.length>1?String(t).padStart(2,"0"):t}}t.exports=Hours},1411:(t,r,i)=>{"use strict";t.exports={DatePart:i(7127),Meridiem:i(4375),Day:i(9009),Hours:i(7574),Milliseconds:i(8284),Minutes:i(2168),Month:i(7001),Seconds:i(3228),Year:i(494)}},4375:(t,r,i)=>{"use strict";const o=i(7127);class Meridiem extends o{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}t.exports=Meridiem},8284:(t,r,i)=>{"use strict";const o=i(7127);class Milliseconds extends o{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}t.exports=Milliseconds},2168:(t,r,i)=>{"use strict";const o=i(7127);class Minutes extends o{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}t.exports=Minutes},7001:(t,r,i)=>{"use strict";const o=i(7127);class Month extends o{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1;this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth();let r=this.token.length;return r===2?String(t+1).padStart(2,"0"):r===3?this.locales.monthsShort[t]:r===4?this.locales.months[t]:String(t+1)}}t.exports=Month},3228:(t,r,i)=>{"use strict";const o=i(7127);class Seconds extends o{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}t.exports=Seconds},494:(t,r,i)=>{"use strict";const o=i(7127);class Year extends o{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?t.substr(-2):t}}t.exports=Year},6074:(t,r,i)=>{"use strict";function asyncGeneratorStep(t,r,i,o,a,c,l){try{var h=t[c](l);var u=h.value}catch(t){i(t);return}if(h.done){r(u)}else{Promise.resolve(u).then(o,a)}}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(o,a){var c=t.apply(r,i);function _next(t){asyncGeneratorStep(c,o,a,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,o,a,_next,_throw,"throw",t)}_next(undefined)}))}}const o=i(7836);const a=i(4458);const c=i(1407),l=c.erase,h=c.cursor;const u=i(4115),d=u.style,p=u.clear,m=u.figures,g=u.wrap,y=u.entriesToDisplay;const getVal=(t,r)=>t[r]&&(t[r].value||t[r].title||t[r]);const getTitle=(t,r)=>t[r]&&(t[r].title||t[r].value||t[r]);const getIndex=(t,r)=>{const i=t.findIndex((t=>t.value===r||t.title===r));return i>-1?i:undefined};class AutocompletePrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.suggest=t.suggest;this.choices=t.choices;this.initial=typeof t.initial==="number"?t.initial:getIndex(t.choices,t.initial);this.select=this.initial||t.cursor||0;this.i18n={noMatches:t.noMatches||"no matches found"};this.fallback=t.fallback||this.initial;this.clearFirst=t.clearFirst||false;this.suggestions=[];this.input="";this.limit=t.limit||10;this.cursor=0;this.transform=d.render(t.style);this.scale=this.transform.scale;this.render=this.render.bind(this);this.complete=this.complete.bind(this);this.clear=p("",this.out.columns);this.complete(this.render);this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;if(typeof this._fb==="number")t=this.choices[this._fb];else if(typeof this._fb==="string")t={title:this._fb};return t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t;if(this.suggestions.length>0)this.value=getVal(this.suggestions,t);else this.value=this.fallback.value;this.fire()}complete(t){var r=this;return _asyncToGenerator((function*(){const i=r.completing=r.suggest(r.input,r.choices);const o=yield i;if(r.completing!==i)return;r.suggestions=o.map(((t,r,i)=>({title:getTitle(i,r),value:getVal(i,r),description:t.description})));r.completing=false;const a=Math.max(o.length-1,0);r.moveSelect(Math.min(a,r.select));t&&t()}))()}reset(){this.input="";this.complete((()=>{this.moveSelect(this.initial!==void 0?this.initial:0);this.render()}));this.render()}exit(){if(this.clearFirst&&this.input.length>0){this.reset()}else{this.done=this.exited=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}}abort(){this.done=this.aborted=true;this.exited=false;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.done=true;this.aborted=this.exited=false;this.fire();this.render();this.out.write("\n");this.close()}_(t,r){let i=this.input.slice(0,this.cursor);let o=this.input.slice(this.cursor);this.input=`${i}${t}${o}`;this.cursor=i.length+1;this.complete(this.render);this.render()}delete(){if(this.cursor===0)return this.bell();let t=this.input.slice(0,this.cursor-1);let r=this.input.slice(this.cursor);this.input=`${t}${r}`;this.complete(this.render);this.cursor=this.cursor-1;this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor);let r=this.input.slice(this.cursor+1);this.input=`${t}${r}`;this.complete(this.render);this.render()}first(){this.moveSelect(0);this.render()}last(){this.moveSelect(this.suggestions.length-1);this.render()}up(){if(this.select===0){this.moveSelect(this.suggestions.length-1)}else{this.moveSelect(this.select-1)}this.render()}down(){if(this.select===this.suggestions.length-1){this.moveSelect(0)}else{this.moveSelect(this.select+1)}this.render()}next(){if(this.select===this.suggestions.length-1){this.moveSelect(0)}else this.moveSelect(this.select+1);this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1));this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0));this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1;this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1;this.render()}renderOption(t,r,i,a){let c;let l=i?m.arrowUp:a?m.arrowDown:" ";let h=r?o.cyan().underline(t.title):t.title;l=(r?o.cyan(m.pointer)+" ":"  ")+l;if(t.description){c=` - ${t.description}`;if(l.length+h.length+c.length>=this.out.columns||t.description.split(/\r?\n/).length>1){c="\n"+g(t.description,{margin:3,width:this.out.columns})}}return l+" "+h+o.gray(c||"")}render(){if(this.closed)return;if(this.firstRender)this.out.write(h.hide);else this.out.write(p(this.outputText,this.out.columns));super.render();let t=y(this.select,this.choices.length,this.limit),r=t.startIndex,i=t.endIndex;this.outputText=[d.symbol(this.done,this.aborted,this.exited),o.bold(this.msg),d.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" ");if(!this.done){const t=this.suggestions.slice(r,i).map(((t,o)=>this.renderOption(t,this.select===o+r,o===0&&r>0,o+r===i-1&&i<this.choices.length))).join("\n");this.outputText+=`\n`+(t||o.gray(this.fallback.title))}this.out.write(l.line+h.to(0)+this.outputText)}}t.exports=AutocompletePrompt},555:(t,r,i)=>{"use strict";const o=i(7836);const a=i(1407),c=a.cursor;const l=i(3740);const h=i(4115),u=h.clear,d=h.style,p=h.figures;class AutocompleteMultiselectPrompt extends l{constructor(t={}){t.overrideRender=true;super(t);this.inputValue="";this.clear=u("",this.out.columns);this.filteredOptions=this.value;this.render()}last(){this.cursor=this.filteredOptions.length-1;this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length;this.render()}up(){if(this.cursor===0){this.cursor=this.filteredOptions.length-1}else{this.cursor--}this.render()}down(){if(this.cursor===this.filteredOptions.length-1){this.cursor=0}else{this.cursor++}this.render()}left(){this.filteredOptions[this.cursor].selected=false;this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=true;this.render()}delete(){if(this.inputValue.length){this.inputValue=this.inputValue.substr(0,this.inputValue.length-1);this.updateFilteredOptions()}}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>{if(this.inputValue){if(typeof t.title==="string"){if(t.title.toLowerCase().includes(this.inputValue.toLowerCase())){return true}}if(typeof t.value==="string"){if(t.value.toLowerCase().includes(this.inputValue.toLowerCase())){return true}}return false}return true}));const r=this.filteredOptions.findIndex((r=>r===t));this.cursor=r<0?0:r;this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected){t.selected=false;this.render()}else if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices){return this.bell()}else{t.selected=true;this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t;this.updateFilteredOptions()}_(t,r){if(t===" "){this.handleSpaceToggle()}else{this.handleInputChange(t)}}renderInstructions(){if(this.instructions===undefined||this.instructions){if(typeof this.instructions==="string"){return this.instructions}return`\nInstructions:\n    ${p.arrowUp}/${p.arrowDown}: Highlight option\n    ${p.arrowLeft}/${p.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`}return""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:o.gray("Enter something to filter")}\n`}renderOption(t,r,i){let a;if(r.disabled)a=t===i?o.gray().underline(r.title):o.strikethrough().gray(r.title);else a=t===i?o.cyan().underline(r.title):r.title;return(r.selected?o.green(p.radioOn):p.radioOff)+"  "+a}renderDoneOrInstructions(){if(this.done){return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ")}const t=[o.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];if(this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled){t.push(o.yellow(this.warn))}return t.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(c.hide);super.render();let t=[d.symbol(this.done,this.aborted),o.bold(this.msg),d.delimiter(false),this.renderDoneOrInstructions()].join(" ");if(this.showMinError){t+=o.red(`You must select a minimum of ${this.minSelected} choices.`);this.showMinError=false}t+=this.renderOptions(this.filteredOptions);this.out.write(this.clear+t);this.clear=u(t,this.out.columns)}}t.exports=AutocompleteMultiselectPrompt},9205:(t,r,i)=>{"use strict";const o=i(7836);const a=i(4458);const c=i(4115),l=c.style,h=c.clear;const u=i(1407),d=u.erase,p=u.cursor;class ConfirmPrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.value=t.initial;this.initialValue=!!t.initial;this.yesMsg=t.yes||"yes";this.yesOption=t.yesOption||"(Y/n)";this.noMsg=t.no||"no";this.noOption=t.noOption||"(y/N)";this.render()}reset(){this.value=this.initialValue;this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.value=this.value||false;this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}_(t,r){if(t.toLowerCase()==="y"){this.value=true;return this.submit()}if(t.toLowerCase()==="n"){this.value=false;return this.submit()}return this.bell()}render(){if(this.closed)return;if(this.firstRender)this.out.write(p.hide);else this.out.write(h(this.outputText,this.out.columns));super.render();this.outputText=[l.symbol(this.done,this.aborted),o.bold(this.msg),l.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:o.gray(this.initialValue?this.yesOption:this.noOption)].join(" ");this.out.write(d.line+p.to(0)+this.outputText)}}t.exports=ConfirmPrompt},4244:(t,r,i)=>{"use strict";function asyncGeneratorStep(t,r,i,o,a,c,l){try{var h=t[c](l);var u=h.value}catch(t){i(t);return}if(h.done){r(u)}else{Promise.resolve(u).then(o,a)}}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(o,a){var c=t.apply(r,i);function _next(t){asyncGeneratorStep(c,o,a,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,o,a,_next,_throw,"throw",t)}_next(undefined)}))}}const o=i(7836);const a=i(4458);const c=i(4115),l=c.style,h=c.clear,u=c.figures;const d=i(1407),p=d.erase,m=d.cursor;const g=i(1411),y=g.DatePart,b=g.Meridiem,v=g.Day,w=g.Hours,_=g.Milliseconds,E=g.Minutes,S=g.Month,O=g.Seconds,x=g.Year;const R=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g;const T={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new v(t),3:t=>new S(t),4:t=>new x(t),5:t=>new b(t),6:t=>new w(t),7:t=>new E(t),8:t=>new O(t),9:t=>new _(t)};const k={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class DatePrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.cursor=0;this.typed="";this.locales=Object.assign(k,t.locales);this._date=t.initial||new Date;this.errorMsg=t.error||"Please Enter A Valid Value";this.validator=t.validate||(()=>true);this.mask=t.mask||"YYYY-MM-DD HH:mm:ss";this.clear=h("",this.out.columns);this.render()}get value(){return this.date}get date(){return this._date}set date(t){if(t)this._date.setTime(t.getTime())}set mask(t){let r;this.parts=[];while(r=R.exec(t)){let t=r.shift();let i=r.findIndex((t=>t!=null));this.parts.push(i in T?T[i]({token:r[i]||t,date:this.date,parts:this.parts,locales:this.locales}):r[i]||t)}let i=this.parts.reduce(((t,r)=>{if(typeof r==="string"&&typeof t[t.length-1]==="string")t[t.length-1]+=r;else t.push(r);return t}),[]);this.parts.splice(0);this.parts.push(...i);this.reset()}moveCursor(t){this.typed="";this.cursor=t;this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof y)));this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.error=false;this.fire();this.render();this.out.write("\n");this.close()}validate(){var t=this;return _asyncToGenerator((function*(){let r=yield t.validator(t.value);if(typeof r==="string"){t.errorMsg=r;r=false}t.error=!r}))()}submit(){var t=this;return _asyncToGenerator((function*(){yield t.validate();if(t.error){t.color="red";t.fire();t.render();return}t.done=true;t.aborted=false;t.fire();t.render();t.out.write("\n");t.close()}))()}up(){this.typed="";this.parts[this.cursor].up();this.render()}down(){this.typed="";this.parts[this.cursor].down();this.render()}left(){let t=this.parts[this.cursor].prev();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t));this.render()}right(){let t=this.parts[this.cursor].next();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t));this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof y)));this.render()}_(t){if(/\d/.test(t)){this.typed+=t;this.parts[this.cursor].setTo(this.typed);this.render()}}render(){if(this.closed)return;if(this.firstRender)this.out.write(m.hide);else this.out.write(h(this.outputText,this.out.columns));super.render();this.outputText=[l.symbol(this.done,this.aborted),o.bold(this.msg),l.delimiter(false),this.parts.reduce(((t,r,i)=>t.concat(i===this.cursor&&!this.done?o.cyan().underline(r.toString()):r)),[]).join("")].join(" ");if(this.error){this.outputText+=this.errorMsg.split("\n").reduce(((t,r,i)=>t+`\n${i?` `:u.pointerSmall} ${o.red().italic(r)}`),``)}this.out.write(p.line+m.to(0)+this.outputText)}}t.exports=DatePrompt},8301:(t,r,i)=>{"use strict";t.exports={TextPrompt:i(9548),SelectPrompt:i(4319),TogglePrompt:i(8999),DatePrompt:i(4244),NumberPrompt:i(6460),MultiselectPrompt:i(3740),AutocompletePrompt:i(6074),AutocompleteMultiselectPrompt:i(555),ConfirmPrompt:i(9205)}},3740:(t,r,i)=>{"use strict";const o=i(7836);const a=i(1407),c=a.cursor;const l=i(4458);const h=i(4115),u=h.clear,d=h.figures,p=h.style,m=h.wrap,g=h.entriesToDisplay;class MultiselectPrompt extends l{constructor(t={}){super(t);this.msg=t.message;this.cursor=t.cursor||0;this.scrollIndex=t.cursor||0;this.hint=t.hint||"";this.warn=t.warn||"- This option is disabled -";this.minSelected=t.min;this.showMinError=false;this.maxChoices=t.max;this.instructions=t.instructions;this.optionsPerPage=t.optionsPerPage||10;this.value=t.choices.map(((t,r)=>{if(typeof t==="string")t={title:t,value:r};return{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(t.value===undefined?r:t.value),selected:t&&t.selected,disabled:t&&t.disabled}}));this.clear=u("",this.out.columns);if(!t.overrideRender){this.render()}}reset(){this.value.map((t=>!t.selected));this.cursor=0;this.fire();this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){const t=this.value.filter((t=>t.selected));if(this.minSelected&&t.length<this.minSelected){this.showMinError=true;this.render()}else{this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}}first(){this.cursor=0;this.render()}last(){this.cursor=this.value.length-1;this.render()}next(){this.cursor=(this.cursor+1)%this.value.length;this.render()}up(){if(this.cursor===0){this.cursor=this.value.length-1}else{this.cursor--}this.render()}down(){if(this.cursor===this.value.length-1){this.cursor=0}else{this.cursor++}this.render()}left(){this.value[this.cursor].selected=false;this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=true;this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected){t.selected=false;this.render()}else if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices){return this.bell()}else{t.selected=true;this.render()}}toggleAll(){if(this.maxChoices!==undefined||this.value[this.cursor].disabled){return this.bell()}const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((r=>r.selected=t));this.render()}_(t,r){if(t===" "){this.handleSpaceToggle()}else if(t==="a"){this.toggleAll()}else{return this.bell()}}renderInstructions(){if(this.instructions===undefined||this.instructions){if(typeof this.instructions==="string"){return this.instructions}return"\nInstructions:\n"+`    ${d.arrowUp}/${d.arrowDown}: Highlight option\n`+`    ${d.arrowLeft}/${d.arrowRight}/[space]: Toggle selection\n`+(this.maxChoices===undefined?`    a: Toggle all\n`:"")+`    enter/return: Complete answer`}return""}renderOption(t,r,i,a){const c=(r.selected?o.green(d.radioOn):d.radioOff)+" "+a+" ";let l,h;if(r.disabled){l=t===i?o.gray().underline(r.title):o.strikethrough().gray(r.title)}else{l=t===i?o.cyan().underline(r.title):r.title;if(t===i&&r.description){h=` - ${r.description}`;if(c.length+l.length+h.length>=this.out.columns||r.description.split(/\r?\n/).length>1){h="\n"+m(r.description,{margin:c.length,width:this.out.columns})}}}return c+l+o.gray(h||"")}paginateOptions(t){if(t.length===0){return o.red("No matches for this query.")}let r=g(this.cursor,t.length,this.optionsPerPage),i=r.startIndex,a=r.endIndex;let c,l=[];for(let r=i;r<a;r++){if(r===i&&i>0){c=d.arrowUp}else if(r===a-1&&a<t.length){c=d.arrowDown}else{c=" "}l.push(this.renderOption(this.cursor,t[r],r,c))}return"\n"+l.join("\n")}renderOptions(t){if(!this.done){return this.paginateOptions(t)}return""}renderDoneOrInstructions(){if(this.done){return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ")}const t=[o.gray(this.hint),this.renderInstructions()];if(this.value[this.cursor].disabled){t.push(o.yellow(this.warn))}return t.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(c.hide);super.render();let t=[p.symbol(this.done,this.aborted),o.bold(this.msg),p.delimiter(false),this.renderDoneOrInstructions()].join(" ");if(this.showMinError){t+=o.red(`You must select a minimum of ${this.minSelected} choices.`);this.showMinError=false}t+=this.renderOptions(this.value);this.out.write(this.clear+t);this.clear=u(t,this.out.columns)}}t.exports=MultiselectPrompt},6460:(t,r,i)=>{"use strict";function asyncGeneratorStep(t,r,i,o,a,c,l){try{var h=t[c](l);var u=h.value}catch(t){i(t);return}if(h.done){r(u)}else{Promise.resolve(u).then(o,a)}}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(o,a){var c=t.apply(r,i);function _next(t){asyncGeneratorStep(c,o,a,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,o,a,_next,_throw,"throw",t)}_next(undefined)}))}}const o=i(7836);const a=i(4458);const c=i(1407),l=c.cursor,h=c.erase;const u=i(4115),d=u.style,p=u.figures,m=u.clear,g=u.lines;const y=/[0-9]/;const isDef=t=>t!==undefined;const round=(t,r)=>{let i=Math.pow(10,r);return Math.round(t*i)/i};class NumberPrompt extends a{constructor(t={}){super(t);this.transform=d.render(t.style);this.msg=t.message;this.initial=isDef(t.initial)?t.initial:"";this.float=!!t.float;this.round=t.round||2;this.inc=t.increment||1;this.min=isDef(t.min)?t.min:-Infinity;this.max=isDef(t.max)?t.max:Infinity;this.errorMsg=t.error||`Please Enter A Valid Value`;this.validator=t.validate||(()=>true);this.color=`cyan`;this.value=``;this.typed=``;this.lastHit=0;this.render()}set value(t){if(!t&&t!==0){this.placeholder=true;this.rendered=o.gray(this.transform.render(`${this.initial}`));this._value=``}else{this.placeholder=false;this.rendered=this.transform.render(`${round(t,this.round)}`);this._value=round(t,this.round)}this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return t===`-`||t===`.`&&this.float||y.test(t)}reset(){this.typed=``;this.value=``;this.fire();this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=t!==``?t:this.initial;this.done=this.aborted=true;this.error=false;this.fire();this.render();this.out.write(`\n`);this.close()}validate(){var t=this;return _asyncToGenerator((function*(){let r=yield t.validator(t.value);if(typeof r===`string`){t.errorMsg=r;r=false}t.error=!r}))()}submit(){var t=this;return _asyncToGenerator((function*(){yield t.validate();if(t.error){t.color=`red`;t.fire();t.render();return}let r=t.value;t.value=r!==``?r:t.initial;t.done=true;t.aborted=false;t.error=false;t.fire();t.render();t.out.write(`\n`);t.close()}))()}up(){this.typed=``;if(this.value===""){this.value=this.min-this.inc}if(this.value>=this.max)return this.bell();this.value+=this.inc;this.color=`cyan`;this.fire();this.render()}down(){this.typed=``;if(this.value===""){this.value=this.min+this.inc}if(this.value<=this.min)return this.bell();this.value-=this.inc;this.color=`cyan`;this.fire();this.render()}delete(){let t=this.value.toString();if(t.length===0)return this.bell();this.value=this.parse(t=t.slice(0,-1))||``;if(this.value!==""&&this.value<this.min){this.value=this.min}this.color=`cyan`;this.fire();this.render()}next(){this.value=this.initial;this.fire();this.render()}_(t,r){if(!this.valid(t))return this.bell();const i=Date.now();if(i-this.lastHit>1e3)this.typed=``;this.typed+=t;this.lastHit=i;this.color=`cyan`;if(t===`.`)return this.fire();this.value=Math.min(this.parse(this.typed),this.max);if(this.value>this.max)this.value=this.max;if(this.value<this.min)this.value=this.min;this.fire();this.render()}render(){if(this.closed)return;if(!this.firstRender){if(this.outputError)this.out.write(l.down(g(this.outputError,this.out.columns)-1)+m(this.outputError,this.out.columns));this.out.write(m(this.outputText,this.out.columns))}super.render();this.outputError="";this.outputText=[d.symbol(this.done,this.aborted),o.bold(this.msg),d.delimiter(this.done),!this.done||!this.done&&!this.placeholder?o[this.color]().underline(this.rendered):this.rendered].join(` `);if(this.error){this.outputError+=this.errorMsg.split(`\n`).reduce(((t,r,i)=>t+`\n${i?` `:p.pointerSmall} ${o.red().italic(r)}`),``)}this.out.write(h.line+l.to(0)+this.outputText+l.save+this.outputError+l.restore)}}t.exports=NumberPrompt},4458:(t,r,i)=>{"use strict";const o=i(4521);const a=i(4115),c=a.action;const l=i(2361);const h=i(1407),u=h.beep,d=h.cursor;const p=i(7836);class Prompt extends l{constructor(t={}){super();this.firstRender=true;this.in=t.stdin||process.stdin;this.out=t.stdout||process.stdout;this.onRender=(t.onRender||(()=>void 0)).bind(this);const r=o.createInterface({input:this.in,escapeCodeTimeout:50});o.emitKeypressEvents(this.in,r);if(this.in.isTTY)this.in.setRawMode(true);const i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1;const keypress=(t,r)=>{let o=c(r,i);if(o===false){this._&&this._(t,r)}else if(typeof this[o]==="function"){this[o](r)}else{this.bell()}};this.close=()=>{this.out.write(d.show);this.in.removeListener("keypress",keypress);if(this.in.isTTY)this.in.setRawMode(false);r.close();this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value);this.closed=true};this.in.on("keypress",keypress)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(u)}render(){this.onRender(p);if(this.firstRender)this.firstRender=false}}t.exports=Prompt},4319:(t,r,i)=>{"use strict";const o=i(7836);const a=i(4458);const c=i(4115),l=c.style,h=c.clear,u=c.figures,d=c.wrap,p=c.entriesToDisplay;const m=i(1407),g=m.cursor;class SelectPrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.hint=t.hint||"- Use arrow-keys. Return to submit.";this.warn=t.warn||"- This option is disabled";this.cursor=t.initial||0;this.choices=t.choices.map(((t,r)=>{if(typeof t==="string")t={title:t,value:r};return{title:t&&(t.title||t.value||t),value:t&&(t.value===undefined?r:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}}));this.optionsPerPage=t.optionsPerPage||10;this.value=(this.choices[this.cursor]||{}).value;this.clear=h("",this.out.columns);this.render()}moveCursor(t){this.cursor=t;this.value=this.choices[t].value;this.fire()}reset(){this.moveCursor(0);this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){if(!this.selection.disabled){this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}else this.bell()}first(){this.moveCursor(0);this.render()}last(){this.moveCursor(this.choices.length-1);this.render()}up(){if(this.cursor===0){this.moveCursor(this.choices.length-1)}else{this.moveCursor(this.cursor-1)}this.render()}down(){if(this.cursor===this.choices.length-1){this.moveCursor(0)}else{this.moveCursor(this.cursor+1)}this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length);this.render()}_(t,r){if(t===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;if(this.firstRender)this.out.write(g.hide);else this.out.write(h(this.outputText,this.out.columns));super.render();let t=p(this.cursor,this.choices.length,this.optionsPerPage),r=t.startIndex,i=t.endIndex;this.outputText=[l.symbol(this.done,this.aborted),o.bold(this.msg),l.delimiter(false),this.done?this.selection.title:this.selection.disabled?o.yellow(this.warn):o.gray(this.hint)].join(" ");if(!this.done){this.outputText+="\n";for(let t=r;t<i;t++){let a,c,l="",h=this.choices[t];if(t===r&&r>0){c=u.arrowUp}else if(t===i-1&&i<this.choices.length){c=u.arrowDown}else{c=" "}if(h.disabled){a=this.cursor===t?o.gray().underline(h.title):o.strikethrough().gray(h.title);c=(this.cursor===t?o.bold().gray(u.pointer)+" ":"  ")+c}else{a=this.cursor===t?o.cyan().underline(h.title):h.title;c=(this.cursor===t?o.cyan(u.pointer)+" ":"  ")+c;if(h.description&&this.cursor===t){l=` - ${h.description}`;if(c.length+a.length+l.length>=this.out.columns||h.description.split(/\r?\n/).length>1){l="\n"+d(h.description,{margin:3,width:this.out.columns})}}}this.outputText+=`${c} ${a}${o.gray(l)}\n`}}this.out.write(this.outputText)}}t.exports=SelectPrompt},9548:(t,r,i)=>{"use strict";function asyncGeneratorStep(t,r,i,o,a,c,l){try{var h=t[c](l);var u=h.value}catch(t){i(t);return}if(h.done){r(u)}else{Promise.resolve(u).then(o,a)}}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(o,a){var c=t.apply(r,i);function _next(t){asyncGeneratorStep(c,o,a,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,o,a,_next,_throw,"throw",t)}_next(undefined)}))}}const o=i(7836);const a=i(4458);const c=i(1407),l=c.erase,h=c.cursor;const u=i(4115),d=u.style,p=u.clear,m=u.lines,g=u.figures;class TextPrompt extends a{constructor(t={}){super(t);this.transform=d.render(t.style);this.scale=this.transform.scale;this.msg=t.message;this.initial=t.initial||``;this.validator=t.validate||(()=>true);this.value=``;this.errorMsg=t.error||`Please Enter A Valid Value`;this.cursor=Number(!!this.initial);this.cursorOffset=0;this.clear=p(``,this.out.columns);this.render()}set value(t){if(!t&&this.initial){this.placeholder=true;this.rendered=o.gray(this.transform.render(this.initial))}else{this.placeholder=false;this.rendered=this.transform.render(t)}this._value=t;this.fire()}get value(){return this._value}reset(){this.value=``;this.cursor=Number(!!this.initial);this.cursorOffset=0;this.fire();this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial;this.done=this.aborted=true;this.error=false;this.red=false;this.fire();this.render();this.out.write("\n");this.close()}validate(){var t=this;return _asyncToGenerator((function*(){let r=yield t.validator(t.value);if(typeof r===`string`){t.errorMsg=r;r=false}t.error=!r}))()}submit(){var t=this;return _asyncToGenerator((function*(){t.value=t.value||t.initial;t.cursorOffset=0;t.cursor=t.rendered.length;yield t.validate();if(t.error){t.red=true;t.fire();t.render();return}t.done=true;t.aborted=false;t.fire();t.render();t.out.write("\n");t.close()}))()}next(){if(!this.placeholder)return this.bell();this.value=this.initial;this.cursor=this.rendered.length;this.fire();this.render()}moveCursor(t){if(this.placeholder)return;this.cursor=this.cursor+t;this.cursorOffset+=t}_(t,r){let i=this.value.slice(0,this.cursor);let o=this.value.slice(this.cursor);this.value=`${i}${t}${o}`;this.red=false;this.cursor=this.placeholder?0:i.length+1;this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1);let r=this.value.slice(this.cursor);this.value=`${t}${r}`;this.red=false;if(this.isCursorAtStart()){this.cursorOffset=0}else{this.cursorOffset++;this.moveCursor(-1)}this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor);let r=this.value.slice(this.cursor+1);this.value=`${t}${r}`;this.red=false;if(this.isCursorAtEnd()){this.cursorOffset=0}else{this.cursorOffset++}this.render()}first(){this.cursor=0;this.render()}last(){this.cursor=this.value.length;this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1);this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1);this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){if(this.closed)return;if(!this.firstRender){if(this.outputError)this.out.write(h.down(m(this.outputError,this.out.columns)-1)+p(this.outputError,this.out.columns));this.out.write(p(this.outputText,this.out.columns))}super.render();this.outputError="";this.outputText=[d.symbol(this.done,this.aborted),o.bold(this.msg),d.delimiter(this.done),this.red?o.red(this.rendered):this.rendered].join(` `);if(this.error){this.outputError+=this.errorMsg.split(`\n`).reduce(((t,r,i)=>t+`\n${i?" ":g.pointerSmall} ${o.red().italic(r)}`),``)}this.out.write(l.line+h.to(0)+this.outputText+h.save+this.outputError+h.restore+h.move(this.cursorOffset,0))}}t.exports=TextPrompt},8999:(t,r,i)=>{"use strict";const o=i(7836);const a=i(4458);const c=i(4115),l=c.style,h=c.clear;const u=i(1407),d=u.cursor,p=u.erase;class TogglePrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.value=!!t.initial;this.active=t.active||"on";this.inactive=t.inactive||"off";this.initialValue=this.value;this.render()}reset(){this.value=this.initialValue;this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}deactivate(){if(this.value===false)return this.bell();this.value=false;this.render()}activate(){if(this.value===true)return this.bell();this.value=true;this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value;this.fire();this.render()}_(t,r){if(t===" "){this.value=!this.value}else if(t==="1"){this.value=true}else if(t==="0"){this.value=false}else return this.bell();this.render()}render(){if(this.closed)return;if(this.firstRender)this.out.write(d.hide);else this.out.write(h(this.outputText,this.out.columns));super.render();this.outputText=[l.symbol(this.done,this.aborted),o.bold(this.msg),l.delimiter(this.done),this.value?this.inactive:o.cyan().underline(this.inactive),o.gray("/"),this.value?o.cyan().underline(this.active):this.active].join(" ");this.out.write(p.line+d.to(0)+this.outputText)}}t.exports=TogglePrompt},2024:(t,r,i)=>{"use strict";function ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);if(r){o=o.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))}i.push.apply(i,o)}return i}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var i=arguments[r]!=null?arguments[r]:{};if(r%2){ownKeys(Object(i),true).forEach((function(r){_defineProperty(t,r,i[r])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))}else{ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}}return t}function _defineProperty(t,r,i){if(r in t){Object.defineProperty(t,r,{value:i,enumerable:true,configurable:true,writable:true})}else{t[r]=i}return t}function _createForOfIteratorHelper(t,r){var i=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&typeof t.length==="number"){if(i)t=i;var o=0;var a=function F(){};return{s:a,n:function n(){if(o>=t.length)return{done:true};return{done:false,value:t[o++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c=true,l=false,h;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();c=t.done;return t},e:function e(t){l=true;h=t},f:function f(){try{if(!c&&i.return!=null)i.return()}finally{if(l)throw h}}}}function _unsupportedIterableToArray(t,r){if(!t)return;if(typeof t==="string")return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor)i=t.constructor.name;if(i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}function _arrayLikeToArray(t,r){if(r==null||r>t.length)r=t.length;for(var i=0,o=new Array(r);i<r;i++)o[i]=t[i];return o}function asyncGeneratorStep(t,r,i,o,a,c,l){try{var h=t[c](l);var u=h.value}catch(t){i(t);return}if(h.done){r(u)}else{Promise.resolve(u).then(o,a)}}function _asyncToGenerator(t){return function(){var r=this,i=arguments;return new Promise((function(o,a){var c=t.apply(r,i);function _next(t){asyncGeneratorStep(c,o,a,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(c,o,a,_next,_throw,"throw",t)}_next(undefined)}))}}const o=i(8422);const a=["suggest","format","onState","validate","onRender","type"];const noop=()=>{};function prompt(){return _prompt.apply(this,arguments)}function _prompt(){_prompt=_asyncToGenerator((function*(t=[],{onSubmit:r=noop,onCancel:i=noop}={}){const c={};const l=prompt._override||{};t=[].concat(t);let h,u,d,p,m,g;const y=function(){var t=_asyncToGenerator((function*(t,r,i=false){if(!i&&t.validate&&t.validate(r)!==true){return}return t.format?yield t.format(r,c):r}));return function getFormattedAnswer(r,i){return t.apply(this,arguments)}}();var b=_createForOfIteratorHelper(t),v;try{for(b.s();!(v=b.n()).done;){u=v.value;var w=u;p=w.name;m=w.type;if(typeof m==="function"){m=yield m(h,_objectSpread({},c),u);u["type"]=m}if(!m)continue;for(let t in u){if(a.includes(t))continue;let r=u[t];u[t]=typeof r==="function"?yield r(h,_objectSpread({},c),g):r}g=u;if(typeof u.message!=="string"){throw new Error("prompt message is required")}var _=u;p=_.name;m=_.type;if(o[m]===void 0){throw new Error(`prompt type (${m}) is not defined`)}if(l[u.name]!==undefined){h=yield y(u,l[u.name]);if(h!==undefined){c[p]=h;continue}}try{h=prompt._injected?getInjectedAnswer(prompt._injected,u.initial):yield o[m](u);c[p]=h=yield y(u,h,true);d=yield r(u,h,c)}catch(t){d=!(yield i(u,c))}if(d)return c}}catch(t){b.e(t)}finally{b.f()}return c}));return _prompt.apply(this,arguments)}function getInjectedAnswer(t,r){const i=t.shift();if(i instanceof Error){throw i}return i===undefined?r:i}function inject(t){prompt._injected=(prompt._injected||[]).concat(t)}function override(t){prompt._override=Object.assign({},t)}t.exports=Object.assign(prompt,{prompt:prompt,prompts:o,inject:inject,override:override})},8422:(t,r,i)=>{"use strict";const o=r;const a=i(8301);const noop=t=>t;function toPrompt(t,r,i={}){return new Promise(((o,c)=>{const l=new a[t](r);const h=i.onAbort||noop;const u=i.onSubmit||noop;const d=i.onExit||noop;l.on("state",r.onState||noop);l.on("submit",(t=>o(u(t))));l.on("exit",(t=>o(d(t))));l.on("abort",(t=>c(h(t))))}))}o.text=t=>toPrompt("TextPrompt",t);o.password=t=>{t.style="password";return o.text(t)};o.invisible=t=>{t.style="invisible";return o.text(t)};o.number=t=>toPrompt("NumberPrompt",t);o.date=t=>toPrompt("DatePrompt",t);o.confirm=t=>toPrompt("ConfirmPrompt",t);o.list=t=>{const r=t.separator||",";return toPrompt("TextPrompt",t,{onSubmit:t=>t.split(r).map((t=>t.trim()))})};o.toggle=t=>toPrompt("TogglePrompt",t);o.select=t=>toPrompt("SelectPrompt",t);o.multiselect=t=>{t.choices=[].concat(t.choices||[]);const toSelected=t=>t.filter((t=>t.selected)).map((t=>t.value));return toPrompt("MultiselectPrompt",t,{onAbort:toSelected,onSubmit:toSelected})};o.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const toSelected=t=>t.filter((t=>t.selected)).map((t=>t.value));return toPrompt("AutocompleteMultiselectPrompt",t,{onAbort:toSelected,onSubmit:toSelected})};const byTitle=(t,r)=>Promise.resolve(r.filter((r=>r.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));o.autocomplete=t=>{t.suggest=t.suggest||byTitle;t.choices=[].concat(t.choices||[]);return toPrompt("AutocompletePrompt",t)}},4199:t=>{"use strict";t.exports=(t,r)=>{if(t.meta&&t.name!=="escape")return;if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c")return"abort";if(t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(r){if(t.name==="j")return"down";if(t.name==="k")return"up"}if(t.name==="return")return"submit";if(t.name==="enter")return"submit";if(t.name==="backspace")return"delete";if(t.name==="delete")return"deleteForward";if(t.name==="abort")return"abort";if(t.name==="escape")return"exit";if(t.name==="tab")return"next";if(t.name==="pagedown")return"nextPage";if(t.name==="pageup")return"prevPage";if(t.name==="home")return"home";if(t.name==="end")return"end";if(t.name==="up")return"up";if(t.name==="down")return"down";if(t.name==="right")return"right";if(t.name==="left")return"left";return false}},1817:(t,r,i)=>{"use strict";function _createForOfIteratorHelper(t,r){var i=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&typeof t.length==="number"){if(i)t=i;var o=0;var a=function F(){};return{s:a,n:function n(){if(o>=t.length)return{done:true};return{done:false,value:t[o++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c=true,l=false,h;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();c=t.done;return t},e:function e(t){l=true;h=t},f:function f(){try{if(!c&&i.return!=null)i.return()}finally{if(l)throw h}}}}function _unsupportedIterableToArray(t,r){if(!t)return;if(typeof t==="string")return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor)i=t.constructor.name;if(i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}function _arrayLikeToArray(t,r){if(r==null||r>t.length)r=t.length;for(var i=0,o=new Array(r);i<r;i++)o[i]=t[i];return o}const o=i(4056);const a=i(1407),c=a.erase,l=a.cursor;const width=t=>[...o(t)].length;t.exports=function(t,r){if(!r)return c.line+l.to(0);let i=0;const o=t.split(/\r?\n/);var a=_createForOfIteratorHelper(o),h;try{for(a.s();!(h=a.n()).done;){let t=h.value;i+=1+Math.floor(Math.max(width(t)-1,0)/r)}}catch(t){a.e(t)}finally{a.f()}return c.lines(i)}},308:t=>{"use strict";t.exports=(t,r,i)=>{i=i||r;let o=Math.min(r-i,t-Math.floor(i/2));if(o<0)o=0;let a=Math.min(o+i,r);return{startIndex:o,endIndex:a}}},8111:t=>{"use strict";const r={arrowUp:"",arrowDown:"",arrowLeft:"",arrowRight:"",radioOn:"",radioOff:"",tick:"",cross:"",ellipsis:"",pointerSmall:"",line:"",pointer:""};const i={arrowUp:r.arrowUp,arrowDown:r.arrowDown,arrowLeft:r.arrowLeft,arrowRight:r.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"",cross:"",ellipsis:"...",pointerSmall:"",line:"",pointer:">"};const o=process.platform==="win32"?i:r;t.exports=o},4115:(t,r,i)=>{"use strict";t.exports={action:i(4199),clear:i(1817),style:i(1640),strip:i(4056),figures:i(8111),lines:i(8886),wrap:i(2110),entriesToDisplay:i(308)}},8886:(t,r,i)=>{"use strict";const o=i(4056);t.exports=function(t,r){let i=String(o(t)||"").split(/\r?\n/);if(!r)return i.length;return i.map((t=>Math.ceil(t.length/r))).reduce(((t,r)=>t+r))}},4056:t=>{"use strict";t.exports=t=>{const r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|");const i=new RegExp(r,"g");return typeof t==="string"?t.replace(i,""):t}},1640:(t,r,i)=>{"use strict";const o=i(7836);const a=i(8111);const c=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}});const render=t=>c[t]||c.default;const l=Object.freeze({aborted:o.red(a.cross),done:o.green(a.tick),exited:o.yellow(a.cross),default:o.cyan("?")});const symbol=(t,r,i)=>r?l.aborted:i?l.exited:t?l.done:l.default;const delimiter=t=>o.gray(t?a.ellipsis:a.pointerSmall);const item=(t,r)=>o.gray(t?r?a.pointerSmall:"+":a.line);t.exports={styles:c,render:render,symbols:l,symbol:symbol,delimiter:delimiter,item:item}},2110:t=>{"use strict";t.exports=(t,r={})=>{const i=Number.isSafeInteger(parseInt(r.margin))?new Array(parseInt(r.margin)).fill(" ").join(""):r.margin||"";const o=r.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,r)=>{if(r.length+i.length>=o||t[t.length-1].length+r.length+1<o)t[t.length-1]+=` ${r}`;else t.push(`${i}${r}`);return t}),[i]).join("\n"))).join("\n")}},5713:(t,r,i)=>{function isNodeLT(t){t=(Array.isArray(t)?t:t.split(".")).map(Number);let r=0,i=process.versions.node.split(".").map(Number);for(;r<t.length;r++){if(i[r]>t[r])return false;if(t[r]>i[r])return true}return false}t.exports=isNodeLT("8.6.0")?i(2024):i(5061)},8701:t=>{"use strict";class DatePart{constructor({token:t,date:r,parts:i,locales:o}){this.token=t;this.date=r||new Date;this.parts=i||[this];this.locales=o||{}}up(){}down(){}next(){const t=this.parts.indexOf(this);return this.parts.find(((r,i)=>i>t&&r instanceof DatePart))}setTo(t){}prev(){let t=[].concat(this.parts).reverse();const r=t.indexOf(this);return t.find(((t,i)=>i>r&&t instanceof DatePart))}toString(){return String(this.date)}}t.exports=DatePart},5998:(t,r,i)=>{"use strict";const o=i(8701);const pos=t=>{t=t%10;return t===1?"st":t===2?"nd":t===3?"rd":"th"};class Day extends o{constructor(t={}){super(t)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(t){this.date.setDate(parseInt(t.substr(-2)))}toString(){let t=this.date.getDate();let r=this.date.getDay();return this.token==="DD"?String(t).padStart(2,"0"):this.token==="Do"?t+pos(t):this.token==="d"?r+1:this.token==="ddd"?this.locales.weekdaysShort[r]:this.token==="dddd"?this.locales.weekdays[r]:t}}t.exports=Day},9780:(t,r,i)=>{"use strict";const o=i(8701);class Hours extends o{constructor(t={}){super(t)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(t){this.date.setHours(parseInt(t.substr(-2)))}toString(){let t=this.date.getHours();if(/h/.test(this.token))t=t%12||12;return this.token.length>1?String(t).padStart(2,"0"):t}}t.exports=Hours},399:(t,r,i)=>{"use strict";t.exports={DatePart:i(8701),Meridiem:i(3385),Day:i(5998),Hours:i(9780),Milliseconds:i(6858),Minutes:i(8616),Month:i(1325),Seconds:i(817),Year:i(5406)}},3385:(t,r,i)=>{"use strict";const o=i(8701);class Meridiem extends o{constructor(t={}){super(t)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let t=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?t.toUpperCase():t}}t.exports=Meridiem},6858:(t,r,i)=>{"use strict";const o=i(8701);class Milliseconds extends o{constructor(t={}){super(t)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(t){this.date.setMilliseconds(parseInt(t.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}t.exports=Milliseconds},8616:(t,r,i)=>{"use strict";const o=i(8701);class Minutes extends o{constructor(t={}){super(t)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(t){this.date.setMinutes(parseInt(t.substr(-2)))}toString(){let t=this.date.getMinutes();return this.token.length>1?String(t).padStart(2,"0"):t}}t.exports=Minutes},1325:(t,r,i)=>{"use strict";const o=i(8701);class Month extends o{constructor(t={}){super(t)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(t){t=parseInt(t.substr(-2))-1;this.date.setMonth(t<0?0:t)}toString(){let t=this.date.getMonth();let r=this.token.length;return r===2?String(t+1).padStart(2,"0"):r===3?this.locales.monthsShort[t]:r===4?this.locales.months[t]:String(t+1)}}t.exports=Month},817:(t,r,i)=>{"use strict";const o=i(8701);class Seconds extends o{constructor(t={}){super(t)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(t){this.date.setSeconds(parseInt(t.substr(-2)))}toString(){let t=this.date.getSeconds();return this.token.length>1?String(t).padStart(2,"0"):t}}t.exports=Seconds},5406:(t,r,i)=>{"use strict";const o=i(8701);class Year extends o{constructor(t={}){super(t)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(t){this.date.setFullYear(t.substr(-4))}toString(){let t=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?t.substr(-2):t}}t.exports=Year},5533:(t,r,i)=>{"use strict";const o=i(7836);const a=i(9850);const{erase:c,cursor:l}=i(1407);const{style:h,clear:u,figures:d,wrap:p,entriesToDisplay:m}=i(327);const getVal=(t,r)=>t[r]&&(t[r].value||t[r].title||t[r]);const getTitle=(t,r)=>t[r]&&(t[r].title||t[r].value||t[r]);const getIndex=(t,r)=>{const i=t.findIndex((t=>t.value===r||t.title===r));return i>-1?i:undefined};class AutocompletePrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.suggest=t.suggest;this.choices=t.choices;this.initial=typeof t.initial==="number"?t.initial:getIndex(t.choices,t.initial);this.select=this.initial||t.cursor||0;this.i18n={noMatches:t.noMatches||"no matches found"};this.fallback=t.fallback||this.initial;this.clearFirst=t.clearFirst||false;this.suggestions=[];this.input="";this.limit=t.limit||10;this.cursor=0;this.transform=h.render(t.style);this.scale=this.transform.scale;this.render=this.render.bind(this);this.complete=this.complete.bind(this);this.clear=u("",this.out.columns);this.complete(this.render);this.render()}set fallback(t){this._fb=Number.isSafeInteger(parseInt(t))?parseInt(t):t}get fallback(){let t;if(typeof this._fb==="number")t=this.choices[this._fb];else if(typeof this._fb==="string")t={title:this._fb};return t||this._fb||{title:this.i18n.noMatches}}moveSelect(t){this.select=t;if(this.suggestions.length>0)this.value=getVal(this.suggestions,t);else this.value=this.fallback.value;this.fire()}async complete(t){const r=this.completing=this.suggest(this.input,this.choices);const i=await r;if(this.completing!==r)return;this.suggestions=i.map(((t,r,i)=>({title:getTitle(i,r),value:getVal(i,r),description:t.description})));this.completing=false;const o=Math.max(i.length-1,0);this.moveSelect(Math.min(o,this.select));t&&t()}reset(){this.input="";this.complete((()=>{this.moveSelect(this.initial!==void 0?this.initial:0);this.render()}));this.render()}exit(){if(this.clearFirst&&this.input.length>0){this.reset()}else{this.done=this.exited=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}}abort(){this.done=this.aborted=true;this.exited=false;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.done=true;this.aborted=this.exited=false;this.fire();this.render();this.out.write("\n");this.close()}_(t,r){let i=this.input.slice(0,this.cursor);let o=this.input.slice(this.cursor);this.input=`${i}${t}${o}`;this.cursor=i.length+1;this.complete(this.render);this.render()}delete(){if(this.cursor===0)return this.bell();let t=this.input.slice(0,this.cursor-1);let r=this.input.slice(this.cursor);this.input=`${t}${r}`;this.complete(this.render);this.cursor=this.cursor-1;this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let t=this.input.slice(0,this.cursor);let r=this.input.slice(this.cursor+1);this.input=`${t}${r}`;this.complete(this.render);this.render()}first(){this.moveSelect(0);this.render()}last(){this.moveSelect(this.suggestions.length-1);this.render()}up(){if(this.select===0){this.moveSelect(this.suggestions.length-1)}else{this.moveSelect(this.select-1)}this.render()}down(){if(this.select===this.suggestions.length-1){this.moveSelect(0)}else{this.moveSelect(this.select+1)}this.render()}next(){if(this.select===this.suggestions.length-1){this.moveSelect(0)}else this.moveSelect(this.select+1);this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1));this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0));this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1;this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1;this.render()}renderOption(t,r,i,a){let c;let l=i?d.arrowUp:a?d.arrowDown:" ";let h=r?o.cyan().underline(t.title):t.title;l=(r?o.cyan(d.pointer)+" ":"  ")+l;if(t.description){c=` - ${t.description}`;if(l.length+h.length+c.length>=this.out.columns||t.description.split(/\r?\n/).length>1){c="\n"+p(t.description,{margin:3,width:this.out.columns})}}return l+" "+h+o.gray(c||"")}render(){if(this.closed)return;if(this.firstRender)this.out.write(l.hide);else this.out.write(u(this.outputText,this.out.columns));super.render();let{startIndex:t,endIndex:r}=m(this.select,this.choices.length,this.limit);this.outputText=[h.symbol(this.done,this.aborted,this.exited),o.bold(this.msg),h.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" ");if(!this.done){const i=this.suggestions.slice(t,r).map(((i,o)=>this.renderOption(i,this.select===o+t,o===0&&t>0,o+t===r-1&&r<this.choices.length))).join("\n");this.outputText+=`\n`+(i||o.gray(this.fallback.title))}this.out.write(c.line+l.to(0)+this.outputText)}}t.exports=AutocompletePrompt},5474:(t,r,i)=>{"use strict";const o=i(7836);const{cursor:a}=i(1407);const c=i(3441);const{clear:l,style:h,figures:u}=i(327);class AutocompleteMultiselectPrompt extends c{constructor(t={}){t.overrideRender=true;super(t);this.inputValue="";this.clear=l("",this.out.columns);this.filteredOptions=this.value;this.render()}last(){this.cursor=this.filteredOptions.length-1;this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length;this.render()}up(){if(this.cursor===0){this.cursor=this.filteredOptions.length-1}else{this.cursor--}this.render()}down(){if(this.cursor===this.filteredOptions.length-1){this.cursor=0}else{this.cursor++}this.render()}left(){this.filteredOptions[this.cursor].selected=false;this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=true;this.render()}delete(){if(this.inputValue.length){this.inputValue=this.inputValue.substr(0,this.inputValue.length-1);this.updateFilteredOptions()}}updateFilteredOptions(){const t=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((t=>{if(this.inputValue){if(typeof t.title==="string"){if(t.title.toLowerCase().includes(this.inputValue.toLowerCase())){return true}}if(typeof t.value==="string"){if(t.value.toLowerCase().includes(this.inputValue.toLowerCase())){return true}}return false}return true}));const r=this.filteredOptions.findIndex((r=>r===t));this.cursor=r<0?0:r;this.render()}handleSpaceToggle(){const t=this.filteredOptions[this.cursor];if(t.selected){t.selected=false;this.render()}else if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices){return this.bell()}else{t.selected=true;this.render()}}handleInputChange(t){this.inputValue=this.inputValue+t;this.updateFilteredOptions()}_(t,r){if(t===" "){this.handleSpaceToggle()}else{this.handleInputChange(t)}}renderInstructions(){if(this.instructions===undefined||this.instructions){if(typeof this.instructions==="string"){return this.instructions}return`\nInstructions:\n    ${u.arrowUp}/${u.arrowDown}: Highlight option\n    ${u.arrowLeft}/${u.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`}return""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:o.gray("Enter something to filter")}\n`}renderOption(t,r,i){let a;if(r.disabled)a=t===i?o.gray().underline(r.title):o.strikethrough().gray(r.title);else a=t===i?o.cyan().underline(r.title):r.title;return(r.selected?o.green(u.radioOn):u.radioOff)+"  "+a}renderDoneOrInstructions(){if(this.done){return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ")}const t=[o.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];if(this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled){t.push(o.yellow(this.warn))}return t.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(a.hide);super.render();let t=[h.symbol(this.done,this.aborted),o.bold(this.msg),h.delimiter(false),this.renderDoneOrInstructions()].join(" ");if(this.showMinError){t+=o.red(`You must select a minimum of ${this.minSelected} choices.`);this.showMinError=false}t+=this.renderOptions(this.filteredOptions);this.out.write(this.clear+t);this.clear=l(t,this.out.columns)}}t.exports=AutocompleteMultiselectPrompt},252:(t,r,i)=>{const o=i(7836);const a=i(9850);const{style:c,clear:l}=i(327);const{erase:h,cursor:u}=i(1407);class ConfirmPrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.value=t.initial;this.initialValue=!!t.initial;this.yesMsg=t.yes||"yes";this.yesOption=t.yesOption||"(Y/n)";this.noMsg=t.no||"no";this.noOption=t.noOption||"(y/N)";this.render()}reset(){this.value=this.initialValue;this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.value=this.value||false;this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}_(t,r){if(t.toLowerCase()==="y"){this.value=true;return this.submit()}if(t.toLowerCase()==="n"){this.value=false;return this.submit()}return this.bell()}render(){if(this.closed)return;if(this.firstRender)this.out.write(u.hide);else this.out.write(l(this.outputText,this.out.columns));super.render();this.outputText=[c.symbol(this.done,this.aborted),o.bold(this.msg),c.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:o.gray(this.initialValue?this.yesOption:this.noOption)].join(" ");this.out.write(h.line+u.to(0)+this.outputText)}}t.exports=ConfirmPrompt},3330:(t,r,i)=>{"use strict";const o=i(7836);const a=i(9850);const{style:c,clear:l,figures:h}=i(327);const{erase:u,cursor:d}=i(1407);const{DatePart:p,Meridiem:m,Day:g,Hours:y,Milliseconds:b,Minutes:v,Month:w,Seconds:_,Year:E}=i(399);const S=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g;const O={1:({token:t})=>t.replace(/\\(.)/g,"$1"),2:t=>new g(t),3:t=>new w(t),4:t=>new E(t),5:t=>new m(t),6:t=>new y(t),7:t=>new v(t),8:t=>new _(t),9:t=>new b(t)};const x={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class DatePrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.cursor=0;this.typed="";this.locales=Object.assign(x,t.locales);this._date=t.initial||new Date;this.errorMsg=t.error||"Please Enter A Valid Value";this.validator=t.validate||(()=>true);this.mask=t.mask||"YYYY-MM-DD HH:mm:ss";this.clear=l("",this.out.columns);this.render()}get value(){return this.date}get date(){return this._date}set date(t){if(t)this._date.setTime(t.getTime())}set mask(t){let r;this.parts=[];while(r=S.exec(t)){let t=r.shift();let i=r.findIndex((t=>t!=null));this.parts.push(i in O?O[i]({token:r[i]||t,date:this.date,parts:this.parts,locales:this.locales}):r[i]||t)}let i=this.parts.reduce(((t,r)=>{if(typeof r==="string"&&typeof t[t.length-1]==="string")t[t.length-1]+=r;else t.push(r);return t}),[]);this.parts.splice(0);this.parts.push(...i);this.reset()}moveCursor(t){this.typed="";this.cursor=t;this.fire()}reset(){this.moveCursor(this.parts.findIndex((t=>t instanceof p)));this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.error=false;this.fire();this.render();this.out.write("\n");this.close()}async validate(){let t=await this.validator(this.value);if(typeof t==="string"){this.errorMsg=t;t=false}this.error=!t}async submit(){await this.validate();if(this.error){this.color="red";this.fire();this.render();return}this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}up(){this.typed="";this.parts[this.cursor].up();this.render()}down(){this.typed="";this.parts[this.cursor].down();this.render()}left(){let t=this.parts[this.cursor].prev();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t));this.render()}right(){let t=this.parts[this.cursor].next();if(t==null)return this.bell();this.moveCursor(this.parts.indexOf(t));this.render()}next(){let t=this.parts[this.cursor].next();this.moveCursor(t?this.parts.indexOf(t):this.parts.findIndex((t=>t instanceof p)));this.render()}_(t){if(/\d/.test(t)){this.typed+=t;this.parts[this.cursor].setTo(this.typed);this.render()}}render(){if(this.closed)return;if(this.firstRender)this.out.write(d.hide);else this.out.write(l(this.outputText,this.out.columns));super.render();this.outputText=[c.symbol(this.done,this.aborted),o.bold(this.msg),c.delimiter(false),this.parts.reduce(((t,r,i)=>t.concat(i===this.cursor&&!this.done?o.cyan().underline(r.toString()):r)),[]).join("")].join(" ");if(this.error){this.outputText+=this.errorMsg.split("\n").reduce(((t,r,i)=>t+`\n${i?` `:h.pointerSmall} ${o.red().italic(r)}`),``)}this.out.write(u.line+d.to(0)+this.outputText)}}t.exports=DatePrompt},697:(t,r,i)=>{"use strict";t.exports={TextPrompt:i(6589),SelectPrompt:i(7682),TogglePrompt:i(4654),DatePrompt:i(3330),NumberPrompt:i(3281),MultiselectPrompt:i(3441),AutocompletePrompt:i(5533),AutocompleteMultiselectPrompt:i(5474),ConfirmPrompt:i(252)}},3441:(t,r,i)=>{"use strict";const o=i(7836);const{cursor:a}=i(1407);const c=i(9850);const{clear:l,figures:h,style:u,wrap:d,entriesToDisplay:p}=i(327);class MultiselectPrompt extends c{constructor(t={}){super(t);this.msg=t.message;this.cursor=t.cursor||0;this.scrollIndex=t.cursor||0;this.hint=t.hint||"";this.warn=t.warn||"- This option is disabled -";this.minSelected=t.min;this.showMinError=false;this.maxChoices=t.max;this.instructions=t.instructions;this.optionsPerPage=t.optionsPerPage||10;this.value=t.choices.map(((t,r)=>{if(typeof t==="string")t={title:t,value:r};return{title:t&&(t.title||t.value||t),description:t&&t.description,value:t&&(t.value===undefined?r:t.value),selected:t&&t.selected,disabled:t&&t.disabled}}));this.clear=l("",this.out.columns);if(!t.overrideRender){this.render()}}reset(){this.value.map((t=>!t.selected));this.cursor=0;this.fire();this.render()}selected(){return this.value.filter((t=>t.selected))}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){const t=this.value.filter((t=>t.selected));if(this.minSelected&&t.length<this.minSelected){this.showMinError=true;this.render()}else{this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}}first(){this.cursor=0;this.render()}last(){this.cursor=this.value.length-1;this.render()}next(){this.cursor=(this.cursor+1)%this.value.length;this.render()}up(){if(this.cursor===0){this.cursor=this.value.length-1}else{this.cursor--}this.render()}down(){if(this.cursor===this.value.length-1){this.cursor=0}else{this.cursor++}this.render()}left(){this.value[this.cursor].selected=false;this.render()}right(){if(this.value.filter((t=>t.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=true;this.render()}handleSpaceToggle(){const t=this.value[this.cursor];if(t.selected){t.selected=false;this.render()}else if(t.disabled||this.value.filter((t=>t.selected)).length>=this.maxChoices){return this.bell()}else{t.selected=true;this.render()}}toggleAll(){if(this.maxChoices!==undefined||this.value[this.cursor].disabled){return this.bell()}const t=!this.value[this.cursor].selected;this.value.filter((t=>!t.disabled)).forEach((r=>r.selected=t));this.render()}_(t,r){if(t===" "){this.handleSpaceToggle()}else if(t==="a"){this.toggleAll()}else{return this.bell()}}renderInstructions(){if(this.instructions===undefined||this.instructions){if(typeof this.instructions==="string"){return this.instructions}return"\nInstructions:\n"+`    ${h.arrowUp}/${h.arrowDown}: Highlight option\n`+`    ${h.arrowLeft}/${h.arrowRight}/[space]: Toggle selection\n`+(this.maxChoices===undefined?`    a: Toggle all\n`:"")+`    enter/return: Complete answer`}return""}renderOption(t,r,i,a){const c=(r.selected?o.green(h.radioOn):h.radioOff)+" "+a+" ";let l,u;if(r.disabled){l=t===i?o.gray().underline(r.title):o.strikethrough().gray(r.title)}else{l=t===i?o.cyan().underline(r.title):r.title;if(t===i&&r.description){u=` - ${r.description}`;if(c.length+l.length+u.length>=this.out.columns||r.description.split(/\r?\n/).length>1){u="\n"+d(r.description,{margin:c.length,width:this.out.columns})}}}return c+l+o.gray(u||"")}paginateOptions(t){if(t.length===0){return o.red("No matches for this query.")}let{startIndex:r,endIndex:i}=p(this.cursor,t.length,this.optionsPerPage);let a,c=[];for(let o=r;o<i;o++){if(o===r&&r>0){a=h.arrowUp}else if(o===i-1&&i<t.length){a=h.arrowDown}else{a=" "}c.push(this.renderOption(this.cursor,t[o],o,a))}return"\n"+c.join("\n")}renderOptions(t){if(!this.done){return this.paginateOptions(t)}return""}renderDoneOrInstructions(){if(this.done){return this.value.filter((t=>t.selected)).map((t=>t.title)).join(", ")}const t=[o.gray(this.hint),this.renderInstructions()];if(this.value[this.cursor].disabled){t.push(o.yellow(this.warn))}return t.join(" ")}render(){if(this.closed)return;if(this.firstRender)this.out.write(a.hide);super.render();let t=[u.symbol(this.done,this.aborted),o.bold(this.msg),u.delimiter(false),this.renderDoneOrInstructions()].join(" ");if(this.showMinError){t+=o.red(`You must select a minimum of ${this.minSelected} choices.`);this.showMinError=false}t+=this.renderOptions(this.value);this.out.write(this.clear+t);this.clear=l(t,this.out.columns)}}t.exports=MultiselectPrompt},3281:(t,r,i)=>{const o=i(7836);const a=i(9850);const{cursor:c,erase:l}=i(1407);const{style:h,figures:u,clear:d,lines:p}=i(327);const m=/[0-9]/;const isDef=t=>t!==undefined;const round=(t,r)=>{let i=Math.pow(10,r);return Math.round(t*i)/i};class NumberPrompt extends a{constructor(t={}){super(t);this.transform=h.render(t.style);this.msg=t.message;this.initial=isDef(t.initial)?t.initial:"";this.float=!!t.float;this.round=t.round||2;this.inc=t.increment||1;this.min=isDef(t.min)?t.min:-Infinity;this.max=isDef(t.max)?t.max:Infinity;this.errorMsg=t.error||`Please Enter A Valid Value`;this.validator=t.validate||(()=>true);this.color=`cyan`;this.value=``;this.typed=``;this.lastHit=0;this.render()}set value(t){if(!t&&t!==0){this.placeholder=true;this.rendered=o.gray(this.transform.render(`${this.initial}`));this._value=``}else{this.placeholder=false;this.rendered=this.transform.render(`${round(t,this.round)}`);this._value=round(t,this.round)}this.fire()}get value(){return this._value}parse(t){return this.float?parseFloat(t):parseInt(t)}valid(t){return t===`-`||t===`.`&&this.float||m.test(t)}reset(){this.typed=``;this.value=``;this.fire();this.render()}exit(){this.abort()}abort(){let t=this.value;this.value=t!==``?t:this.initial;this.done=this.aborted=true;this.error=false;this.fire();this.render();this.out.write(`\n`);this.close()}async validate(){let t=await this.validator(this.value);if(typeof t===`string`){this.errorMsg=t;t=false}this.error=!t}async submit(){await this.validate();if(this.error){this.color=`red`;this.fire();this.render();return}let t=this.value;this.value=t!==``?t:this.initial;this.done=true;this.aborted=false;this.error=false;this.fire();this.render();this.out.write(`\n`);this.close()}up(){this.typed=``;if(this.value===""){this.value=this.min-this.inc}if(this.value>=this.max)return this.bell();this.value+=this.inc;this.color=`cyan`;this.fire();this.render()}down(){this.typed=``;if(this.value===""){this.value=this.min+this.inc}if(this.value<=this.min)return this.bell();this.value-=this.inc;this.color=`cyan`;this.fire();this.render()}delete(){let t=this.value.toString();if(t.length===0)return this.bell();this.value=this.parse(t=t.slice(0,-1))||``;if(this.value!==""&&this.value<this.min){this.value=this.min}this.color=`cyan`;this.fire();this.render()}next(){this.value=this.initial;this.fire();this.render()}_(t,r){if(!this.valid(t))return this.bell();const i=Date.now();if(i-this.lastHit>1e3)this.typed=``;this.typed+=t;this.lastHit=i;this.color=`cyan`;if(t===`.`)return this.fire();this.value=Math.min(this.parse(this.typed),this.max);if(this.value>this.max)this.value=this.max;if(this.value<this.min)this.value=this.min;this.fire();this.render()}render(){if(this.closed)return;if(!this.firstRender){if(this.outputError)this.out.write(c.down(p(this.outputError,this.out.columns)-1)+d(this.outputError,this.out.columns));this.out.write(d(this.outputText,this.out.columns))}super.render();this.outputError="";this.outputText=[h.symbol(this.done,this.aborted),o.bold(this.msg),h.delimiter(this.done),!this.done||!this.done&&!this.placeholder?o[this.color]().underline(this.rendered):this.rendered].join(` `);if(this.error){this.outputError+=this.errorMsg.split(`\n`).reduce(((t,r,i)=>t+`\n${i?` `:u.pointerSmall} ${o.red().italic(r)}`),``)}this.out.write(l.line+c.to(0)+this.outputText+c.save+this.outputError+c.restore)}}t.exports=NumberPrompt},9850:(t,r,i)=>{"use strict";const o=i(4521);const{action:a}=i(327);const c=i(2361);const{beep:l,cursor:h}=i(1407);const u=i(7836);class Prompt extends c{constructor(t={}){super();this.firstRender=true;this.in=t.stdin||process.stdin;this.out=t.stdout||process.stdout;this.onRender=(t.onRender||(()=>void 0)).bind(this);const r=o.createInterface({input:this.in,escapeCodeTimeout:50});o.emitKeypressEvents(this.in,r);if(this.in.isTTY)this.in.setRawMode(true);const i=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1;const keypress=(t,r)=>{let o=a(r,i);if(o===false){this._&&this._(t,r)}else if(typeof this[o]==="function"){this[o](r)}else{this.bell()}};this.close=()=>{this.out.write(h.show);this.in.removeListener("keypress",keypress);if(this.in.isTTY)this.in.setRawMode(false);r.close();this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value);this.closed=true};this.in.on("keypress",keypress)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(l)}render(){this.onRender(u);if(this.firstRender)this.firstRender=false}}t.exports=Prompt},7682:(t,r,i)=>{"use strict";const o=i(7836);const a=i(9850);const{style:c,clear:l,figures:h,wrap:u,entriesToDisplay:d}=i(327);const{cursor:p}=i(1407);class SelectPrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.hint=t.hint||"- Use arrow-keys. Return to submit.";this.warn=t.warn||"- This option is disabled";this.cursor=t.initial||0;this.choices=t.choices.map(((t,r)=>{if(typeof t==="string")t={title:t,value:r};return{title:t&&(t.title||t.value||t),value:t&&(t.value===undefined?r:t.value),description:t&&t.description,selected:t&&t.selected,disabled:t&&t.disabled}}));this.optionsPerPage=t.optionsPerPage||10;this.value=(this.choices[this.cursor]||{}).value;this.clear=l("",this.out.columns);this.render()}moveCursor(t){this.cursor=t;this.value=this.choices[t].value;this.fire()}reset(){this.moveCursor(0);this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){if(!this.selection.disabled){this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}else this.bell()}first(){this.moveCursor(0);this.render()}last(){this.moveCursor(this.choices.length-1);this.render()}up(){if(this.cursor===0){this.moveCursor(this.choices.length-1)}else{this.moveCursor(this.cursor-1)}this.render()}down(){if(this.cursor===this.choices.length-1){this.moveCursor(0)}else{this.moveCursor(this.cursor+1)}this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length);this.render()}_(t,r){if(t===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;if(this.firstRender)this.out.write(p.hide);else this.out.write(l(this.outputText,this.out.columns));super.render();let{startIndex:t,endIndex:r}=d(this.cursor,this.choices.length,this.optionsPerPage);this.outputText=[c.symbol(this.done,this.aborted),o.bold(this.msg),c.delimiter(false),this.done?this.selection.title:this.selection.disabled?o.yellow(this.warn):o.gray(this.hint)].join(" ");if(!this.done){this.outputText+="\n";for(let i=t;i<r;i++){let a,c,l="",d=this.choices[i];if(i===t&&t>0){c=h.arrowUp}else if(i===r-1&&r<this.choices.length){c=h.arrowDown}else{c=" "}if(d.disabled){a=this.cursor===i?o.gray().underline(d.title):o.strikethrough().gray(d.title);c=(this.cursor===i?o.bold().gray(h.pointer)+" ":"  ")+c}else{a=this.cursor===i?o.cyan().underline(d.title):d.title;c=(this.cursor===i?o.cyan(h.pointer)+" ":"  ")+c;if(d.description&&this.cursor===i){l=` - ${d.description}`;if(c.length+a.length+l.length>=this.out.columns||d.description.split(/\r?\n/).length>1){l="\n"+u(d.description,{margin:3,width:this.out.columns})}}}this.outputText+=`${c} ${a}${o.gray(l)}\n`}}this.out.write(this.outputText)}}t.exports=SelectPrompt},6589:(t,r,i)=>{const o=i(7836);const a=i(9850);const{erase:c,cursor:l}=i(1407);const{style:h,clear:u,lines:d,figures:p}=i(327);class TextPrompt extends a{constructor(t={}){super(t);this.transform=h.render(t.style);this.scale=this.transform.scale;this.msg=t.message;this.initial=t.initial||``;this.validator=t.validate||(()=>true);this.value=``;this.errorMsg=t.error||`Please Enter A Valid Value`;this.cursor=Number(!!this.initial);this.cursorOffset=0;this.clear=u(``,this.out.columns);this.render()}set value(t){if(!t&&this.initial){this.placeholder=true;this.rendered=o.gray(this.transform.render(this.initial))}else{this.placeholder=false;this.rendered=this.transform.render(t)}this._value=t;this.fire()}get value(){return this._value}reset(){this.value=``;this.cursor=Number(!!this.initial);this.cursorOffset=0;this.fire();this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial;this.done=this.aborted=true;this.error=false;this.red=false;this.fire();this.render();this.out.write("\n");this.close()}async validate(){let t=await this.validator(this.value);if(typeof t===`string`){this.errorMsg=t;t=false}this.error=!t}async submit(){this.value=this.value||this.initial;this.cursorOffset=0;this.cursor=this.rendered.length;await this.validate();if(this.error){this.red=true;this.fire();this.render();return}this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial;this.cursor=this.rendered.length;this.fire();this.render()}moveCursor(t){if(this.placeholder)return;this.cursor=this.cursor+t;this.cursorOffset+=t}_(t,r){let i=this.value.slice(0,this.cursor);let o=this.value.slice(this.cursor);this.value=`${i}${t}${o}`;this.red=false;this.cursor=this.placeholder?0:i.length+1;this.render()}delete(){if(this.isCursorAtStart())return this.bell();let t=this.value.slice(0,this.cursor-1);let r=this.value.slice(this.cursor);this.value=`${t}${r}`;this.red=false;if(this.isCursorAtStart()){this.cursorOffset=0}else{this.cursorOffset++;this.moveCursor(-1)}this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let t=this.value.slice(0,this.cursor);let r=this.value.slice(this.cursor+1);this.value=`${t}${r}`;this.red=false;if(this.isCursorAtEnd()){this.cursorOffset=0}else{this.cursorOffset++}this.render()}first(){this.cursor=0;this.render()}last(){this.cursor=this.value.length;this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1);this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1);this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){if(this.closed)return;if(!this.firstRender){if(this.outputError)this.out.write(l.down(d(this.outputError,this.out.columns)-1)+u(this.outputError,this.out.columns));this.out.write(u(this.outputText,this.out.columns))}super.render();this.outputError="";this.outputText=[h.symbol(this.done,this.aborted),o.bold(this.msg),h.delimiter(this.done),this.red?o.red(this.rendered):this.rendered].join(` `);if(this.error){this.outputError+=this.errorMsg.split(`\n`).reduce(((t,r,i)=>t+`\n${i?" ":p.pointerSmall} ${o.red().italic(r)}`),``)}this.out.write(c.line+l.to(0)+this.outputText+l.save+this.outputError+l.restore+l.move(this.cursorOffset,0))}}t.exports=TextPrompt},4654:(t,r,i)=>{const o=i(7836);const a=i(9850);const{style:c,clear:l}=i(327);const{cursor:h,erase:u}=i(1407);class TogglePrompt extends a{constructor(t={}){super(t);this.msg=t.message;this.value=!!t.initial;this.active=t.active||"on";this.inactive=t.inactive||"off";this.initialValue=this.value;this.render()}reset(){this.value=this.initialValue;this.fire();this.render()}exit(){this.abort()}abort(){this.done=this.aborted=true;this.fire();this.render();this.out.write("\n");this.close()}submit(){this.done=true;this.aborted=false;this.fire();this.render();this.out.write("\n");this.close()}deactivate(){if(this.value===false)return this.bell();this.value=false;this.render()}activate(){if(this.value===true)return this.bell();this.value=true;this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value;this.fire();this.render()}_(t,r){if(t===" "){this.value=!this.value}else if(t==="1"){this.value=true}else if(t==="0"){this.value=false}else return this.bell();this.render()}render(){if(this.closed)return;if(this.firstRender)this.out.write(h.hide);else this.out.write(l(this.outputText,this.out.columns));super.render();this.outputText=[c.symbol(this.done,this.aborted),o.bold(this.msg),c.delimiter(this.done),this.value?this.inactive:o.cyan().underline(this.inactive),o.gray("/"),this.value?o.cyan().underline(this.active):this.active].join(" ");this.out.write(u.line+h.to(0)+this.outputText)}}t.exports=TogglePrompt},5061:(t,r,i)=>{"use strict";const o=i(4542);const a=["suggest","format","onState","validate","onRender","type"];const noop=()=>{};async function prompt(t=[],{onSubmit:r=noop,onCancel:i=noop}={}){const c={};const l=prompt._override||{};t=[].concat(t);let h,u,d,p,m,g;const getFormattedAnswer=async(t,r,i=false)=>{if(!i&&t.validate&&t.validate(r)!==true){return}return t.format?await t.format(r,c):r};for(u of t){({name:p,type:m}=u);if(typeof m==="function"){m=await m(h,{...c},u);u["type"]=m}if(!m)continue;for(let t in u){if(a.includes(t))continue;let r=u[t];u[t]=typeof r==="function"?await r(h,{...c},g):r}g=u;if(typeof u.message!=="string"){throw new Error("prompt message is required")}({name:p,type:m}=u);if(o[m]===void 0){throw new Error(`prompt type (${m}) is not defined`)}if(l[u.name]!==undefined){h=await getFormattedAnswer(u,l[u.name]);if(h!==undefined){c[p]=h;continue}}try{h=prompt._injected?getInjectedAnswer(prompt._injected,u.initial):await o[m](u);c[p]=h=await getFormattedAnswer(u,h,true);d=await r(u,h,c)}catch(t){d=!await i(u,c)}if(d)return c}return c}function getInjectedAnswer(t,r){const i=t.shift();if(i instanceof Error){throw i}return i===undefined?r:i}function inject(t){prompt._injected=(prompt._injected||[]).concat(t)}function override(t){prompt._override=Object.assign({},t)}t.exports=Object.assign(prompt,{prompt:prompt,prompts:o,inject:inject,override:override})},4542:(t,r,i)=>{"use strict";const o=r;const a=i(697);const noop=t=>t;function toPrompt(t,r,i={}){return new Promise(((o,c)=>{const l=new a[t](r);const h=i.onAbort||noop;const u=i.onSubmit||noop;const d=i.onExit||noop;l.on("state",r.onState||noop);l.on("submit",(t=>o(u(t))));l.on("exit",(t=>o(d(t))));l.on("abort",(t=>c(h(t))))}))}o.text=t=>toPrompt("TextPrompt",t);o.password=t=>{t.style="password";return o.text(t)};o.invisible=t=>{t.style="invisible";return o.text(t)};o.number=t=>toPrompt("NumberPrompt",t);o.date=t=>toPrompt("DatePrompt",t);o.confirm=t=>toPrompt("ConfirmPrompt",t);o.list=t=>{const r=t.separator||",";return toPrompt("TextPrompt",t,{onSubmit:t=>t.split(r).map((t=>t.trim()))})};o.toggle=t=>toPrompt("TogglePrompt",t);o.select=t=>toPrompt("SelectPrompt",t);o.multiselect=t=>{t.choices=[].concat(t.choices||[]);const toSelected=t=>t.filter((t=>t.selected)).map((t=>t.value));return toPrompt("MultiselectPrompt",t,{onAbort:toSelected,onSubmit:toSelected})};o.autocompleteMultiselect=t=>{t.choices=[].concat(t.choices||[]);const toSelected=t=>t.filter((t=>t.selected)).map((t=>t.value));return toPrompt("AutocompleteMultiselectPrompt",t,{onAbort:toSelected,onSubmit:toSelected})};const byTitle=(t,r)=>Promise.resolve(r.filter((r=>r.title.slice(0,t.length).toLowerCase()===t.toLowerCase())));o.autocomplete=t=>{t.suggest=t.suggest||byTitle;t.choices=[].concat(t.choices||[]);return toPrompt("AutocompletePrompt",t)}},7612:t=>{"use strict";t.exports=(t,r)=>{if(t.meta&&t.name!=="escape")return;if(t.ctrl){if(t.name==="a")return"first";if(t.name==="c")return"abort";if(t.name==="d")return"abort";if(t.name==="e")return"last";if(t.name==="g")return"reset"}if(r){if(t.name==="j")return"down";if(t.name==="k")return"up"}if(t.name==="return")return"submit";if(t.name==="enter")return"submit";if(t.name==="backspace")return"delete";if(t.name==="delete")return"deleteForward";if(t.name==="abort")return"abort";if(t.name==="escape")return"exit";if(t.name==="tab")return"next";if(t.name==="pagedown")return"nextPage";if(t.name==="pageup")return"prevPage";if(t.name==="home")return"home";if(t.name==="end")return"end";if(t.name==="up")return"up";if(t.name==="down")return"down";if(t.name==="right")return"right";if(t.name==="left")return"left";return false}},1335:(t,r,i)=>{"use strict";const o=i(8409);const{erase:a,cursor:c}=i(1407);const width=t=>[...o(t)].length;t.exports=function(t,r){if(!r)return a.line+c.to(0);let i=0;const o=t.split(/\r?\n/);for(let t of o){i+=1+Math.floor(Math.max(width(t)-1,0)/r)}return a.lines(i)}},6606:t=>{"use strict";t.exports=(t,r,i)=>{i=i||r;let o=Math.min(r-i,t-Math.floor(i/2));if(o<0)o=0;let a=Math.min(o+i,r);return{startIndex:o,endIndex:a}}},5878:t=>{"use strict";const r={arrowUp:"",arrowDown:"",arrowLeft:"",arrowRight:"",radioOn:"",radioOff:"",tick:"",cross:"",ellipsis:"",pointerSmall:"",line:"",pointer:""};const i={arrowUp:r.arrowUp,arrowDown:r.arrowDown,arrowLeft:r.arrowLeft,arrowRight:r.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"",cross:"",ellipsis:"...",pointerSmall:"",line:"",pointer:">"};const o=process.platform==="win32"?i:r;t.exports=o},327:(t,r,i)=>{"use strict";t.exports={action:i(7612),clear:i(1335),style:i(3165),strip:i(8409),figures:i(5878),lines:i(2890),wrap:i(1669),entriesToDisplay:i(6606)}},2890:(t,r,i)=>{"use strict";const o=i(8409);t.exports=function(t,r){let i=String(o(t)||"").split(/\r?\n/);if(!r)return i.length;return i.map((t=>Math.ceil(t.length/r))).reduce(((t,r)=>t+r))}},8409:t=>{"use strict";t.exports=t=>{const r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|");const i=new RegExp(r,"g");return typeof t==="string"?t.replace(i,""):t}},3165:(t,r,i)=>{"use strict";const o=i(7836);const a=i(5878);const c=Object.freeze({password:{scale:1,render:t=>"*".repeat(t.length)},emoji:{scale:2,render:t=>"".repeat(t.length)},invisible:{scale:0,render:t=>""},default:{scale:1,render:t=>`${t}`}});const render=t=>c[t]||c.default;const l=Object.freeze({aborted:o.red(a.cross),done:o.green(a.tick),exited:o.yellow(a.cross),default:o.cyan("?")});const symbol=(t,r,i)=>r?l.aborted:i?l.exited:t?l.done:l.default;const delimiter=t=>o.gray(t?a.ellipsis:a.pointerSmall);const item=(t,r)=>o.gray(t?r?a.pointerSmall:"+":a.line);t.exports={styles:c,render:render,symbols:l,symbol:symbol,delimiter:delimiter,item:item}},1669:t=>{"use strict";t.exports=(t,r={})=>{const i=Number.isSafeInteger(parseInt(r.margin))?new Array(parseInt(r.margin)).fill(" ").join(""):r.margin||"";const o=r.width;return(t||"").split(/\r?\n/g).map((t=>t.split(/\s+/g).reduce(((t,r)=>{if(r.length+i.length>=o||t[t.length-1].length+r.length+1<o)t[t.length-1]+=` ${r}`;else t.push(`${i}${r}`);return t}),[i]).join("\n"))).join("\n")}},6664:t=>{"use strict";class QuickLRU{constructor(t={}){if(!(t.maxSize&&t.maxSize>0)){throw new TypeError("`maxSize` must be a number greater than 0")}this.maxSize=t.maxSize;this.onEviction=t.onEviction;this.cache=new Map;this.oldCache=new Map;this._size=0}_set(t,r){this.cache.set(t,r);this._size++;if(this._size>=this.maxSize){this._size=0;if(typeof this.onEviction==="function"){for(const[t,r]of this.oldCache.entries()){this.onEviction(t,r)}}this.oldCache=this.cache;this.cache=new Map}}get(t){if(this.cache.has(t)){return this.cache.get(t)}if(this.oldCache.has(t)){const r=this.oldCache.get(t);this.oldCache.delete(t);this._set(t,r);return r}}set(t,r){if(this.cache.has(t)){this.cache.set(t,r)}else{this._set(t,r)}return this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t)){return this.cache.get(t)}if(this.oldCache.has(t)){return this.oldCache.get(t)}}delete(t){const r=this.cache.delete(t);if(r){this._size--}return this.oldCache.delete(t)||r}clear(){this.cache.clear();this.oldCache.clear();this._size=0}*keys(){for(const[t]of this){yield t}}*values(){for(const[,t]of this){yield t}}*[Symbol.iterator](){for(const t of this.cache){yield t}for(const t of this.oldCache){const[r]=t;if(!this.cache.has(r)){yield t}}}get size(){let t=0;for(const r of this.oldCache.keys()){if(!this.cache.has(r)){t++}}return Math.min(this._size+t,this.maxSize)}}t.exports=QuickLRU},4446:(t,r,i)=>{var o=i(3574);var a=i(1017).join;var c=i(7360);var l="/etc";var h=process.platform==="win32";var u=h?process.env.USERPROFILE:process.env.HOME;t.exports=function(t,r,d,p){if("string"!==typeof t)throw new Error("rc(name): name *must* be string");if(!d)d=i(2603)(process.argv.slice(2));r=("string"===typeof r?o.json(r):r)||{};p=p||o.parse;var m=o.env(t+"_");var g=[r];var y=[];function addConfigFile(t){if(y.indexOf(t)>=0)return;var r=o.file(t);if(r){g.push(p(r));y.push(t)}}if(!h)[a(l,t,"config"),a(l,t+"rc")].forEach(addConfigFile);if(u)[a(u,".config",t,"config"),a(u,".config",t),a(u,"."+t,"config"),a(u,"."+t+"rc")].forEach(addConfigFile);addConfigFile(o.find("."+t+"rc"));if(m.config)addConfigFile(m.config);if(d.config)addConfigFile(d.config);return c.apply(null,g.concat([m,d,y.length?{configs:y,config:y[y.length-1]}:undefined]))}},3574:(t,r,i)=>{"use strict";var o=i(7147);var a=i(7036);var c=i(1017);var l=i(2251);var h=r.parse=function(t){if(/^\s*{/.test(t))return JSON.parse(l(t));return a.parse(t)};var u=r.file=function(){var t=[].slice.call(arguments).filter((function(t){return t!=null}));for(var r in t)if("string"!==typeof t[r])return;var i=c.join.apply(null,t);var a;try{return o.readFileSync(i,"utf-8")}catch(t){return}};var d=r.json=function(){var t=u.apply(null,arguments);return t?h(t):null};var p=r.env=function(t,r){r=r||process.env;var i={};var o=t.length;for(var a in r){if(a.toLowerCase().indexOf(t.toLowerCase())===0){var c=a.substring(o).split("__");var l;while((l=c.indexOf(""))>-1){c.splice(l,1)}var h=i;c.forEach((function _buildSubObj(t,i){if(!t||typeof h!=="object")return;if(i===c.length-1)h[t]=r[a];if(h[t]===undefined)h[t]={};h=h[t]}))}}return i};var m=r.find=function(){var t=c.join.apply(null,[].slice.call(arguments));function find(t,r){var i=c.join(t,r);try{o.statSync(i);return i}catch(i){if(c.dirname(t)!==t)return find(c.dirname(t),r)}}return find(process.cwd(),t)}},1913:(t,r,i)=>{const o=i(6911).Buffer;function decodeBase64(t){return o.from(t,"base64").toString("utf8")}function encodeBase64(t){return o.from(t,"utf8").toString("base64")}t.exports={decodeBase64:decodeBase64,encodeBase64:encodeBase64}},1281:(t,r,i)=>{var o=i(7310);var a=i(1913);var c=a.decodeBase64;var l=a.encodeBase64;var h=":_authToken";var u=":username";var d=":_password";t.exports=function(){var t;var r;if(arguments.length>=2){t=arguments[0];r=arguments[1]}else if(typeof arguments[0]==="string"){t=arguments[0]}else{r=arguments[0]}r=r||{};r.npmrc=r.npmrc||i(4446)("npm",{registry:"https://registry.npmjs.org/"});t=t||r.npmrc.registry;return getRegistryAuthInfo(t,r)||getLegacyAuthInfo(r.npmrc)};function getRegistryAuthInfo(t,r){var i=o.parse(t,false,true);var a;while(a!=="/"&&i.pathname!==a){a=i.pathname||"/";var c="//"+i.host+a.replace(/\/$/,"");var l=getAuthInfoForUrl(c,r.npmrc);if(l){return l}if(!r.recursive){return/\/$/.test(t)?undefined:getRegistryAuthInfo(o.resolve(t,"."),r)}i.pathname=o.resolve(normalizePath(a),"..")||"/"}return undefined}function getLegacyAuthInfo(t){if(t._auth){return{token:t._auth,type:"Basic"}}return undefined}function normalizePath(t){return t[t.length-1]==="/"?t:t+"/"}function getAuthInfoForUrl(t,r){var i=getBearerToken(r[t+h]||r[t+"/"+h]);if(i){return i}var o=r[t+u]||r[t+"/"+u];var a=r[t+d]||r[t+"/"+d];var c=getTokenForUsernameAndPassword(o,a);if(c){return c}return undefined}function getBearerToken(t){if(!t){return undefined}var r=t.replace(/^\$\{?([^}]*)\}?$/,(function(t,r){return process.env[r]}));return{token:r,type:"Bearer"}}function getTokenForUsernameAndPassword(t,r){if(!t||!r){return undefined}var i=c(r.replace(/^\$\{?([^}]*)\}?$/,(function(t,r){return process.env[r]})));var o=l(t+":"+i);return{token:o,type:"Basic",password:i,username:t}}},9074:(t,r,i)=>{"use strict";t.exports=function(t){var r=i(4446)("npm",{registry:"https://registry.npmjs.org/"});var o=r[t+":registry"]||r.registry;return o.slice(-1)==="/"?o:o+"/"}},8826:(t,r,i)=>{"use strict";const o=i(4404);t.exports=(t={},r=o.connect)=>new Promise(((i,o)=>{let a=false;let c;const callback=async()=>{await l;c.off("timeout",onTimeout);c.off("error",o);if(t.resolveSocket){i({alpnProtocol:c.alpnProtocol,socket:c,timeout:a});if(a){await Promise.resolve();c.emit("timeout")}}else{c.destroy();i({alpnProtocol:c.alpnProtocol,timeout:a})}};const onTimeout=async()=>{a=true;callback()};const l=(async()=>{try{c=await r(t,callback);c.on("error",o);c.once("timeout",onTimeout)}catch(t){o(t)}})()}))},6975:(t,r,i)=>{t.exports=i(4432)},4432:(t,r,i)=>{var o=i(26);r.operation=function(t){var i=r.timeouts(t);return new o(i,{forever:t&&(t.forever||t.retries===Infinity),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})};r.timeouts=function(t){if(t instanceof Array){return[].concat(t)}var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:Infinity,randomize:false};for(var i in t){r[i]=t[i]}if(r.minTimeout>r.maxTimeout){throw new Error("minTimeout is greater than maxTimeout")}var o=[];for(var a=0;a<r.retries;a++){o.push(this.createTimeout(a,r))}if(t&&t.forever&&!o.length){o.push(this.createTimeout(a,r))}o.sort((function(t,r){return t-r}));return o};r.createTimeout=function(t,r){var i=r.randomize?Math.random()+1:1;var o=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,t));o=Math.min(o,r.maxTimeout);return o};r.wrap=function(t,i,o){if(i instanceof Array){o=i;i=null}if(!o){o=[];for(var a in t){if(typeof t[a]==="function"){o.push(a)}}}for(var c=0;c<o.length;c++){var l=o[c];var h=t[l];t[l]=function retryWrapper(o){var a=r.operation(i);var c=Array.prototype.slice.call(arguments,1);var l=c.pop();c.push((function(t){if(a.retry(t)){return}if(t){arguments[0]=a.mainError()}l.apply(this,arguments)}));a.attempt((function(){o.apply(t,c)}))}.bind(t,h);t[l].options=i}}},26:t=>{function RetryOperation(t,r){if(typeof r==="boolean"){r={forever:r}}this._originalTimeouts=JSON.parse(JSON.stringify(t));this._timeouts=t;this._options=r||{};this._maxRetryTime=r&&r.maxRetryTime||Infinity;this._fn=null;this._errors=[];this._attempts=1;this._operationTimeout=null;this._operationTimeoutCb=null;this._timeout=null;this._operationStart=null;this._timer=null;if(this._options.forever){this._cachedTimeouts=this._timeouts.slice(0)}}t.exports=RetryOperation;RetryOperation.prototype.reset=function(){this._attempts=1;this._timeouts=this._originalTimeouts.slice(0)};RetryOperation.prototype.stop=function(){if(this._timeout){clearTimeout(this._timeout)}if(this._timer){clearTimeout(this._timer)}this._timeouts=[];this._cachedTimeouts=null};RetryOperation.prototype.retry=function(t){if(this._timeout){clearTimeout(this._timeout)}if(!t){return false}var r=(new Date).getTime();if(t&&r-this._operationStart>=this._maxRetryTime){this._errors.push(t);this._errors.unshift(new Error("RetryOperation timeout occurred"));return false}this._errors.push(t);var i=this._timeouts.shift();if(i===undefined){if(this._cachedTimeouts){this._errors.splice(0,this._errors.length-1);i=this._cachedTimeouts.slice(-1)}else{return false}}var o=this;this._timer=setTimeout((function(){o._attempts++;if(o._operationTimeoutCb){o._timeout=setTimeout((function(){o._operationTimeoutCb(o._attempts)}),o._operationTimeout);if(o._options.unref){o._timeout.unref()}}o._fn(o._attempts)}),i);if(this._options.unref){this._timer.unref()}return true};RetryOperation.prototype.attempt=function(t,r){this._fn=t;if(r){if(r.timeout){this._operationTimeout=r.timeout}if(r.cb){this._operationTimeoutCb=r.cb}}var i=this;if(this._operationTimeoutCb){this._timeout=setTimeout((function(){i._operationTimeoutCb()}),i._operationTimeout)}this._operationStart=(new Date).getTime();this._fn(this._attempts)};RetryOperation.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated");this.attempt(t)};RetryOperation.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated");this.attempt(t)};RetryOperation.prototype.start=RetryOperation.prototype.try;RetryOperation.prototype.errors=function(){return this._errors};RetryOperation.prototype.attempts=function(){return this._attempts};RetryOperation.prototype.mainError=function(){if(this._errors.length===0){return null}var t={};var r=null;var i=0;for(var o=0;o<this._errors.length;o++){var a=this._errors[o];var c=a.message;var l=(t[c]||0)+1;t[c]=l;if(l>=i){r=a;i=l}}return r}},4700:(t,r,i)=>{const o=i(9491);const a=i(1017);const c=i(7147);let l=undefined;try{l=i(4991)}catch(t){}const h={nosort:true,silent:true};let u=0;const d=process.platform==="win32";const defaults=t=>{const r=["unlink","chmod","stat","lstat","rmdir","readdir"];r.forEach((r=>{t[r]=t[r]||c[r];r=r+"Sync";t[r]=t[r]||c[r]}));t.maxBusyTries=t.maxBusyTries||3;t.emfileWait=t.emfileWait||1e3;if(t.glob===false){t.disableGlob=true}if(t.disableGlob!==true&&l===undefined){throw Error("glob dependency not found, set `options.disableGlob = true` if intentional")}t.disableGlob=t.disableGlob||false;t.glob=t.glob||h};const rimraf=(t,r,i)=>{if(typeof r==="function"){i=r;r={}}o(t,"rimraf: missing path");o.equal(typeof t,"string","rimraf: path should be a string");o.equal(typeof i,"function","rimraf: callback function required");o(r,"rimraf: invalid options argument provided");o.equal(typeof r,"object","rimraf: options should be object");defaults(r);let a=0;let c=null;let h=0;const next=t=>{c=c||t;if(--h===0)i(c)};const afterGlob=(t,o)=>{if(t)return i(t);h=o.length;if(h===0)return i();o.forEach((t=>{const CB=i=>{if(i){if((i.code==="EBUSY"||i.code==="ENOTEMPTY"||i.code==="EPERM")&&a<r.maxBusyTries){a++;return setTimeout((()=>rimraf_(t,r,CB)),a*100)}if(i.code==="EMFILE"&&u<r.emfileWait){return setTimeout((()=>rimraf_(t,r,CB)),u++)}if(i.code==="ENOENT")i=null}u=0;next(i)};rimraf_(t,r,CB)}))};if(r.disableGlob||!l.hasMagic(t))return afterGlob(null,[t]);r.lstat(t,((i,o)=>{if(!i)return afterGlob(null,[t]);l(t,r.glob,afterGlob)}))};const rimraf_=(t,r,i)=>{o(t);o(r);o(typeof i==="function");r.lstat(t,((o,a)=>{if(o&&o.code==="ENOENT")return i(null);if(o&&o.code==="EPERM"&&d)fixWinEPERM(t,r,o,i);if(a&&a.isDirectory())return rmdir(t,r,o,i);r.unlink(t,(o=>{if(o){if(o.code==="ENOENT")return i(null);if(o.code==="EPERM")return d?fixWinEPERM(t,r,o,i):rmdir(t,r,o,i);if(o.code==="EISDIR")return rmdir(t,r,o,i)}return i(o)}))}))};const fixWinEPERM=(t,r,i,a)=>{o(t);o(r);o(typeof a==="function");r.chmod(t,438,(o=>{if(o)a(o.code==="ENOENT"?null:i);else r.stat(t,((o,c)=>{if(o)a(o.code==="ENOENT"?null:i);else if(c.isDirectory())rmdir(t,r,i,a);else r.unlink(t,a)}))}))};const fixWinEPERMSync=(t,r,i)=>{o(t);o(r);try{r.chmodSync(t,438)}catch(t){if(t.code==="ENOENT")return;else throw i}let a;try{a=r.statSync(t)}catch(t){if(t.code==="ENOENT")return;else throw i}if(a.isDirectory())rmdirSync(t,r,i);else r.unlinkSync(t)};const rmdir=(t,r,i,a)=>{o(t);o(r);o(typeof a==="function");r.rmdir(t,(o=>{if(o&&(o.code==="ENOTEMPTY"||o.code==="EEXIST"||o.code==="EPERM"))rmkids(t,r,a);else if(o&&o.code==="ENOTDIR")a(i);else a(o)}))};const rmkids=(t,r,i)=>{o(t);o(r);o(typeof i==="function");r.readdir(t,((o,c)=>{if(o)return i(o);let l=c.length;if(l===0)return r.rmdir(t,i);let h;c.forEach((o=>{rimraf(a.join(t,o),r,(o=>{if(h)return;if(o)return i(h=o);if(--l===0)r.rmdir(t,i)}))}))}))};const rimrafSync=(t,r)=>{r=r||{};defaults(r);o(t,"rimraf: missing path");o.equal(typeof t,"string","rimraf: path should be a string");o(r,"rimraf: missing options");o.equal(typeof r,"object","rimraf: options should be object");let i;if(r.disableGlob||!l.hasMagic(t)){i=[t]}else{try{r.lstatSync(t);i=[t]}catch(o){i=l.sync(t,r.glob)}}if(!i.length)return;for(let t=0;t<i.length;t++){const o=i[t];let a;try{a=r.lstatSync(o)}catch(t){if(t.code==="ENOENT")return;if(t.code==="EPERM"&&d)fixWinEPERMSync(o,r,t)}try{if(a&&a.isDirectory())rmdirSync(o,r,null);else r.unlinkSync(o)}catch(t){if(t.code==="ENOENT")return;if(t.code==="EPERM")return d?fixWinEPERMSync(o,r,t):rmdirSync(o,r,t);if(t.code!=="EISDIR")throw t;rmdirSync(o,r,t)}}};const rmdirSync=(t,r,i)=>{o(t);o(r);try{r.rmdirSync(t)}catch(o){if(o.code==="ENOENT")return;if(o.code==="ENOTDIR")throw i;if(o.code==="ENOTEMPTY"||o.code==="EEXIST"||o.code==="EPERM")rmkidsSync(t,r)}};const rmkidsSync=(t,r)=>{o(t);o(r);r.readdirSync(t).forEach((i=>rimrafSync(a.join(t,i),r)));const i=d?100:1;let c=0;do{let o=true;try{const a=r.rmdirSync(t,r);o=false;return a}finally{if(++c<i&&o)continue}}while(true)};t.exports=rimraf;rimraf.sync=rimrafSync},6911:(t,r,i)=>{
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var o=i(4300);var a=o.Buffer;function copyProps(t,r){for(var i in t){r[i]=t[i]}}if(a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow){t.exports=o}else{copyProps(o,r);r.Buffer=SafeBuffer}function SafeBuffer(t,r,i){return a(t,r,i)}SafeBuffer.prototype=Object.create(a.prototype);copyProps(a,SafeBuffer);SafeBuffer.from=function(t,r,i){if(typeof t==="number"){throw new TypeError("Argument must not be a number")}return a(t,r,i)};SafeBuffer.alloc=function(t,r,i){if(typeof t!=="number"){throw new TypeError("Argument must be a number")}var o=a(t);if(r!==undefined){if(typeof i==="string"){o.fill(r,i)}else{o.fill(r)}}else{o.fill(0)}return o};SafeBuffer.allocUnsafe=function(t){if(typeof t!=="number"){throw new TypeError("Argument must be a number")}return a(t)};SafeBuffer.allocUnsafeSlow=function(t){if(typeof t!=="number"){throw new TypeError("Argument must be a number")}return o.SlowBuffer(t)}},2485:(t,r,i)=>{const o=Symbol("SemVer ANY");class Comparator{static get ANY(){return o}constructor(t,r){r=a(r);if(t instanceof Comparator){if(t.loose===!!r.loose){return t}else{t=t.value}}u("comparator",t,r);this.options=r;this.loose=!!r.loose;this.parse(t);if(this.semver===o){this.value=""}else{this.value=this.operator+this.semver.version}u("comp",this)}parse(t){const r=this.options.loose?c[l.COMPARATORLOOSE]:c[l.COMPARATOR];const i=t.match(r);if(!i){throw new TypeError(`Invalid comparator: ${t}`)}this.operator=i[1]!==undefined?i[1]:"";if(this.operator==="="){this.operator=""}if(!i[2]){this.semver=o}else{this.semver=new d(i[2],this.options.loose)}}toString(){return this.value}test(t){u("Comparator.test",t,this.options.loose);if(this.semver===o||t===o){return true}if(typeof t==="string"){try{t=new d(t,this.options)}catch(t){return false}}return h(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof Comparator)){throw new TypeError("a Comparator is required")}if(!r||typeof r!=="object"){r={loose:!!r,includePrerelease:false}}if(this.operator===""){if(this.value===""){return true}return new p(t.value,r).test(this.value)}else if(t.operator===""){if(t.value===""){return true}return new p(this.value,r).test(t.semver)}const i=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">");const o=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<");const a=this.semver.version===t.semver.version;const c=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<=");const l=h(this.semver,"<",t.semver,r)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<");const u=h(this.semver,">",t.semver,r)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return i||o||a&&c||l||u}}t.exports=Comparator;const a=i(3789);const{re:c,t:l}=i(4351);const h=i(2674);const u=i(5747);const d=i(7825);const p=i(7058)},7058:(t,r,i)=>{class Range{constructor(t,r){r=c(r);if(t instanceof Range){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease){return t}else{return new Range(t.raw,r)}}if(t instanceof l){this.raw=t.value;this.set=[[t]];this.format();return this}this.options=r;this.loose=!!r.loose;this.includePrerelease=!!r.includePrerelease;this.raw=t;this.set=t.split("||").map((t=>this.parseRange(t.trim()))).filter((t=>t.length));if(!this.set.length){throw new TypeError(`Invalid SemVer Range: ${t}`)}if(this.set.length>1){const t=this.set[0];this.set=this.set.filter((t=>!isNullSet(t[0])));if(this.set.length===0){this.set=[t]}else if(this.set.length>1){for(const t of this.set){if(t.length===1&&isAny(t[0])){this.set=[t];break}}}}this.format()}format(){this.range=this.set.map((t=>t.join(" ").trim())).join("||").trim();return this.range}toString(){return this.range}parseRange(t){t=t.trim();const r=Object.keys(this.options).join(",");const i=`parseRange:${r}:${t}`;const o=a.get(i);if(o){return o}const c=this.options.loose;const u=c?d[p.HYPHENRANGELOOSE]:d[p.HYPHENRANGE];t=t.replace(u,hyphenReplace(this.options.includePrerelease));h("hyphen replace",t);t=t.replace(d[p.COMPARATORTRIM],m);h("comparator trim",t);t=t.replace(d[p.TILDETRIM],g);t=t.replace(d[p.CARETTRIM],y);t=t.split(/\s+/).join(" ");let b=t.split(" ").map((t=>parseComparator(t,this.options))).join(" ").split(/\s+/).map((t=>replaceGTE0(t,this.options)));if(c){b=b.filter((t=>{h("loose invalid filter",t,this.options);return!!t.match(d[p.COMPARATORLOOSE])}))}h("range list",b);const v=new Map;const w=b.map((t=>new l(t,this.options)));for(const t of w){if(isNullSet(t)){return[t]}v.set(t.value,t)}if(v.size>1&&v.has("")){v.delete("")}const _=[...v.values()];a.set(i,_);return _}intersects(t,r){if(!(t instanceof Range)){throw new TypeError("a Range is required")}return this.set.some((i=>isSatisfiable(i,r)&&t.set.some((t=>isSatisfiable(t,r)&&i.every((i=>t.every((t=>i.intersects(t,r)))))))))}test(t){if(!t){return false}if(typeof t==="string"){try{t=new u(t,this.options)}catch(t){return false}}for(let r=0;r<this.set.length;r++){if(testSet(this.set[r],t,this.options)){return true}}return false}}t.exports=Range;const o=i(8443);const a=new o({max:1e3});const c=i(3789);const l=i(2485);const h=i(5747);const u=i(7825);const{re:d,t:p,comparatorTrimReplace:m,tildeTrimReplace:g,caretTrimReplace:y}=i(4351);const isNullSet=t=>t.value==="<0.0.0-0";const isAny=t=>t.value==="";const isSatisfiable=(t,r)=>{let i=true;const o=t.slice();let a=o.pop();while(i&&o.length){i=o.every((t=>a.intersects(t,r)));a=o.pop()}return i};const parseComparator=(t,r)=>{h("comp",t,r);t=replaceCarets(t,r);h("caret",t);t=replaceTildes(t,r);h("tildes",t);t=replaceXRanges(t,r);h("xrange",t);t=replaceStars(t,r);h("stars",t);return t};const isX=t=>!t||t.toLowerCase()==="x"||t==="*";const replaceTildes=(t,r)=>t.trim().split(/\s+/).map((t=>replaceTilde(t,r))).join(" ");const replaceTilde=(t,r)=>{const i=r.loose?d[p.TILDELOOSE]:d[p.TILDE];return t.replace(i,((r,i,o,a,c)=>{h("tilde",t,r,i,o,a,c);let l;if(isX(i)){l=""}else if(isX(o)){l=`>=${i}.0.0 <${+i+1}.0.0-0`}else if(isX(a)){l=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`}else if(c){h("replaceTilde pr",c);l=`>=${i}.${o}.${a}-${c} <${i}.${+o+1}.0-0`}else{l=`>=${i}.${o}.${a} <${i}.${+o+1}.0-0`}h("tilde return",l);return l}))};const replaceCarets=(t,r)=>t.trim().split(/\s+/).map((t=>replaceCaret(t,r))).join(" ");const replaceCaret=(t,r)=>{h("caret",t,r);const i=r.loose?d[p.CARETLOOSE]:d[p.CARET];const o=r.includePrerelease?"-0":"";return t.replace(i,((r,i,a,c,l)=>{h("caret",t,r,i,a,c,l);let u;if(isX(i)){u=""}else if(isX(a)){u=`>=${i}.0.0${o} <${+i+1}.0.0-0`}else if(isX(c)){if(i==="0"){u=`>=${i}.${a}.0${o} <${i}.${+a+1}.0-0`}else{u=`>=${i}.${a}.0${o} <${+i+1}.0.0-0`}}else if(l){h("replaceCaret pr",l);if(i==="0"){if(a==="0"){u=`>=${i}.${a}.${c}-${l} <${i}.${a}.${+c+1}-0`}else{u=`>=${i}.${a}.${c}-${l} <${i}.${+a+1}.0-0`}}else{u=`>=${i}.${a}.${c}-${l} <${+i+1}.0.0-0`}}else{h("no pr");if(i==="0"){if(a==="0"){u=`>=${i}.${a}.${c}${o} <${i}.${a}.${+c+1}-0`}else{u=`>=${i}.${a}.${c}${o} <${i}.${+a+1}.0-0`}}else{u=`>=${i}.${a}.${c} <${+i+1}.0.0-0`}}h("caret return",u);return u}))};const replaceXRanges=(t,r)=>{h("replaceXRanges",t,r);return t.split(/\s+/).map((t=>replaceXRange(t,r))).join(" ")};const replaceXRange=(t,r)=>{t=t.trim();const i=r.loose?d[p.XRANGELOOSE]:d[p.XRANGE];return t.replace(i,((i,o,a,c,l,u)=>{h("xRange",t,i,o,a,c,l,u);const d=isX(a);const p=d||isX(c);const m=p||isX(l);const g=m;if(o==="="&&g){o=""}u=r.includePrerelease?"-0":"";if(d){if(o===">"||o==="<"){i="<0.0.0-0"}else{i="*"}}else if(o&&g){if(p){c=0}l=0;if(o===">"){o=">=";if(p){a=+a+1;c=0;l=0}else{c=+c+1;l=0}}else if(o==="<="){o="<";if(p){a=+a+1}else{c=+c+1}}if(o==="<"){u="-0"}i=`${o+a}.${c}.${l}${u}`}else if(p){i=`>=${a}.0.0${u} <${+a+1}.0.0-0`}else if(m){i=`>=${a}.${c}.0${u} <${a}.${+c+1}.0-0`}h("xRange return",i);return i}))};const replaceStars=(t,r)=>{h("replaceStars",t,r);return t.trim().replace(d[p.STAR],"")};const replaceGTE0=(t,r)=>{h("replaceGTE0",t,r);return t.trim().replace(d[r.includePrerelease?p.GTE0PRE:p.GTE0],"")};const hyphenReplace=t=>(r,i,o,a,c,l,h,u,d,p,m,g,y)=>{if(isX(o)){i=""}else if(isX(a)){i=`>=${o}.0.0${t?"-0":""}`}else if(isX(c)){i=`>=${o}.${a}.0${t?"-0":""}`}else if(l){i=`>=${i}`}else{i=`>=${i}${t?"-0":""}`}if(isX(d)){u=""}else if(isX(p)){u=`<${+d+1}.0.0-0`}else if(isX(m)){u=`<${d}.${+p+1}.0-0`}else if(g){u=`<=${d}.${p}.${m}-${g}`}else if(t){u=`<${d}.${p}.${+m+1}-0`}else{u=`<=${u}`}return`${i} ${u}`.trim()};const testSet=(t,r,i)=>{for(let i=0;i<t.length;i++){if(!t[i].test(r)){return false}}if(r.prerelease.length&&!i.includePrerelease){for(let i=0;i<t.length;i++){h(t[i].semver);if(t[i].semver===l.ANY){continue}if(t[i].semver.prerelease.length>0){const o=t[i].semver;if(o.major===r.major&&o.minor===r.minor&&o.patch===r.patch){return true}}}return false}return true}},7825:(t,r,i)=>{const o=i(5747);const{MAX_LENGTH:a,MAX_SAFE_INTEGER:c}=i(8147);const{re:l,t:h}=i(4351);const u=i(3789);const{compareIdentifiers:d}=i(8307);class SemVer{constructor(t,r){r=u(r);if(t instanceof SemVer){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease){return t}else{t=t.version}}else if(typeof t!=="string"){throw new TypeError(`Invalid Version: ${t}`)}if(t.length>a){throw new TypeError(`version is longer than ${a} characters`)}o("SemVer",t,r);this.options=r;this.loose=!!r.loose;this.includePrerelease=!!r.includePrerelease;const i=t.trim().match(r.loose?l[h.LOOSE]:l[h.FULL]);if(!i){throw new TypeError(`Invalid Version: ${t}`)}this.raw=t;this.major=+i[1];this.minor=+i[2];this.patch=+i[3];if(this.major>c||this.major<0){throw new TypeError("Invalid major version")}if(this.minor>c||this.minor<0){throw new TypeError("Invalid minor version")}if(this.patch>c||this.patch<0){throw new TypeError("Invalid patch version")}if(!i[4]){this.prerelease=[]}else{this.prerelease=i[4].split(".").map((t=>{if(/^[0-9]+$/.test(t)){const r=+t;if(r>=0&&r<c){return r}}return t}))}this.build=i[5]?i[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;if(this.prerelease.length){this.version+=`-${this.prerelease.join(".")}`}return this.version}toString(){return this.version}compare(t){o("SemVer.compare",this.version,this.options,t);if(!(t instanceof SemVer)){if(typeof t==="string"&&t===this.version){return 0}t=new SemVer(t,this.options)}if(t.version===this.version){return 0}return this.compareMain(t)||this.comparePre(t)}compareMain(t){if(!(t instanceof SemVer)){t=new SemVer(t,this.options)}return d(this.major,t.major)||d(this.minor,t.minor)||d(this.patch,t.patch)}comparePre(t){if(!(t instanceof SemVer)){t=new SemVer(t,this.options)}if(this.prerelease.length&&!t.prerelease.length){return-1}else if(!this.prerelease.length&&t.prerelease.length){return 1}else if(!this.prerelease.length&&!t.prerelease.length){return 0}let r=0;do{const i=this.prerelease[r];const a=t.prerelease[r];o("prerelease compare",r,i,a);if(i===undefined&&a===undefined){return 0}else if(a===undefined){return 1}else if(i===undefined){return-1}else if(i===a){continue}else{return d(i,a)}}while(++r)}compareBuild(t){if(!(t instanceof SemVer)){t=new SemVer(t,this.options)}let r=0;do{const i=this.build[r];const a=t.build[r];o("prerelease compare",r,i,a);if(i===undefined&&a===undefined){return 0}else if(a===undefined){return 1}else if(i===undefined){return-1}else if(i===a){continue}else{return d(i,a)}}while(++r)}inc(t,r){switch(t){case"premajor":this.prerelease.length=0;this.patch=0;this.minor=0;this.major++;this.inc("pre",r);break;case"preminor":this.prerelease.length=0;this.patch=0;this.minor++;this.inc("pre",r);break;case"prepatch":this.prerelease.length=0;this.inc("patch",r);this.inc("pre",r);break;case"prerelease":if(this.prerelease.length===0){this.inc("patch",r)}this.inc("pre",r);break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0){this.major++}this.minor=0;this.patch=0;this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0){this.minor++}this.patch=0;this.prerelease=[];break;case"patch":if(this.prerelease.length===0){this.patch++}this.prerelease=[];break;case"pre":if(this.prerelease.length===0){this.prerelease=[0]}else{let t=this.prerelease.length;while(--t>=0){if(typeof this.prerelease[t]==="number"){this.prerelease[t]++;t=-2}}if(t===-1){this.prerelease.push(0)}}if(r){if(d(this.prerelease[0],r)===0){if(isNaN(this.prerelease[1])){this.prerelease=[r,0]}}else{this.prerelease=[r,0]}}break;default:throw new Error(`invalid increment argument: ${t}`)}this.format();this.raw=this.version;return this}}t.exports=SemVer},6869:(t,r,i)=>{const o=i(4770);const clean=(t,r)=>{const i=o(t.trim().replace(/^[=v]+/,""),r);return i?i.version:null};t.exports=clean},2674:(t,r,i)=>{const o=i(112);const a=i(4182);const c=i(2062);const l=i(6503);const h=i(1004);const u=i(3285);const cmp=(t,r,i,d)=>{switch(r){case"===":if(typeof t==="object"){t=t.version}if(typeof i==="object"){i=i.version}return t===i;case"!==":if(typeof t==="object"){t=t.version}if(typeof i==="object"){i=i.version}return t!==i;case"":case"=":case"==":return o(t,i,d);case"!=":return a(t,i,d);case">":return c(t,i,d);case">=":return l(t,i,d);case"<":return h(t,i,d);case"<=":return u(t,i,d);default:throw new TypeError(`Invalid operator: ${r}`)}};t.exports=cmp},9608:(t,r,i)=>{const o=i(7825);const a=i(4770);const{re:c,t:l}=i(4351);const coerce=(t,r)=>{if(t instanceof o){return t}if(typeof t==="number"){t=String(t)}if(typeof t!=="string"){return null}r=r||{};let i=null;if(!r.rtl){i=t.match(c[l.COERCE])}else{let r;while((r=c[l.COERCERTL].exec(t))&&(!i||i.index+i[0].length!==t.length)){if(!i||r.index+r[0].length!==i.index+i[0].length){i=r}c[l.COERCERTL].lastIndex=r.index+r[1].length+r[2].length}c[l.COERCERTL].lastIndex=-1}if(i===null){return null}return a(`${i[2]}.${i[3]||"0"}.${i[4]||"0"}`,r)};t.exports=coerce},9874:(t,r,i)=>{const o=i(7825);const compareBuild=(t,r,i)=>{const a=new o(t,i);const c=new o(r,i);return a.compare(c)||a.compareBuild(c)};t.exports=compareBuild},8325:(t,r,i)=>{const o=i(1878);const compareLoose=(t,r)=>o(t,r,true);t.exports=compareLoose},1878:(t,r,i)=>{const o=i(7825);const compare=(t,r,i)=>new o(t,i).compare(new o(r,i));t.exports=compare},2464:(t,r,i)=>{const o=i(4770);const a=i(112);const diff=(t,r)=>{if(a(t,r)){return null}else{const i=o(t);const a=o(r);const c=i.prerelease.length||a.prerelease.length;const l=c?"pre":"";const h=c?"prerelease":"";for(const t in i){if(t==="major"||t==="minor"||t==="patch"){if(i[t]!==a[t]){return l+t}}}return h}};t.exports=diff},112:(t,r,i)=>{const o=i(1878);const eq=(t,r,i)=>o(t,r,i)===0;t.exports=eq},2062:(t,r,i)=>{const o=i(1878);const gt=(t,r,i)=>o(t,r,i)>0;t.exports=gt},6503:(t,r,i)=>{const o=i(1878);const gte=(t,r,i)=>o(t,r,i)>=0;t.exports=gte},6223:(t,r,i)=>{const o=i(7825);const inc=(t,r,i,a)=>{if(typeof i==="string"){a=i;i=undefined}try{return new o(t instanceof o?t.version:t,i).inc(r,a).version}catch(t){return null}};t.exports=inc},1004:(t,r,i)=>{const o=i(1878);const lt=(t,r,i)=>o(t,r,i)<0;t.exports=lt},3285:(t,r,i)=>{const o=i(1878);const lte=(t,r,i)=>o(t,r,i)<=0;t.exports=lte},6851:(t,r,i)=>{const o=i(7825);const major=(t,r)=>new o(t,r).major;t.exports=major},7443:(t,r,i)=>{const o=i(7825);const minor=(t,r)=>new o(t,r).minor;t.exports=minor},4182:(t,r,i)=>{const o=i(1878);const neq=(t,r,i)=>o(t,r,i)!==0;t.exports=neq},4770:(t,r,i)=>{const{MAX_LENGTH:o}=i(8147);const{re:a,t:c}=i(4351);const l=i(7825);const h=i(3789);const parse=(t,r)=>{r=h(r);if(t instanceof l){return t}if(typeof t!=="string"){return null}if(t.length>o){return null}const i=r.loose?a[c.LOOSE]:a[c.FULL];if(!i.test(t)){return null}try{return new l(t,r)}catch(t){return null}};t.exports=parse},1550:(t,r,i)=>{const o=i(7825);const patch=(t,r)=>new o(t,r).patch;t.exports=patch},3340:(t,r,i)=>{const o=i(4770);const prerelease=(t,r)=>{const i=o(t,r);return i&&i.prerelease.length?i.prerelease:null};t.exports=prerelease},3119:(t,r,i)=>{const o=i(1878);const rcompare=(t,r,i)=>o(r,t,i);t.exports=rcompare},3379:(t,r,i)=>{const o=i(9874);const rsort=(t,r)=>t.sort(((t,i)=>o(i,t,r)));t.exports=rsort},4140:(t,r,i)=>{const o=i(7058);const satisfies=(t,r,i)=>{try{r=new o(r,i)}catch(t){return false}return r.test(t)};t.exports=satisfies},7408:(t,r,i)=>{const o=i(9874);const sort=(t,r)=>t.sort(((t,i)=>o(t,i,r)));t.exports=sort},8994:(t,r,i)=>{const o=i(4770);const valid=(t,r)=>{const i=o(t,r);return i?i.version:null};t.exports=valid},1452:(t,r,i)=>{const o=i(4351);const a=i(8147);const c=i(7825);const l=i(8307);const h=i(4770);const u=i(8994);const d=i(6869);const p=i(6223);const m=i(2464);const g=i(6851);const y=i(7443);const b=i(1550);const v=i(3340);const w=i(1878);const _=i(3119);const E=i(8325);const S=i(9874);const O=i(7408);const x=i(3379);const R=i(2062);const T=i(1004);const k=i(112);const A=i(4182);const C=i(6503);const P=i(3285);const I=i(2674);const N=i(9608);const L=i(2485);const M=i(7058);const $=i(4140);const j=i(8478);const D=i(4430);const H=i(4510);const B=i(2582);const U=i(4499);const q=i(3766);const G=i(3773);const z=i(8626);const V=i(4298);const Y=i(6023);const W=i(5701);t.exports={parse:h,valid:u,clean:d,inc:p,diff:m,major:g,minor:y,patch:b,prerelease:v,compare:w,rcompare:_,compareLoose:E,compareBuild:S,sort:O,rsort:x,gt:R,lt:T,eq:k,neq:A,gte:C,lte:P,cmp:I,coerce:N,Comparator:L,Range:M,satisfies:$,toComparators:j,maxSatisfying:D,minSatisfying:H,minVersion:B,validRange:U,outside:q,gtr:G,ltr:z,intersects:V,simplifyRange:Y,subset:W,SemVer:c,re:o.re,src:o.src,tokens:o.t,SEMVER_SPEC_VERSION:a.SEMVER_SPEC_VERSION,compareIdentifiers:l.compareIdentifiers,rcompareIdentifiers:l.rcompareIdentifiers}},8147:t=>{const r="2.0.0";const i=256;const o=Number.MAX_SAFE_INTEGER||9007199254740991;const a=16;t.exports={SEMVER_SPEC_VERSION:r,MAX_LENGTH:i,MAX_SAFE_INTEGER:o,MAX_SAFE_COMPONENT_LENGTH:a}},5747:t=>{const r=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};t.exports=r},8307:t=>{const r=/^[0-9]+$/;const compareIdentifiers=(t,i)=>{const o=r.test(t);const a=r.test(i);if(o&&a){t=+t;i=+i}return t===i?0:o&&!a?-1:a&&!o?1:t<i?-1:1};const rcompareIdentifiers=(t,r)=>compareIdentifiers(r,t);t.exports={compareIdentifiers:compareIdentifiers,rcompareIdentifiers:rcompareIdentifiers}},3789:t=>{const r=["includePrerelease","loose","rtl"];const parseOptions=t=>!t?{}:typeof t!=="object"?{loose:true}:r.filter((r=>t[r])).reduce(((t,r)=>{t[r]=true;return t}),{});t.exports=parseOptions},4351:(t,r,i)=>{const{MAX_SAFE_COMPONENT_LENGTH:o}=i(8147);const a=i(5747);r=t.exports={};const c=r.re=[];const l=r.src=[];const h=r.t={};let u=0;const createToken=(t,r,i)=>{const o=u++;a(t,o,r);h[t]=o;l[o]=r;c[o]=new RegExp(r,i?"g":undefined)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*");createToken("NUMERICIDENTIFIERLOOSE","[0-9]+");createToken("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");createToken("MAINVERSION",`(${l[h.NUMERICIDENTIFIER]})\\.`+`(${l[h.NUMERICIDENTIFIER]})\\.`+`(${l[h.NUMERICIDENTIFIER]})`);createToken("MAINVERSIONLOOSE",`(${l[h.NUMERICIDENTIFIERLOOSE]})\\.`+`(${l[h.NUMERICIDENTIFIERLOOSE]})\\.`+`(${l[h.NUMERICIDENTIFIERLOOSE]})`);createToken("PRERELEASEIDENTIFIER",`(?:${l[h.NUMERICIDENTIFIER]}|${l[h.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${l[h.NUMERICIDENTIFIERLOOSE]}|${l[h.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASE",`(?:-(${l[h.PRERELEASEIDENTIFIER]}(?:\\.${l[h.PRERELEASEIDENTIFIER]})*))`);createToken("PRERELEASELOOSE",`(?:-?(${l[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[h.PRERELEASEIDENTIFIERLOOSE]})*))`);createToken("BUILDIDENTIFIER","[0-9A-Za-z-]+");createToken("BUILD",`(?:\\+(${l[h.BUILDIDENTIFIER]}(?:\\.${l[h.BUILDIDENTIFIER]})*))`);createToken("FULLPLAIN",`v?${l[h.MAINVERSION]}${l[h.PRERELEASE]}?${l[h.BUILD]}?`);createToken("FULL",`^${l[h.FULLPLAIN]}$`);createToken("LOOSEPLAIN",`[v=\\s]*${l[h.MAINVERSIONLOOSE]}${l[h.PRERELEASELOOSE]}?${l[h.BUILD]}?`);createToken("LOOSE",`^${l[h.LOOSEPLAIN]}$`);createToken("GTLT","((?:<|>)?=?)");createToken("XRANGEIDENTIFIERLOOSE",`${l[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);createToken("XRANGEIDENTIFIER",`${l[h.NUMERICIDENTIFIER]}|x|X|\\*`);createToken("XRANGEPLAIN",`[v=\\s]*(${l[h.XRANGEIDENTIFIER]})`+`(?:\\.(${l[h.XRANGEIDENTIFIER]})`+`(?:\\.(${l[h.XRANGEIDENTIFIER]})`+`(?:${l[h.PRERELEASE]})?${l[h.BUILD]}?`+`)?)?`);createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${l[h.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${l[h.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${l[h.XRANGEIDENTIFIERLOOSE]})`+`(?:${l[h.PRERELEASELOOSE]})?${l[h.BUILD]}?`+`)?)?`);createToken("XRANGE",`^${l[h.GTLT]}\\s*${l[h.XRANGEPLAIN]}$`);createToken("XRANGELOOSE",`^${l[h.GTLT]}\\s*${l[h.XRANGEPLAINLOOSE]}$`);createToken("COERCE",`${"(^|[^\\d])"+"(\\d{1,"}${o}})`+`(?:\\.(\\d{1,${o}}))?`+`(?:\\.(\\d{1,${o}}))?`+`(?:$|[^\\d])`);createToken("COERCERTL",l[h.COERCE],true);createToken("LONETILDE","(?:~>?)");createToken("TILDETRIM",`(\\s*)${l[h.LONETILDE]}\\s+`,true);r.tildeTrimReplace="$1~";createToken("TILDE",`^${l[h.LONETILDE]}${l[h.XRANGEPLAIN]}$`);createToken("TILDELOOSE",`^${l[h.LONETILDE]}${l[h.XRANGEPLAINLOOSE]}$`);createToken("LONECARET","(?:\\^)");createToken("CARETTRIM",`(\\s*)${l[h.LONECARET]}\\s+`,true);r.caretTrimReplace="$1^";createToken("CARET",`^${l[h.LONECARET]}${l[h.XRANGEPLAIN]}$`);createToken("CARETLOOSE",`^${l[h.LONECARET]}${l[h.XRANGEPLAINLOOSE]}$`);createToken("COMPARATORLOOSE",`^${l[h.GTLT]}\\s*(${l[h.LOOSEPLAIN]})$|^$`);createToken("COMPARATOR",`^${l[h.GTLT]}\\s*(${l[h.FULLPLAIN]})$|^$`);createToken("COMPARATORTRIM",`(\\s*)${l[h.GTLT]}\\s*(${l[h.LOOSEPLAIN]}|${l[h.XRANGEPLAIN]})`,true);r.comparatorTrimReplace="$1$2$3";createToken("HYPHENRANGE",`^\\s*(${l[h.XRANGEPLAIN]})`+`\\s+-\\s+`+`(${l[h.XRANGEPLAIN]})`+`\\s*$`);createToken("HYPHENRANGELOOSE",`^\\s*(${l[h.XRANGEPLAINLOOSE]})`+`\\s+-\\s+`+`(${l[h.XRANGEPLAINLOOSE]})`+`\\s*$`);createToken("STAR","(<|>)?=?\\s*\\*");createToken("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");createToken("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},3773:(t,r,i)=>{const o=i(3766);const gtr=(t,r,i)=>o(t,r,">",i);t.exports=gtr},4298:(t,r,i)=>{const o=i(7058);const intersects=(t,r,i)=>{t=new o(t,i);r=new o(r,i);return t.intersects(r)};t.exports=intersects},8626:(t,r,i)=>{const o=i(3766);const ltr=(t,r,i)=>o(t,r,"<",i);t.exports=ltr},4430:(t,r,i)=>{const o=i(7825);const a=i(7058);const maxSatisfying=(t,r,i)=>{let c=null;let l=null;let h=null;try{h=new a(r,i)}catch(t){return null}t.forEach((t=>{if(h.test(t)){if(!c||l.compare(t)===-1){c=t;l=new o(c,i)}}}));return c};t.exports=maxSatisfying},4510:(t,r,i)=>{const o=i(7825);const a=i(7058);const minSatisfying=(t,r,i)=>{let c=null;let l=null;let h=null;try{h=new a(r,i)}catch(t){return null}t.forEach((t=>{if(h.test(t)){if(!c||l.compare(t)===1){c=t;l=new o(c,i)}}}));return c};t.exports=minSatisfying},2582:(t,r,i)=>{const o=i(7825);const a=i(7058);const c=i(2062);const minVersion=(t,r)=>{t=new a(t,r);let i=new o("0.0.0");if(t.test(i)){return i}i=new o("0.0.0-0");if(t.test(i)){return i}i=null;for(let r=0;r<t.set.length;++r){const a=t.set[r];let l=null;a.forEach((t=>{const r=new o(t.semver.version);switch(t.operator){case">":if(r.prerelease.length===0){r.patch++}else{r.prerelease.push(0)}r.raw=r.format();case"":case">=":if(!l||c(r,l)){l=r}break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${t.operator}`)}}));if(l&&(!i||c(i,l))){i=l}}if(i&&t.test(i)){return i}return null};t.exports=minVersion},3766:(t,r,i)=>{const o=i(7825);const a=i(2485);const{ANY:c}=a;const l=i(7058);const h=i(4140);const u=i(2062);const d=i(1004);const p=i(3285);const m=i(6503);const outside=(t,r,i,g)=>{t=new o(t,g);r=new l(r,g);let y,b,v,w,_;switch(i){case">":y=u;b=p;v=d;w=">";_=">=";break;case"<":y=d;b=m;v=u;w="<";_="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(h(t,r,g)){return false}for(let i=0;i<r.set.length;++i){const o=r.set[i];let l=null;let h=null;o.forEach((t=>{if(t.semver===c){t=new a(">=0.0.0")}l=l||t;h=h||t;if(y(t.semver,l.semver,g)){l=t}else if(v(t.semver,h.semver,g)){h=t}}));if(l.operator===w||l.operator===_){return false}if((!h.operator||h.operator===w)&&b(t,h.semver)){return false}else if(h.operator===_&&v(t,h.semver)){return false}}return true};t.exports=outside},6023:(t,r,i)=>{const o=i(4140);const a=i(1878);t.exports=(t,r,i)=>{const c=[];let l=null;let h=null;const u=t.sort(((t,r)=>a(t,r,i)));for(const t of u){const a=o(t,r,i);if(a){h=t;if(!l){l=t}}else{if(h){c.push([l,h])}h=null;l=null}}if(l){c.push([l,null])}const d=[];for(const[t,r]of c){if(t===r){d.push(t)}else if(!r&&t===u[0]){d.push("*")}else if(!r){d.push(`>=${t}`)}else if(t===u[0]){d.push(`<=${r}`)}else{d.push(`${t} - ${r}`)}}const p=d.join(" || ");const m=typeof r.raw==="string"?r.raw:String(r);return p.length<m.length?p:r}},5701:(t,r,i)=>{const o=i(7058);const a=i(2485);const{ANY:c}=a;const l=i(4140);const h=i(1878);const subset=(t,r,i={})=>{if(t===r){return true}t=new o(t,i);r=new o(r,i);let a=false;e:for(const o of t.set){for(const t of r.set){const r=simpleSubset(o,t,i);a=a||r!==null;if(r){continue e}}if(a){return false}}return true};const simpleSubset=(t,r,i)=>{if(t===r){return true}if(t.length===1&&t[0].semver===c){if(r.length===1&&r[0].semver===c){return true}else if(i.includePrerelease){t=[new a(">=0.0.0-0")]}else{t=[new a(">=0.0.0")]}}if(r.length===1&&r[0].semver===c){if(i.includePrerelease){return true}else{r=[new a(">=0.0.0")]}}const o=new Set;let u,d;for(const r of t){if(r.operator===">"||r.operator===">="){u=higherGT(u,r,i)}else if(r.operator==="<"||r.operator==="<="){d=lowerLT(d,r,i)}else{o.add(r.semver)}}if(o.size>1){return null}let p;if(u&&d){p=h(u.semver,d.semver,i);if(p>0){return null}else if(p===0&&(u.operator!==">="||d.operator!=="<=")){return null}}for(const t of o){if(u&&!l(t,String(u),i)){return null}if(d&&!l(t,String(d),i)){return null}for(const o of r){if(!l(t,String(o),i)){return false}}return true}let m,g;let y,b;let v=d&&!i.includePrerelease&&d.semver.prerelease.length?d.semver:false;let w=u&&!i.includePrerelease&&u.semver.prerelease.length?u.semver:false;if(v&&v.prerelease.length===1&&d.operator==="<"&&v.prerelease[0]===0){v=false}for(const t of r){b=b||t.operator===">"||t.operator===">=";y=y||t.operator==="<"||t.operator==="<=";if(u){if(w){if(t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===w.major&&t.semver.minor===w.minor&&t.semver.patch===w.patch){w=false}}if(t.operator===">"||t.operator===">="){m=higherGT(u,t,i);if(m===t&&m!==u){return false}}else if(u.operator===">="&&!l(u.semver,String(t),i)){return false}}if(d){if(v){if(t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===v.major&&t.semver.minor===v.minor&&t.semver.patch===v.patch){v=false}}if(t.operator==="<"||t.operator==="<="){g=lowerLT(d,t,i);if(g===t&&g!==d){return false}}else if(d.operator==="<="&&!l(d.semver,String(t),i)){return false}}if(!t.operator&&(d||u)&&p!==0){return false}}if(u&&y&&!d&&p!==0){return false}if(d&&b&&!u&&p!==0){return false}if(w||v){return false}return true};const higherGT=(t,r,i)=>{if(!t){return r}const o=h(t.semver,r.semver,i);return o>0?t:o<0?r:r.operator===">"&&t.operator===">="?r:t};const lowerLT=(t,r,i)=>{if(!t){return r}const o=h(t.semver,r.semver,i);return o<0?t:o>0?r:r.operator==="<"&&t.operator==="<="?r:t};t.exports=subset},8478:(t,r,i)=>{const o=i(7058);const toComparators=(t,r)=>new o(t,r).set.map((t=>t.map((t=>t.value)).join(" ").trim().split(" ")));t.exports=toComparators},4499:(t,r,i)=>{const o=i(7058);const validRange=(t,r)=>{try{return new o(t,r).range||"*"}catch(t){return null}};t.exports=validRange},530:(t,r,i)=>{"use strict";const o=i(4401);t.exports=(t="")=>{const r=t.match(o);if(!r){return null}const[i,a]=r[0].replace(/#! ?/,"").split(" ");const c=i.split("/").pop();if(c==="env"){return a}return a?`${c} ${a}`:c}},4401:t=>{"use strict";t.exports=/^#!(.*)/},1407:t=>{"use strict";const r="";const i=`${r}[`;const o="";const a={to(t,r){if(!r)return`${i}${t+1}G`;return`${i}${r+1};${t+1}H`},move(t,r){let o="";if(t<0)o+=`${i}${-t}D`;else if(t>0)o+=`${i}${t}C`;if(r<0)o+=`${i}${-r}A`;else if(r>0)o+=`${i}${r}B`;return o},up:(t=1)=>`${i}${t}A`,down:(t=1)=>`${i}${t}B`,forward:(t=1)=>`${i}${t}C`,backward:(t=1)=>`${i}${t}D`,nextLine:(t=1)=>`${i}E`.repeat(t),prevLine:(t=1)=>`${i}F`.repeat(t),left:`${i}G`,hide:`${i}?25l`,show:`${i}?25h`,save:`${r}7`,restore:`${r}8`};const c={up:(t=1)=>`${i}S`.repeat(t),down:(t=1)=>`${i}T`.repeat(t)};const l={screen:`${i}2J`,up:(t=1)=>`${i}1J`.repeat(t),down:(t=1)=>`${i}J`.repeat(t),line:`${i}2K`,lineEnd:`${i}K`,lineStart:`${i}1K`,lines(t){let r="";for(let i=0;i<t;i++)r+=this.line+(i<t-1?a.up():"");if(t)r+=a.left;return r}};t.exports={cursor:a,scroll:c,erase:l,beep:o}},2251:t=>{"use strict";var r=1;var i=2;function stripWithoutWhitespace(){return""}function stripWithWhitespace(t,r,i){return t.slice(r,i).replace(/\S/g," ")}t.exports=function(t,o){o=o||{};var a;var c;var l=false;var h=false;var u=0;var d="";var p=o.whitespace===false?stripWithoutWhitespace:stripWithWhitespace;for(var m=0;m<t.length;m++){a=t[m];c=t[m+1];if(!h&&a==='"'){var g=t[m-1]==="\\"&&t[m-2]!=="\\";if(!g){l=!l}}if(l){continue}if(!h&&a+c==="//"){d+=t.slice(u,m);u=m;h=r;m++}else if(h===r&&a+c==="\r\n"){m++;h=false;d+=p(t,u,m);u=m;continue}else if(h===r&&a==="\n"){h=false;d+=p(t,u,m);u=m}else if(!h&&a+c==="/*"){d+=t.slice(u,m);u=m;h=i;m++;continue}else if(h===i&&a+c==="*/"){m++;h=false;d+=p(t,u,m+1);u=m+1;continue}}return d+(h?p(t.substr(u)):t.substr(u))}},1722:(t,r,i)=>{"use strict";var o;o=i(6448);o=i(463);o=i(5591);o=i(7390);o=r.extract=i(8682);i(8987);i(3854);i(3390);i(89);i(3042);i(5219);i(6992);i(2087)},3935:(t,r,i)=>{"use strict";let o=Buffer;if(!o.alloc){o=i(6911).Buffer}t.exports=o},6448:(t,r,i)=>{"use strict";const o=i(6173);const a=i(8987);const c=i(7147);const l=i(36);const h=i(5591);const u=i(1017);const d=t.exports=(t,r,i)=>{if(typeof r==="function")i=r;if(Array.isArray(t))r=t,t={};if(!r||!Array.isArray(r)||!r.length)throw new TypeError("no files or directories specified");r=Array.from(r);const a=o(t);if(a.sync&&typeof i==="function")throw new TypeError("callback not supported for sync tar functions");if(!a.file&&typeof i==="function")throw new TypeError("callback only supported with file option");return a.file&&a.sync?createFileSync(a,r):a.file?createFile(a,r,i):a.sync?createSync(a,r):create(a,r)};const createFileSync=(t,r)=>{const i=new a.Sync(t);const o=new l.WriteStreamSync(t.file,{mode:t.mode||438});i.pipe(o);addFilesSync(i,r)};const createFile=(t,r,i)=>{const o=new a(t);const c=new l.WriteStream(t.file,{mode:t.mode||438});o.pipe(c);const h=new Promise(((t,r)=>{c.on("error",r);c.on("close",t);o.on("error",r)}));addFilesAsync(o,r);return i?h.then(i,i):h};const addFilesSync=(t,r)=>{r.forEach((r=>{if(r.charAt(0)==="@")h({file:u.resolve(t.cwd,r.substr(1)),sync:true,noResume:true,onentry:r=>t.add(r)});else t.add(r)}));t.end()};const addFilesAsync=(t,r)=>{while(r.length){const i=r.shift();if(i.charAt(0)==="@")return h({file:u.resolve(t.cwd,i.substr(1)),noResume:true,onentry:r=>t.add(r)}).then((i=>addFilesAsync(t,r)));else t.add(i)}t.end()};const createSync=(t,r)=>{const i=new a.Sync(t);addFilesSync(i,r);return i};const create=(t,r)=>{const i=new a(t);addFilesAsync(i,r);return i}},8682:(t,r,i)=>{"use strict";const o=i(6173);const a=i(3854);const c=i(7147);const l=i(36);const h=i(1017);const u=i(893);const d=t.exports=(t,r,i)=>{if(typeof t==="function")i=t,r=null,t={};else if(Array.isArray(t))r=t,t={};if(typeof r==="function")i=r,r=null;if(!r)r=[];else r=Array.from(r);const a=o(t);if(a.sync&&typeof i==="function")throw new TypeError("callback not supported for sync tar functions");if(!a.file&&typeof i==="function")throw new TypeError("callback only supported with file option");if(r.length)filesFilter(a,r);return a.file&&a.sync?extractFileSync(a):a.file?extractFile(a,i):a.sync?extractSync(a):extract(a)};const filesFilter=(t,r)=>{const i=new Map(r.map((t=>[u(t),true])));const o=t.filter;const mapHas=(t,r)=>{const o=r||h.parse(t).root||".";const a=t===o?false:i.has(t)?i.get(t):mapHas(h.dirname(t),o);i.set(t,a);return a};t.filter=o?(t,r)=>o(t,r)&&mapHas(u(t)):t=>mapHas(u(t))};const extractFileSync=t=>{const r=new a.Sync(t);const i=t.file;let o=true;let h;const u=c.statSync(i);const d=t.maxReadSize||16*1024*1024;const p=new l.ReadStreamSync(i,{readSize:d,size:u.size});p.pipe(r)};const extractFile=(t,r)=>{const i=new a(t);const o=t.maxReadSize||16*1024*1024;const h=t.file;const u=new Promise(((t,r)=>{i.on("error",r);i.on("close",t);c.stat(h,((t,a)=>{if(t)r(t);else{const t=new l.ReadStream(h,{readSize:o,size:a.size});t.on("error",r);t.pipe(i)}}))}));return r?u.then(r,r):u};const extractSync=t=>new a.Sync(t);const extract=t=>new a(t)},5219:(t,r,i)=>{"use strict";const o=i(3935);const a=i(2087);const c=i(1017).posix;const l=i(9752);const h=Symbol("slurp");const u=Symbol("type");class Header{constructor(t,r,i,a){this.cksumValid=false;this.needPax=false;this.nullBlock=false;this.block=null;this.path=null;this.mode=null;this.uid=null;this.gid=null;this.size=null;this.mtime=null;this.cksum=null;this[u]="0";this.linkpath=null;this.uname=null;this.gname=null;this.devmaj=0;this.devmin=0;this.atime=null;this.ctime=null;if(o.isBuffer(t))this.decode(t,r||0,i,a);else if(t)this.set(t)}decode(t,r,i,o){if(!r)r=0;if(!t||!(t.length>=r+512))throw new Error("need 512 bytes for header");this.path=decString(t,r,100);this.mode=decNumber(t,r+100,8);this.uid=decNumber(t,r+108,8);this.gid=decNumber(t,r+116,8);this.size=decNumber(t,r+124,12);this.mtime=decDate(t,r+136,12);this.cksum=decNumber(t,r+148,12);this[h](i);this[h](o,true);this[u]=decString(t,r+156,1);if(this[u]==="")this[u]="0";if(this[u]==="0"&&this.path.substr(-1)==="/")this[u]="5";if(this[u]==="5")this.size=0;this.linkpath=decString(t,r+157,100);if(t.slice(r+257,r+265).toString()==="ustar\x0000"){this.uname=decString(t,r+265,32);this.gname=decString(t,r+297,32);this.devmaj=decNumber(t,r+329,8);this.devmin=decNumber(t,r+337,8);if(t[r+475]!==0){const i=decString(t,r+345,155);this.path=i+"/"+this.path}else{const i=decString(t,r+345,130);if(i)this.path=i+"/"+this.path;this.atime=decDate(t,r+476,12);this.ctime=decDate(t,r+488,12)}}let a=8*32;for(let i=r;i<r+148;i++){a+=t[i]}for(let i=r+156;i<r+512;i++){a+=t[i]}this.cksumValid=a===this.cksum;if(this.cksum===null&&a===8*32)this.nullBlock=true}[h](t,r){for(let i in t){if(t[i]!==null&&t[i]!==undefined&&!(r&&i==="path"))this[i]=t[i]}}encode(t,r){if(!t){t=this.block=o.alloc(512);r=0}if(!r)r=0;if(!(t.length>=r+512))throw new Error("need 512 bytes for header");const i=this.ctime||this.atime?130:155;const a=splitPrefix(this.path||"",i);const c=a[0];const l=a[1];this.needPax=a[2];this.needPax=encString(t,r,100,c)||this.needPax;this.needPax=encNumber(t,r+100,8,this.mode)||this.needPax;this.needPax=encNumber(t,r+108,8,this.uid)||this.needPax;this.needPax=encNumber(t,r+116,8,this.gid)||this.needPax;this.needPax=encNumber(t,r+124,12,this.size)||this.needPax;this.needPax=encDate(t,r+136,12,this.mtime)||this.needPax;t[r+156]=this[u].charCodeAt(0);this.needPax=encString(t,r+157,100,this.linkpath)||this.needPax;t.write("ustar\x0000",r+257,8);this.needPax=encString(t,r+265,32,this.uname)||this.needPax;this.needPax=encString(t,r+297,32,this.gname)||this.needPax;this.needPax=encNumber(t,r+329,8,this.devmaj)||this.needPax;this.needPax=encNumber(t,r+337,8,this.devmin)||this.needPax;this.needPax=encString(t,r+345,i,l)||this.needPax;if(t[r+475]!==0)this.needPax=encString(t,r+345,155,l)||this.needPax;else{this.needPax=encString(t,r+345,130,l)||this.needPax;this.needPax=encDate(t,r+476,12,this.atime)||this.needPax;this.needPax=encDate(t,r+488,12,this.ctime)||this.needPax}let h=8*32;for(let i=r;i<r+148;i++){h+=t[i]}for(let i=r+156;i<r+512;i++){h+=t[i]}this.cksum=h;encNumber(t,r+148,8,this.cksum);this.cksumValid=true;return this.needPax}set(t){for(let r in t){if(t[r]!==null&&t[r]!==undefined)this[r]=t[r]}}get type(){return a.name.get(this[u])||this[u]}get typeKey(){return this[u]}set type(t){if(a.code.has(t))this[u]=a.code.get(t);else this[u]=t}}const splitPrefix=(t,r)=>{const i=100;let a=t;let l="";let h;const u=c.parse(t).root||".";if(o.byteLength(a)<i)h=[a,l,false];else{l=c.dirname(a);a=c.basename(a);do{if(o.byteLength(a)<=i&&o.byteLength(l)<=r)h=[a,l,false];else if(o.byteLength(a)>i&&o.byteLength(l)<=r)h=[a.substr(0,i-1),l,true];else{a=c.join(c.basename(l),a);l=c.dirname(l)}}while(l!==u&&!h);if(!h)h=[t.substr(0,i-1),"",true]}return h};const decString=(t,r,i)=>t.slice(r,r+i).toString("utf8").replace(/\0.*/,"");const decDate=(t,r,i)=>numToDate(decNumber(t,r,i));const numToDate=t=>t===null?null:new Date(t*1e3);const decNumber=(t,r,i)=>t[r]&128?l.parse(t.slice(r,r+i)):decSmallNumber(t,r,i);const nanNull=t=>isNaN(t)?null:t;const decSmallNumber=(t,r,i)=>nanNull(parseInt(t.slice(r,r+i).toString("utf8").replace(/\0.*$/,"").trim(),8));const d={12:8589934591,8:2097151};const encNumber=(t,r,i,o)=>o===null?false:o>d[i]||o<0?(l.encode(o,t.slice(r,r+i)),true):(encSmallNumber(t,r,i,o),false);const encSmallNumber=(t,r,i,o)=>t.write(octalString(o,i),r,i,"ascii");const octalString=(t,r)=>padOctal(Math.floor(t).toString(8),r);const padOctal=(t,r)=>(t.length===r-1?t:new Array(r-t.length-1).join("0")+t+" ")+"\0";const encDate=(t,r,i,o)=>o===null?false:encNumber(t,r,i,o.getTime()/1e3);const p=new Array(156).join("\0");const encString=(t,r,i,a)=>a===null?false:(t.write(a+p,r,i,"utf8"),a.length!==o.byteLength(a)||a.length>i);t.exports=Header},6173:t=>{"use strict";const r=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);const i=t.exports=t=>t?Object.keys(t).map((i=>[r.has(i)?r.get(i):i,t[i]])).reduce(((t,r)=>(t[r[0]]=r[1],t)),Object.create(null)):{}},9752:(t,r)=>{"use strict";const i=r.encode=(t,r)=>{if(!Number.isSafeInteger(t))throw TypeError("cannot encode number outside of javascript safe integer range");else if(t<0)encodeNegative(t,r);else encodePositive(t,r);return r};const encodePositive=(t,r)=>{r[0]=128;for(var i=r.length;i>1;i--){r[i-1]=t&255;t=Math.floor(t/256)}};const encodeNegative=(t,r)=>{r[0]=255;var i=false;t=t*-1;for(var o=r.length;o>1;o--){var a=t&255;t=Math.floor(t/256);if(i)r[o-1]=onesComp(a);else if(a===0)r[o-1]=0;else{i=true;r[o-1]=twosComp(a)}}};const o=r.parse=t=>{var r=t[t.length-1];var i=t[0];var o;if(i===128)o=pos(t.slice(1,t.length));else if(i===255)o=twos(t);else throw TypeError("invalid base256 encoding");if(!Number.isSafeInteger(o))throw TypeError("parsed number outside of javascript safe integer range");return o};const twos=t=>{var r=t.length;var i=0;var o=false;for(var a=r-1;a>-1;a--){var c=t[a];var l;if(o)l=onesComp(c);else if(c===0)l=c;else{o=true;l=twosComp(c)}if(l!==0)i-=l*Math.pow(256,r-a-1)}return i};const pos=t=>{var r=t.length;var i=0;for(var o=r-1;o>-1;o--){var a=t[o];if(a!==0)i+=a*Math.pow(256,r-o-1)}return i};const onesComp=t=>(255^t)&255;const twosComp=t=>(255^t)+1&255},5591:(t,r,i)=>{"use strict";const o=i(3935);const a=i(6173);const c=i(3390);const l=i(7147);const h=i(36);const u=i(1017);const d=i(893);const p=t.exports=(t,r,i)=>{if(typeof t==="function")i=t,r=null,t={};else if(Array.isArray(t))r=t,t={};if(typeof r==="function")i=r,r=null;if(!r)r=[];else r=Array.from(r);const o=a(t);if(o.sync&&typeof i==="function")throw new TypeError("callback not supported for sync tar functions");if(!o.file&&typeof i==="function")throw new TypeError("callback only supported with file option");if(r.length)filesFilter(o,r);if(!o.noResume)onentryFunction(o);return o.file&&o.sync?listFileSync(o):o.file?listFile(o,i):list(o)};const onentryFunction=t=>{const r=t.onentry;t.onentry=r?t=>{r(t);t.resume()}:t=>t.resume()};const filesFilter=(t,r)=>{const i=new Map(r.map((t=>[d(t),true])));const o=t.filter;const mapHas=(t,r)=>{const o=r||u.parse(t).root||".";const a=t===o?false:i.has(t)?i.get(t):mapHas(u.dirname(t),o);i.set(t,a);return a};t.filter=o?(t,r)=>o(t,r)&&mapHas(d(t)):t=>mapHas(d(t))};const listFileSync=t=>{const r=list(t);const i=t.file;let a=true;let c;try{const h=l.statSync(i);const u=t.maxReadSize||16*1024*1024;if(h.size<u){r.end(l.readFileSync(i))}else{let t=0;const a=o.allocUnsafe(u);c=l.openSync(i,"r");while(t<h.size){let i=l.readSync(c,a,0,u,t);t+=i;r.write(a.slice(0,i))}r.end()}a=false}finally{if(a&&c)try{l.closeSync(c)}catch(t){}}};const listFile=(t,r)=>{const i=new c(t);const o=t.maxReadSize||16*1024*1024;const a=t.file;const u=new Promise(((t,r)=>{i.on("error",r);i.on("end",t);l.stat(a,((t,c)=>{if(t)r(t);else{const t=new h.ReadStream(a,{readSize:o,size:c.size});t.on("error",r);t.pipe(i)}}))}));return r?u.then(r,r):u};const list=t=>new c(t)},6783:(t,r,i)=>{"use strict";const o=i(7116);const a=i(7147);const c=i(1017);const l=i(8754);const h=i(2372);class SymlinkError extends Error{constructor(t,r){super("Cannot extract through symbolic link");this.path=r;this.symlink=t}get name(){return"SylinkError"}}class CwdError extends Error{constructor(t,r){super(r+": Cannot cd into '"+t+"'");this.path=t;this.code=r}get name(){return"CwdError"}}const cGet=(t,r)=>t.get(h(r));const cSet=(t,r,i)=>t.set(h(r),i);const checkCwd=(t,r)=>{a.stat(t,((i,o)=>{if(i||!o.isDirectory())i=new CwdError(t,i&&i.code||"ENOTDIR");r(i)}))};t.exports=(t,r,i)=>{t=h(t);const u=r.umask;const d=r.mode|448;const p=(d&u)!==0;const m=r.uid;const g=r.gid;const y=typeof m==="number"&&typeof g==="number"&&(m!==r.processUid||g!==r.processGid);const b=r.preserve;const v=r.unlink;const w=r.cache;const _=h(r.cwd);const done=(r,o)=>{if(r)i(r);else{cSet(w,t,true);if(o&&y)l(o,m,g,(t=>done(t)));else if(p)a.chmod(t,d,i);else i()}};if(w&&cGet(w,t)===true)return done();if(t===_)return checkCwd(t,done);if(b)return o(t,d,done);const E=h(c.relative(_,t));const S=E.split("/");mkdir_(_,S,d,w,v,_,null,done)};const mkdir_=(t,r,i,o,l,u,d,p)=>{if(!r.length)return p(null,d);const m=r.shift();const g=h(c.resolve(t+"/"+m));if(cGet(o,g))return mkdir_(g,r,i,o,l,u,d,p);a.mkdir(g,i,onmkdir(g,r,i,o,l,u,d,p))};const onmkdir=(t,r,i,o,c,l,u,d)=>p=>{if(p){a.lstat(t,((m,g)=>{if(m){m.path=m.path&&h(m.path);d(m)}else if(g.isDirectory())mkdir_(t,r,i,o,c,l,u,d);else if(c)a.unlink(t,(h=>{if(h)return d(h);a.mkdir(t,i,onmkdir(t,r,i,o,c,l,u,d))}));else if(g.isSymbolicLink())return d(new SymlinkError(t,t+"/"+r.join("/")));else d(p)}))}else{u=u||t;mkdir_(t,r,i,o,c,l,u,d)}};const checkCwdSync=t=>{let r=false;let i="ENOTDIR";try{r=a.statSync(t).isDirectory()}catch(t){i=t.code}finally{if(!r)throw new CwdError(t,i)}};t.exports.sync=(t,r)=>{t=h(t);const i=r.umask;const u=r.mode|448;const d=(u&i)!==0;const p=r.uid;const m=r.gid;const g=typeof p==="number"&&typeof m==="number"&&(p!==r.processUid||m!==r.processGid);const y=r.preserve;const b=r.unlink;const v=r.cache;const w=h(r.cwd);const done=r=>{cSet(v,t,true);if(r&&g)l.sync(r,p,m);if(d)a.chmodSync(t,u)};if(v&&cGet(v,t)===true)return done();if(t===w){checkCwdSync(w);return done()}if(y)return done(o.sync(t,u));const _=h(c.relative(w,t));const E=_.split("/");let S=null;for(let t=E.shift(),r=w;t&&(r+="/"+t);t=E.shift()){r=h(c.resolve(r));if(cGet(v,r))continue;try{a.mkdirSync(r,u);S=S||r;cSet(v,r,true)}catch(t){const i=a.lstatSync(r);if(i.isDirectory()){cSet(v,r,true);continue}else if(b){a.unlinkSync(r);a.mkdirSync(r,u);S=S||r;cSet(v,r,true);continue}else if(i.isSymbolicLink())return new SymlinkError(r,r+"/"+E.join("/"))}}return done(S)}},4793:t=>{"use strict";t.exports=(t,r)=>{t&=4095;if(r){if(t&256)t|=64;if(t&32)t|=8;if(t&4)t|=1}return t}},2372:t=>{const r=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;t.exports=r!=="win32"?t=>t:t=>t&&t.replace(/\\/g,"/")},8987:(t,r,i)=>{"use strict";const o=i(3935);class PackJob{constructor(t,r){this.path=t||"./";this.absolute=r;this.entry=null;this.stat=null;this.readdir=null;this.pending=false;this.ignore=false;this.piped=false}}const a=i(7097);const c=i(7082);const l=i(89);const h=i(3042);const u=h.Sync;const d=h.Tar;const p=i(1190);const m=o.alloc(1024);const g=Symbol("onStat");const y=Symbol("ended");const b=Symbol("queue");const v=Symbol("current");const w=Symbol("process");const _=Symbol("processing");const E=Symbol("processJob");const S=Symbol("jobs");const O=Symbol("jobDone");const x=Symbol("addFSEntry");const R=Symbol("addTarEntry");const T=Symbol("stat");const k=Symbol("readdir");const A=Symbol("onreaddir");const C=Symbol("pipe");const P=Symbol("entry");const I=Symbol("entryOpt");const N=Symbol("writeEntryClass");const L=Symbol("write");const M=Symbol("ondrain");const $=i(7147);const j=i(1017);const D=i(4e3);const H=i(2372);const B=D(class Pack extends a{constructor(t){super(t);t=t||Object.create(null);this.opt=t;this.cwd=t.cwd||process.cwd();this.maxReadSize=t.maxReadSize;this.preservePaths=!!t.preservePaths;this.strict=!!t.strict;this.noPax=!!t.noPax;this.prefix=H(t.prefix||"");this.linkCache=t.linkCache||new Map;this.statCache=t.statCache||new Map;this.readdirCache=t.readdirCache||new Map;this[N]=h;if(typeof t.onwarn==="function")this.on("warn",t.onwarn);this.zip=null;if(t.gzip){if(typeof t.gzip!=="object")t.gzip={};this.zip=new c.Gzip(t.gzip);this.zip.on("data",(t=>super.write(t)));this.zip.on("end",(t=>super.end()));this.zip.on("drain",(t=>this[M]()));this.on("resume",(t=>this.zip.resume()))}else this.on("drain",this[M]);this.portable=!!t.portable;this.noDirRecurse=!!t.noDirRecurse;this.follow=!!t.follow;this.noMtime=!!t.noMtime;this.mtime=t.mtime||null;this.filter=typeof t.filter==="function"?t.filter:t=>true;this[b]=new p;this[S]=0;this.jobs=+t.jobs||4;this[_]=false;this[y]=false}[L](t){return super.write(t)}add(t){this.write(t);return this}end(t){if(t)this.write(t);this[y]=true;this[w]();return this}write(t){if(this[y])throw new Error("write after end");if(t instanceof l)this[R](t);else this[x](t);return this.flowing}[R](t){const r=H(j.resolve(this.cwd,t.path));if(!this.filter(t.path,t))t.resume();else{const i=new PackJob(t.path,r,false);i.entry=new d(t,this[I](i));i.entry.on("end",(t=>this[O](i)));this[S]+=1;this[b].push(i)}this[w]()}[x](t){const r=H(j.resolve(this.cwd,t));this[b].push(new PackJob(t,r));this[w]()}[T](t){t.pending=true;this[S]+=1;const r=this.follow?"stat":"lstat";$[r](t.absolute,((r,i)=>{t.pending=false;this[S]-=1;if(r)this.emit("error",r);else this[g](t,i)}))}[g](t,r){this.statCache.set(t.absolute,r);t.stat=r;if(!this.filter(t.path,r))t.ignore=true;this[w]()}[k](t){t.pending=true;this[S]+=1;$.readdir(t.absolute,((r,i)=>{t.pending=false;this[S]-=1;if(r)return this.emit("error",r);this[A](t,i)}))}[A](t,r){this.readdirCache.set(t.absolute,r);t.readdir=r;this[w]()}[w](){if(this[_])return;this[_]=true;for(let t=this[b].head;t!==null&&this[S]<this.jobs;t=t.next){this[E](t.value);if(t.value.ignore){const r=t.next;this[b].removeNode(t);t.next=r}}this[_]=false;if(this[y]&&!this[b].length&&this[S]===0){if(this.zip)this.zip.end(m);else{super.write(m);super.end()}}}get[v](){return this[b]&&this[b].head&&this[b].head.value}[O](t){this[b].shift();this[S]-=1;this[w]()}[E](t){if(t.pending)return;if(t.entry){if(t===this[v]&&!t.piped)this[C](t);return}if(!t.stat){if(this.statCache.has(t.absolute))this[g](t,this.statCache.get(t.absolute));else this[T](t)}if(!t.stat)return;if(t.ignore)return;if(!this.noDirRecurse&&t.stat.isDirectory()&&!t.readdir){if(this.readdirCache.has(t.absolute))this[A](t,this.readdirCache.get(t.absolute));else this[k](t);if(!t.readdir)return}t.entry=this[P](t);if(!t.entry){t.ignore=true;return}if(t===this[v]&&!t.piped)this[C](t)}[I](t){return{onwarn:(t,r)=>{this.warn(t,r)},noPax:this.noPax,cwd:this.cwd,absolute:t.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[P](t){this[S]+=1;try{return new this[N](t.path,this[I](t)).on("end",(()=>this[O](t))).on("error",(t=>this.emit("error",t)))}catch(t){this.emit("error",t)}}[M](){if(this[v]&&this[v].entry)this[v].entry.resume()}[C](t){t.piped=true;if(t.readdir)t.readdir.forEach((r=>{const i=t.path;const o=i==="./"?"":i.replace(/\/*$/,"/");this[x](o+r)}));const r=t.entry;const i=this.zip;if(i)r.on("data",(t=>{if(!i.write(t))r.pause()}));else r.on("data",(t=>{if(!super.write(t))r.pause()}))}pause(){if(this.zip)this.zip.pause();return super.pause()}});class PackSync extends B{constructor(t){super(t);this[N]=u}pause(){}resume(){}[T](t){const r=this.follow?"statSync":"lstatSync";this[g](t,$[r](t.absolute))}[k](t,r){this[A](t,$.readdirSync(t.absolute))}[C](t){const r=t.entry;const i=this.zip;if(t.readdir)t.readdir.forEach((r=>{const i=t.path;const o=i==="./"?"":i.replace(/\/*$/,"/");this[x](o+r)}));if(i)r.on("data",(t=>{i.write(t)}));else r.on("data",(t=>{super[L](t)}))}}B.Sync=PackSync;t.exports=B},3390:(t,r,i)=>{"use strict";const o=i(4e3);const a=i(1017);const c=i(5219);const l=i(2361);const h=i(1190);const u=1024*1024;const d=i(89);const p=i(6992);const m=i(7082);const g=i(3935);const y=g.from([31,139]);const b=Symbol("state");const v=Symbol("writeEntry");const w=Symbol("readEntry");const _=Symbol("nextEntry");const E=Symbol("processEntry");const S=Symbol("extendedHeader");const O=Symbol("globalExtendedHeader");const x=Symbol("meta");const R=Symbol("emitMeta");const T=Symbol("buffer");const k=Symbol("queue");const A=Symbol("ended");const C=Symbol("emittedEnd");const P=Symbol("emit");const I=Symbol("unzip");const N=Symbol("consumeChunk");const L=Symbol("consumeChunkSub");const M=Symbol("consumeBody");const $=Symbol("consumeMeta");const j=Symbol("consumeHeader");const D=Symbol("consuming");const H=Symbol("bufferConcat");const B=Symbol("maybeEnd");const U=Symbol("writing");const q=Symbol("aborted");const G=Symbol("onDone");const noop=t=>true;t.exports=o(class Parser extends l{constructor(t){t=t||{};super(t);if(t.ondone)this.on(G,t.ondone);else this.on(G,(t=>{this.emit("prefinish");this.emit("finish");this.emit("end");this.emit("close")}));this.strict=!!t.strict;this.maxMetaEntrySize=t.maxMetaEntrySize||u;this.filter=typeof t.filter==="function"?t.filter:noop;this.writable=true;this.readable=false;this[k]=new h;this[T]=null;this[w]=null;this[v]=null;this[b]="begin";this[x]="";this[S]=null;this[O]=null;this[A]=false;this[I]=null;this[q]=false;if(typeof t.onwarn==="function")this.on("warn",t.onwarn);if(typeof t.onentry==="function")this.on("entry",t.onentry)}[j](t,r){let i;try{i=new c(t,r,this[S],this[O])}catch(t){return this.warn("invalid entry",t)}if(i.nullBlock)this[P]("nullBlock");else if(!i.cksumValid)this.warn("invalid entry",i);else if(!i.path)this.warn("invalid: path is required",i);else{const t=i.type;if(/^(Symbolic)?Link$/.test(t)&&!i.linkpath)this.warn("invalid: linkpath required",i);else if(!/^(Symbolic)?Link$/.test(t)&&i.linkpath)this.warn("invalid: linkpath forbidden",i);else{const t=this[v]=new d(i,this[S],this[O]);if(t.meta){if(t.size>this.maxMetaEntrySize){t.ignore=true;this[P]("ignoredEntry",t);this[b]="ignore"}else if(t.size>0){this[x]="";t.on("data",(t=>this[x]+=t));this[b]="meta"}}else{this[S]=null;t.ignore=t.ignore||!this.filter(t.path,t);if(t.ignore){this[P]("ignoredEntry",t);this[b]=t.remain?"ignore":"begin"}else{if(t.remain)this[b]="body";else{this[b]="begin";t.end()}if(!this[w]){this[k].push(t);this[_]()}else this[k].push(t)}}}}}[E](t){let r=true;if(!t){this[w]=null;r=false}else if(Array.isArray(t))this.emit.apply(this,t);else{this[w]=t;this.emit("entry",t);if(!t.emittedEnd){t.on("end",(t=>this[_]()));r=false}}return r}[_](){do{}while(this[E](this[k].shift()));if(!this[k].length){const t=this[w];const r=!t||t.flowing||t.size===t.remain;if(r){if(!this[U])this.emit("drain")}else t.once("drain",(t=>this.emit("drain")))}}[M](t,r){const i=this[v];const o=i.blockRemain;const a=o>=t.length&&r===0?t:t.slice(r,r+o);i.write(a);if(!i.blockRemain){this[b]="begin";this[v]=null;i.end()}return a.length}[$](t,r){const i=this[v];const o=this[M](t,r);if(!this[v])this[R](i);return o}[P](t,r,i){if(!this[k].length&&!this[w])this.emit(t,r,i);else this[k].push([t,r,i])}[R](t){this[P]("meta",this[x]);switch(t.type){case"ExtendedHeader":case"OldExtendedHeader":this[S]=p.parse(this[x],this[S],false);break;case"GlobalExtendedHeader":this[O]=p.parse(this[x],this[O],true);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[S]=this[S]||Object.create(null);this[S].path=this[x].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[S]=this[S]||Object.create(null);this[S].linkpath=this[x].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+t.type)}}abort(t,r){this[q]=true;this.warn(t,r);this.emit("abort",r);this.emit("error",r)}write(t){if(this[q])return;if(this[I]===null&&t){if(this[T]){t=g.concat([this[T],t]);this[T]=null}if(t.length<y.length){this[T]=t;return true}for(let r=0;this[I]===null&&r<y.length;r++){if(t[r]!==y[r])this[I]=false}if(this[I]===null){const r=this[A];this[A]=false;this[I]=new m.Unzip;this[I].on("data",(t=>this[N](t)));this[I].on("error",(t=>this.abort(t.message,t)));this[I].on("end",(t=>{this[A]=true;this[N]()}));this[U]=true;const i=this[I][r?"end":"write"](t);this[U]=false;return i}}this[U]=true;if(this[I])this[I].write(t);else this[N](t);this[U]=false;const r=this[k].length?false:this[w]?this[w].flowing:true;if(!r&&!this[k].length)this[w].once("drain",(t=>this.emit("drain")));return r}[H](t){if(t&&!this[q])this[T]=this[T]?g.concat([this[T],t]):t}[B](){if(this[A]&&!this[C]&&!this[q]&&!this[D]){this[C]=true;const t=this[v];if(t&&t.blockRemain){const r=this[T]?this[T].length:0;this.warn("Truncated input (needed "+t.blockRemain+" more bytes, only "+r+" available)",t);if(this[T])t.write(this[T]);t.end()}this[P](G)}}[N](t){if(this[D]){this[H](t)}else if(!t&&!this[T]){this[B]()}else{this[D]=true;if(this[T]){this[H](t);const r=this[T];this[T]=null;this[L](r)}else{this[L](t)}while(this[T]&&this[T].length>=512&&!this[q]){const t=this[T];this[T]=null;this[L](t)}this[D]=false}if(!this[T]||this[A])this[B]()}[L](t){let r=0;let i=t.length;while(r+512<=i&&!this[q]){switch(this[b]){case"begin":this[j](t,r);r+=512;break;case"ignore":case"body":r+=this[M](t,r);break;case"meta":r+=this[$](t,r);break;default:throw new Error("invalid state: "+this[b])}}if(r<i){if(this[T])this[T]=g.concat([t.slice(r),this[T]]);else this[T]=t.slice(r)}}end(t){if(!this[q]){if(this[I])this[I].end(t);else{this[A]=true;this.write(t)}}}})},2976:(t,r,i)=>{const o=i(9491);const a=i(2372);const c=i(893);const{join:l}=i(1017);const h=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;const u=h==="win32";t.exports=()=>{const t=new Map;const r=new Map;const getDirs=t=>{const r=t.split("/").slice(0,-1).reduce(((t,r)=>{if(t.length)r=a(l(t[t.length-1],r));t.push(r||"/");return t}),[]);return r};const i=new Set;const getQueues=i=>{const o=r.get(i);if(!o)throw new Error("function does not have any path reservations");return{paths:o.paths.map((r=>t.get(r))),dirs:[...o.dirs].map((r=>t.get(r)))}};const check=t=>{const{paths:r,dirs:i}=getQueues(t);return r.every((r=>r[0]===t))&&i.every((r=>r[0]instanceof Set&&r[0].has(t)))};const run=t=>{if(i.has(t)||!check(t))return false;i.add(t);t((()=>clear(t)));return true};const clear=a=>{if(!i.has(a))return false;const{paths:c,dirs:l}=r.get(a);const h=new Set;c.forEach((r=>{const i=t.get(r);o.equal(i[0],a);if(i.length===1)t.delete(r);else{i.shift();if(typeof i[0]==="function")h.add(i[0]);else i[0].forEach((t=>h.add(t)))}}));l.forEach((r=>{const i=t.get(r);o(i[0]instanceof Set);if(i[0].size===1&&i.length===1){t.delete(r)}else if(i[0].size===1){i.shift();h.add(i[0])}else i[0].delete(a)}));i.delete(a);h.forEach((t=>run(t)));return true};const reserve=(i,o)=>{i=u?["win32 parallelization disabled"]:i.map((t=>c(a(l(t))).normalize("NFKD").toLowerCase()));const h=new Set(i.map((t=>getDirs(t))).reduce(((t,r)=>t.concat(r))));r.set(o,{dirs:h,paths:i});i.forEach((r=>{const i=t.get(r);if(!i)t.set(r,[o]);else i.push(o)}));h.forEach((r=>{const i=t.get(r);if(!i)t.set(r,[new Set([o])]);else if(i[i.length-1]instanceof Set)i[i.length-1].add(o);else i.push(new Set([o]))}));return run(o)};return{check:check,reserve:reserve}}},6992:(t,r,i)=>{"use strict";const o=i(3935);const a=i(5219);const c=i(1017);class Pax{constructor(t,r){this.atime=t.atime||null;this.charset=t.charset||null;this.comment=t.comment||null;this.ctime=t.ctime||null;this.gid=t.gid||null;this.gname=t.gname||null;this.linkpath=t.linkpath||null;this.mtime=t.mtime||null;this.path=t.path||null;this.size=t.size||null;this.uid=t.uid||null;this.uname=t.uname||null;this.dev=t.dev||null;this.ino=t.ino||null;this.nlink=t.nlink||null;this.global=r||false}encode(){const t=this.encodeBody();if(t==="")return null;const r=o.byteLength(t);const i=512*Math.ceil(1+r/512);const l=o.allocUnsafe(i);for(let t=0;t<512;t++){l[t]=0}new a({path:("PaxHeader/"+c.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:r,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(l);l.write(t,512,r,"utf8");for(let t=r+512;t<l.length;t++){l[t]=0}return l}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(t){if(this[t]===null||this[t]===undefined)return"";const r=this[t]instanceof Date?this[t].getTime()/1e3:this[t];const i=" "+(t==="dev"||t==="ino"||t==="nlink"?"SCHILY.":"")+t+"="+r+"\n";const a=o.byteLength(i);let c=Math.floor(Math.log(a)/Math.log(10))+1;if(a+c>=Math.pow(10,c))c+=1;const l=c+a;return l+i}}Pax.parse=(t,r,i)=>new Pax(merge(parseKV(t),r),i);const merge=(t,r)=>r?Object.keys(t).reduce(((r,i)=>(r[i]=t[i],r)),r):t;const parseKV=t=>t.replace(/\n$/,"").split("\n").reduce(parseKVLine,Object.create(null));const parseKVLine=(t,r)=>{const i=parseInt(r,10);if(i!==o.byteLength(r)+1)return t;r=r.substr((i+" ").length);const a=r.split("=");const c=a.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!c)return t;const l=a.join("=");t[c]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(c)?new Date(l*1e3):/^[0-9]+$/.test(l)?+l:l;return t};t.exports=Pax},89:(t,r,i)=>{"use strict";const o=i(2087);const a=i(7097);const c=i(2372);const l=Symbol("slurp");t.exports=class ReadEntry extends a{constructor(t,r,i){super();this.pause();this.extended=r;this.globalExtended=i;this.header=t;this.startBlockSize=512*Math.ceil(t.size/512);this.blockRemain=this.startBlockSize;this.remain=t.size;this.type=t.type;this.meta=false;this.ignore=false;switch(this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=true;break;default:this.ignore=true}this.path=c(t.path);this.mode=t.mode;if(this.mode)this.mode=this.mode&4095;this.uid=t.uid;this.gid=t.gid;this.uname=t.uname;this.gname=t.gname;this.size=t.size;this.mtime=t.mtime;this.atime=t.atime;this.ctime=t.ctime;this.linkpath=c(t.linkpath);this.uname=t.uname;this.gname=t.gname;if(r)this[l](r);if(i)this[l](i,true)}write(t){const r=t.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");const i=this.remain;const o=this.blockRemain;this.remain=Math.max(0,i-r);this.blockRemain=Math.max(0,o-r);if(this.ignore)return true;if(i>=r)return super.write(t);return super.write(t.slice(0,i))}[l](t,r){for(let i in t){if(t[i]!==null&&t[i]!==undefined&&!(r&&i==="path"))this[i]=i==="path"||i==="linkpath"?c(t[i]):t[i]}}}},463:(t,r,i)=>{"use strict";const o=i(3935);const a=i(6173);const c=i(8987);const l=i(3390);const h=i(7147);const u=i(36);const d=i(5591);const p=i(1017);const m=i(5219);const g=t.exports=(t,r,i)=>{const o=a(t);if(!o.file)throw new TypeError("file is required");if(o.gzip)throw new TypeError("cannot append to compressed archives");if(!r||!Array.isArray(r)||!r.length)throw new TypeError("no files or directories specified");r=Array.from(r);return o.sync?replaceSync(o,r):replace(o,r,i)};const replaceSync=(t,r)=>{const i=new c.Sync(t);let a=true;let l;let u;try{try{l=h.openSync(t.file,"r+")}catch(r){if(r.code==="ENOENT")l=h.openSync(t.file,"w+");else throw r}const c=h.fstatSync(l);const d=o.alloc(512);e:for(u=0;u<c.size;u+=512){for(let t=0,r=0;t<512;t+=r){r=h.readSync(l,d,t,d.length-t,u+t);if(u===0&&d[0]===31&&d[1]===139)throw new Error("cannot append to compressed archives");if(!r)break e}let r=new m(d);if(!r.cksumValid)break;let i=512*Math.ceil(r.size/512);if(u+i+512>c.size)break;u+=i;if(t.mtimeCache)t.mtimeCache.set(r.path,r.mtime)}a=false;streamSync(t,i,u,l,r)}finally{if(a)try{h.closeSync(l)}catch(t){}}};const streamSync=(t,r,i,o,a)=>{const c=new u.WriteStreamSync(t.file,{fd:o,start:i});r.pipe(c);addFilesSync(r,a)};const replace=(t,r,i)=>{r=Array.from(r);const a=new c(t);const getPos=(r,i,a)=>{const cb=(t,i)=>{if(t)h.close(r,(r=>a(t)));else a(null,i)};let c=0;if(i===0)return cb(null,0);let l=0;const u=o.alloc(512);const onread=(o,a)=>{if(o)return cb(o);l+=a;if(l<512&&a)return h.read(r,u,l,u.length-l,c+l,onread);if(c===0&&u[0]===31&&u[1]===139)return cb(new Error("cannot append to compressed archives"));if(l<512)return cb(null,c);const d=new m(u);if(!d.cksumValid)return cb(null,c);const p=512*Math.ceil(d.size/512);if(c+p+512>i)return cb(null,c);c+=p+512;if(c>=i)return cb(null,c);if(t.mtimeCache)t.mtimeCache.set(d.path,d.mtime);l=0;h.read(r,u,0,512,c,onread)};h.read(r,u,0,512,c,onread)};const l=new Promise(((i,o)=>{a.on("error",o);let c="r+";const onopen=(l,d)=>{if(l&&l.code==="ENOENT"&&c==="r+"){c="w+";return h.open(t.file,c,onopen)}if(l)return o(l);h.fstat(d,((c,l)=>{if(c)return h.close(d,(()=>o(c)));getPos(d,l.size,((c,l)=>{if(c)return o(c);const h=new u.WriteStream(t.file,{fd:d,start:l});a.pipe(h);h.on("error",o);h.on("close",i);addFilesAsync(a,r)}))}))};h.open(t.file,c,onopen)}));return i?l.then(i,i):l};const addFilesSync=(t,r)=>{r.forEach((r=>{if(r.charAt(0)==="@")d({file:p.resolve(t.cwd,r.substr(1)),sync:true,noResume:true,onentry:r=>t.add(r)});else t.add(r)}));t.end()};const addFilesAsync=(t,r)=>{while(r.length){const i=r.shift();if(i.charAt(0)==="@")return d({file:p.resolve(t.cwd,i.substr(1)),noResume:true,onentry:r=>t.add(r)}).then((i=>addFilesAsync(t,r)));else t.add(i)}t.end()}},6715:(t,r,i)=>{const{isAbsolute:o,parse:a}=i(1017).win32;t.exports=t=>{let r="";let i=a(t);while(o(t)||i.root){const o=t.charAt(0)==="/"&&t.slice(0,4)!=="//?/"?"/":i.root;t=t.substr(o.length);r+=o;i=a(t)}return[r,t]}},893:t=>{const r=["/".repeat(1024),"/".repeat(512),"/".repeat(256),"/".repeat(128),"/".repeat(64),"/".repeat(32),"/".repeat(16),"/".repeat(8),"/".repeat(4),"/".repeat(2),"/"];t.exports=t=>{for(const i of r){while(t.length>=i.length&&t.slice(-1*i.length)===i)t=t.slice(0,-1*i.length)}return t}},2087:(t,r)=>{"use strict";r.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);r.code=new Map(Array.from(r.name).map((t=>[t[1],t[0]])))},3854:(t,r,i)=>{"use strict";const o=i(9491);const a=i(2361).EventEmitter;const c=i(3390);const l=i(7147);const h=i(36);const u=i(1017);const d=i(6783);const p=d.sync;const m=i(2807);const g=i(6715);const y=i(2976);const b=i(2372);const v=i(893);const w=Symbol("onEntry");const _=Symbol("checkFs");const E=Symbol("checkFs2");const S=Symbol("pruneCache");const O=Symbol("isReusable");const x=Symbol("makeFs");const R=Symbol("file");const T=Symbol("directory");const k=Symbol("link");const A=Symbol("symlink");const C=Symbol("hardlink");const P=Symbol("unsupported");const I=Symbol("unknown");const N=Symbol("checkPath");const L=Symbol("mkdir");const M=Symbol("onError");const $=Symbol("pending");const j=Symbol("pend");const D=Symbol("unpend");const H=Symbol("ended");const B=Symbol("maybeClose");const U=Symbol("skip");const q=Symbol("doChown");const G=Symbol("uid");const z=Symbol("gid");const V=Symbol("checkedCwd");const Y=i(6113);const W=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;const Z=W==="win32";const unlinkFile=(t,r)=>{if(!Z)return l.unlink(t,r);const i=t+".DELETE."+Y.randomBytes(16).toString("hex");l.rename(t,i,(t=>{if(t)return r(t);l.unlink(i,r)}))};const unlinkFileSync=t=>{if(!Z)return l.unlinkSync(t);const r=t+".DELETE."+Y.randomBytes(16).toString("hex");l.renameSync(t,r);l.unlinkSync(r)};const uint32=(t,r,i)=>t===t>>>0?t:r===r>>>0?r:i;const cacheKeyNormalize=t=>v(b(t)).normalize("NFKD").toLowerCase();const pruneCache=(t,r)=>{r=cacheKeyNormalize(r);for(const i of t.keys()){const o=cacheKeyNormalize(i);if(o===r||o.indexOf(r+"/")===0)t.delete(i)}};const dropCache=t=>{for(const r of t.keys())t.delete(r)};class Unpack extends c{constructor(t){if(!t)t={};t.ondone=t=>{this[H]=true;this[B]()};super(t);this[V]=false;this.reservations=y();this.transform=typeof t.transform==="function"?t.transform:null;this.writable=true;this.readable=false;this[$]=0;this[H]=false;this.dirCache=t.dirCache||new Map;if(typeof t.uid==="number"||typeof t.gid==="number"){if(typeof t.uid!=="number"||typeof t.gid!=="number")throw new TypeError("cannot set owner without number uid and gid");if(t.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=t.uid;this.gid=t.gid;this.setOwner=true}else{this.uid=null;this.gid=null;this.setOwner=false}if(t.preserveOwner===undefined&&typeof t.uid!=="number")this.preserveOwner=process.getuid&&process.getuid()===0;else this.preserveOwner=!!t.preserveOwner;this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null;this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null;this.forceChown=t.forceChown===true;this.win32=!!t.win32||Z;this.newer=!!t.newer;this.keep=!!t.keep;this.noMtime=!!t.noMtime;this.preservePaths=!!t.preservePaths;this.unlink=!!t.unlink;this.cwd=b(u.resolve(t.cwd||process.cwd()));this.strip=+t.strip||0;this.processUmask=process.umask();this.umask=typeof t.umask==="number"?t.umask:this.processUmask;this.dmode=t.dmode||511&~this.umask;this.fmode=t.fmode||438&~this.umask;this.on("entry",(t=>this[w](t)))}[B](){if(this[H]&&this[$]===0){this.emit("prefinish");this.emit("finish");this.emit("end");this.emit("close")}}[N](t){if(this.strip){const r=b(t.path).split("/");if(r.length<this.strip)return false;t.path=r.slice(this.strip).join("/");if(t.type==="Link"){const r=b(t.linkpath).split("/");if(r.length>=this.strip)t.linkpath=r.slice(this.strip).join("/");else return false}}if(!this.preservePaths){const r=b(t.path);const i=r.split("/");if(i.includes("..")||Z&&/^[a-z]:\.\.$/i.test(i[0])){this.warn(`path contains '..'`,r);return false}const o=g(r);if(o[0]){t.path=o[1];this.warn(`stripping ${o[0]} from absolute path`,r)}}if(u.isAbsolute(t.path))t.absolute=b(u.resolve(t.path));else t.absolute=b(u.resolve(this.cwd,t.path));if(!this.preservePaths&&t.absolute.indexOf(this.cwd+"/")!==0&&t.absolute!==this.cwd){this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:t,path:b(t.path),resolvedPath:t.absolute,cwd:this.cwd});return false}if(t.absolute===this.cwd&&t.type!=="Directory"&&t.type!=="GNUDumpDir")return false;if(this.win32){const{root:r}=u.win32.parse(t.absolute);t.absolute=r+m.encode(t.absolute.substr(r.length));const{root:i}=u.win32.parse(t.path);t.path=i+m.encode(t.path.substr(i.length))}return true}[w](t){if(!this[N](t))return t.resume();o.equal(typeof t.absolute,"string");switch(t.type){case"Directory":case"GNUDumpDir":if(t.mode)t.mode=t.mode|448;case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[_](t);case"CharacterDevice":case"BlockDevice":case"FIFO":return this[P](t)}}[M](t,r){if(t.name==="CwdError")this.emit("error",t);else{this.warn(t.message,t);this[D]();r.resume()}}[L](t,r,i){d(b(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r},i)}[q](t){return this.forceChown||this.preserveOwner&&(typeof t.uid==="number"&&t.uid!==this.processUid||typeof t.gid==="number"&&t.gid!==this.processGid)||(typeof this.uid==="number"&&this.uid!==this.processUid||typeof this.gid==="number"&&this.gid!==this.processGid)}[G](t){return uint32(this.uid,t.uid,this.processUid)}[z](t){return uint32(this.gid,t.gid,this.processGid)}[R](t,r){const i=t.mode&4095||this.fmode;const o=new h.WriteStream(t.absolute,{mode:i,autoClose:false});o.on("error",(i=>{if(o.fd)l.close(o.fd,(()=>{}));o.write=()=>true;this[M](i,t);r()}));let a=1;const done=i=>{if(i){if(o.fd)l.close(o.fd,(()=>{}));this[M](i,t);r();return}if(--a===0){l.close(o.fd,(i=>{r();i?this[M](i,t):this[D]()}))}};o.on("finish",(r=>{const i=t.absolute;const c=o.fd;if(t.mtime&&!this.noMtime){a++;const r=t.atime||new Date;const o=t.mtime;l.futimes(c,r,o,(t=>t?l.utimes(i,r,o,(r=>done(r&&t))):done()))}if(this[q](t)){a++;const r=this[G](t);const o=this[z](t);l.fchown(c,r,o,(t=>t?l.chown(i,r,o,(r=>done(r&&t))):done()))}done()}));const c=this.transform?this.transform(t)||t:t;if(c!==t){c.on("error",(r=>this[M](r,t)));t.pipe(c)}c.pipe(o)}[T](t,r){const i=t.mode&4095||this.dmode;this[L](t.absolute,i,(i=>{if(i){r();return this[M](i,t)}let o=1;const done=i=>{if(--o===0){r();this[D]();t.resume()}};if(t.mtime&&!this.noMtime){o++;l.utimes(t.absolute,t.atime||new Date,t.mtime,done)}if(this[q](t)){o++;l.chown(t.absolute,this[G](t),this[z](t),done)}done()}))}[P](t){this.warn("unsupported entry type: "+t.type,t);t.resume()}[A](t,r){this[k](t,t.linkpath,"symlink",r)}[C](t,r){const i=b(u.resolve(this.cwd,t.linkpath));this[k](t,i,"link",r)}[j](){this[$]++}[D](){this[$]--;this[B]()}[U](t){this[D]();t.resume()}[O](t,r){return t.type==="File"&&!this.unlink&&r.isFile()&&r.nlink<=1&&!Z}[_](t){this[j]();const r=[t.path];if(t.linkpath)r.push(t.linkpath);this.reservations.reserve(r,(r=>this[E](t,r)))}[S](t){if(t.type==="SymbolicLink")dropCache(this.dirCache);else if(t.type!=="Directory")pruneCache(this.dirCache,t.absolute)}[E](t,r){this[S](t);const done=i=>{this[S](t);r(i)};const checkCwd=()=>{this[L](this.cwd,this.dmode,(r=>{if(r){this[M](r,t);done();return}this[V]=true;start()}))};const start=()=>{if(t.absolute!==this.cwd){const r=b(u.dirname(t.absolute));if(r!==this.cwd){return this[L](r,this.dmode,(r=>{if(r){this[M](r,t);done();return}afterMakeParent()}))}}afterMakeParent()};const afterMakeParent=()=>{l.lstat(t.absolute,((r,i)=>{if(i&&(this.keep||this.newer&&i.mtime>t.mtime)){this[U](t);done();return}if(r||this[O](t,i))return this[x](null,t,done);if(i.isDirectory()){if(t.type==="Directory"){const r=!this.noChmod&&t.mode&&(i.mode&4095)!==t.mode;const afterChmod=r=>this[x](r,t,done);if(!r)return afterChmod();return l.chmod(t.absolute,t.mode,afterChmod)}if(t.absolute!==this.cwd){return l.rmdir(t.absolute,(r=>this[x](r,t,done)))}}if(t.absolute===this.cwd)return this[x](null,t,done);unlinkFile(t.absolute,(r=>this[x](r,t,done)))}))};if(this[V])start();else checkCwd()}[x](t,r,i){if(t)return this[M](t,r);switch(r.type){case"File":case"OldFile":case"ContiguousFile":return this[R](r,i);case"Link":return this[C](r,i);case"SymbolicLink":return this[A](r,i);case"Directory":case"GNUDumpDir":return this[T](r,i)}}[k](t,r,i,o){l[i](r,t.absolute,(r=>{if(r)return this[M](r,t);o();this[D]();t.resume()}))}}const callSync=t=>{try{return[null,t()]}catch(t){return[t,null]}};class UnpackSync extends Unpack{[x](t,r){return super[x](t,r,(()=>{}))}[_](t){this[S](t);if(!this[V]){const r=this[L](this.cwd,this.dmode);if(r)return this[M](r,t);this[V]=true}if(t.absolute!==this.cwd){const r=b(u.dirname(t.absolute));if(r!==this.cwd){const i=this[L](r,this.dmode);if(i)return this[M](i,t)}}const[r,i]=callSync((()=>l.lstatSync(t.absolute)));if(i&&(this.keep||this.newer&&i.mtime>t.mtime))return this[U](t);if(r||this[O](t,i))return this[x](null,t);if(i.isDirectory()){if(t.type==="Directory"){const r=!this.noChmod&&t.mode&&(i.mode&4095)!==t.mode;const[o]=r?callSync((()=>{l.chmodSync(t.absolute,t.mode)})):[];return this[x](o,t)}const[r]=callSync((()=>l.rmdirSync(t.absolute)));this[x](r,t)}const[o]=t.absolute===this.cwd?[]:callSync((()=>unlinkFileSync(t.absolute)));this[x](o,t)}[R](t,r){const i=t.mode&4095||this.fmode;const oner=i=>{let o;try{l.closeSync(a)}catch(t){o=t}if(i||o)this[M](i||o,t);r()};let o;let a;try{a=l.openSync(t.absolute,"w",i)}catch(t){return oner(t)}const c=this.transform?this.transform(t)||t:t;if(c!==t){c.on("error",(r=>this[M](r,t)));t.pipe(c)}c.on("data",(t=>{try{l.writeSync(a,t,0,t.length)}catch(t){oner(t)}}));c.on("end",(r=>{let i=null;if(t.mtime&&!this.noMtime){const r=t.atime||new Date;const o=t.mtime;try{l.futimesSync(a,r,o)}catch(a){try{l.utimesSync(t.absolute,r,o)}catch(t){i=a}}}if(this[q](t)){const r=this[G](t);const o=this[z](t);try{l.fchownSync(a,r,o)}catch(a){try{l.chownSync(t.absolute,r,o)}catch(t){i=i||a}}}oner(i)}))}[T](t,r){const i=t.mode&4095||this.dmode;const o=this[L](t.absolute,i);if(o){this[M](o,t);r();return}if(t.mtime&&!this.noMtime){try{l.utimesSync(t.absolute,t.atime||new Date,t.mtime)}catch(o){}}if(this[q](t)){try{l.chownSync(t.absolute,this[G](t),this[z](t))}catch(o){}}r();t.resume()}[L](t,r){try{return d.sync(b(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r})}catch(t){return t}}[k](t,r,i,o){try{l[i+"Sync"](r,t.absolute);o();t.resume()}catch(r){return this[M](r,t)}}}Unpack.Sync=UnpackSync;t.exports=Unpack},7390:(t,r,i)=>{"use strict";const o=i(6173);const a=i(463);const c=t.exports=(t,r,i)=>{const c=o(t);if(!c.file)throw new TypeError("file is required");if(c.gzip)throw new TypeError("cannot append to compressed archives");if(!r||!Array.isArray(r)||!r.length)throw new TypeError("no files or directories specified");r=Array.from(r);mtimeFilter(c);return a(c,r,i)};const mtimeFilter=t=>{const r=t.filter;if(!t.mtimeCache)t.mtimeCache=new Map;t.filter=r?(i,o)=>r(i,o)&&!(t.mtimeCache.get(i)>o.mtime):(r,i)=>!(t.mtimeCache.get(r)>i.mtime)}},4e3:t=>{"use strict";t.exports=t=>class extends t{warn(t,r){if(!this.strict)this.emit("warn",t,r);else if(r instanceof Error)this.emit("error",r);else{const i=new Error(t);i.data=r;this.emit("error",i)}}}},2807:t=>{"use strict";const r=["|","<",">","?",":"];const i=r.map((t=>String.fromCharCode(61440+t.charCodeAt(0))));const o=new Map(r.map(((t,r)=>[t,i[r]])));const a=new Map(i.map(((t,i)=>[t,r[i]])));t.exports={encode:t=>r.reduce(((t,r)=>t.split(r).join(o.get(r))),t),decode:t=>i.reduce(((t,r)=>t.split(r).join(a.get(r))),t)}},3042:(t,r,i)=>{"use strict";const o=i(3935);const a=i(7097);const c=i(6992);const l=i(5219);const h=i(89);const u=i(7147);const d=i(1017);const p=i(2372);const m=i(893);const prefixPath=(t,r)=>{if(!r)return t;t=p(t).replace(/^\.(\/|$)/,"");return m(r)+"/"+t};const g=16*1024*1024;const y=Symbol("process");const b=Symbol("file");const v=Symbol("directory");const w=Symbol("symlink");const _=Symbol("hardlink");const E=Symbol("header");const S=Symbol("read");const O=Symbol("lstat");const x=Symbol("onlstat");const R=Symbol("onread");const T=Symbol("onreadlink");const k=Symbol("openfile");const A=Symbol("onopenfile");const C=Symbol("close");const P=Symbol("mode");const I=Symbol("awaitDrain");const N=Symbol("ondrain");const L=Symbol("prefix");const M=Symbol("hadError");const $=i(4e3);const j=i(2807);const D=i(6715);const H=i(4793);const B=$(class WriteEntry extends a{constructor(t,r){r=r||{};super(r);if(typeof t!=="string")throw new TypeError("path is required");this.path=p(t);this.portable=!!r.portable;this.myuid=process.getuid&&process.getuid()||0;this.myuser=process.env.USER||"";this.maxReadSize=r.maxReadSize||g;this.linkCache=r.linkCache||new Map;this.statCache=r.statCache||new Map;this.preservePaths=!!r.preservePaths;this.cwd=p(r.cwd||process.cwd());this.strict=!!r.strict;this.noPax=!!r.noPax;this.noMtime=!!r.noMtime;this.mtime=r.mtime||null;this.prefix=r.prefix?p(r.prefix):null;this.fd=null;this.blockLen=null;this.blockRemain=null;this.buf=null;this.offset=null;this.length=null;this.pos=null;this.remain=null;if(typeof r.onwarn==="function")this.on("warn",r.onwarn);if(!this.preservePaths){const t=D(this.path);if(t[0]){this.warn("stripping "+t[0]+" from absolute path",this.path);this.path=t[1]}}this.win32=!!r.win32||process.platform==="win32";if(this.win32){this.path=j.decode(this.path.replace(/\\/g,"/"));t=t.replace(/\\/g,"/")}this.absolute=p(r.absolute||d.resolve(this.cwd,t));if(this.path==="")this.path="./";if(this.statCache.has(this.absolute))this[x](this.statCache.get(this.absolute));else this[O]()}emit(t,...r){if(t==="error")this[M]=true;return super.emit(t,...r)}[O](){u.lstat(this.absolute,((t,r)=>{if(t)return this.emit("error",t);this[x](r)}))}[x](t){this.statCache.set(this.absolute,t);this.stat=t;if(!t.isFile())t.size=0;this.type=getType(t);this.emit("stat",t);this[y]()}[y](){switch(this.type){case"File":return this[b]();case"Directory":return this[v]();case"SymbolicLink":return this[w]();default:return this.end()}}[P](t){return H(t,this.type==="Directory")}[L](t){return prefixPath(t,this.prefix)}[E](){if(this.type==="Directory"&&this.portable)this.noMtime=true;this.header=new l({path:this[L](this.path),linkpath:this.type==="Link"?this[L](this.linkpath):this.linkpath,mode:this[P](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime});if(this.header.encode()&&!this.noPax){super.write(new c({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[L](this.path),linkpath:this.type==="Link"?this[L](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode())}super.write(this.header.block)}[v](){if(this.path.substr(-1)!=="/")this.path+="/";this.stat.size=0;this[E]();this.end()}[w](){u.readlink(this.absolute,((t,r)=>{if(t)return this.emit("error",t);this[T](r)}))}[T](t){this.linkpath=p(t);this[E]();this.end()}[_](t){this.type="Link";this.linkpath=p(d.relative(this.cwd,t));this.stat.size=0;this[E]();this.end()}[b](){if(this.stat.nlink>1){const t=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(t)){const r=this.linkCache.get(t);if(r.indexOf(this.cwd)===0)return this[_](r)}this.linkCache.set(t,this.absolute)}this[E]();if(this.stat.size===0)return this.end();this[k]()}[k](){u.open(this.absolute,"r",((t,r)=>{if(t)return this.emit("error",t);this[A](r)}))}[A](t){this.fd=t;if(this[M])return this[C]();this.blockLen=512*Math.ceil(this.stat.size/512);this.blockRemain=this.blockLen;const r=Math.min(this.blockLen,this.maxReadSize);this.buf=o.allocUnsafe(r);this.offset=0;this.pos=0;this.remain=this.stat.size;this.length=this.buf.length;this[S]()}[S](){const{fd:t,buf:r,offset:i,length:o,pos:a}=this;u.read(t,r,i,o,a,((t,r)=>{if(t){return this[C]((()=>this.emit("error",t)))}this[R](r)}))}[C](t){u.close(this.fd,t)}[R](t){if(t<=0&&this.remain>0){const t=new Error("encountered unexpected EOF");t.path=this.absolute;t.syscall="read";t.code="EOF";return this[C]((()=>this.emit("error",t)))}if(t>this.remain){const t=new Error("did not encounter expected EOF");t.path=this.absolute;t.syscall="read";t.code="EOF";return this[C]((()=>this.emit("error",t)))}if(t===this.remain){for(let r=t;r<this.length&&t<this.blockRemain;r++){this.buf[r+this.offset]=0;t++;this.remain++}}const r=this.offset===0&&t===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+t);const i=this.write(r);if(!i)this[I]((()=>this[N]()));else this[N]()}[I](t){this.once("drain",t)}write(t){if(this.blockRemain<t.length){const t=new Error("writing more data than expected");t.path=this.absolute;return this.emit("error",t)}this.remain-=t.length;this.blockRemain-=t.length;this.pos+=t.length;this.offset+=t.length;return super.write(t)}[N](){if(!this.remain){if(this.blockRemain)super.write(o.alloc(this.blockRemain));return this[C]((t=>t?this.emit("error",t):this.end()))}if(this.offset>=this.length){this.buf=o.allocUnsafe(Math.min(this.blockRemain,this.buf.length));this.offset=0}this.length=this.buf.length-this.offset;this[S]()}});class WriteEntrySync extends B{constructor(t,r){super(t,r)}[O](){this[x](u.lstatSync(this.absolute))}[w](){this[T](u.readlinkSync(this.absolute))}[k](){this[A](u.openSync(this.absolute,"r"))}[S](){let t=true;try{const{fd:r,buf:i,offset:o,length:a,pos:c}=this;const l=u.readSync(r,i,o,a,c);this[R](l);t=false}finally{if(t){try{this[C]((()=>{}))}catch(t){}}}}[I](t){t()}[C](t){u.closeSync(this.fd);t()}}const U=$(class WriteEntryTar extends a{constructor(t,r){r=r||{};super(r);this.preservePaths=!!r.preservePaths;this.portable=!!r.portable;this.strict=!!r.strict;this.noPax=!!r.noPax;this.noMtime=!!r.noMtime;this.readEntry=t;this.type=t.type;if(this.type==="Directory"&&this.portable)this.noMtime=true;this.prefix=r.prefix||null;this.path=p(t.path);this.mode=this[P](t.mode);this.uid=this.portable?null:t.uid;this.gid=this.portable?null:t.gid;this.uname=this.portable?null:t.uname;this.gname=this.portable?null:t.gname;this.size=t.size;this.mtime=this.noMtime?null:r.mtime||t.mtime;this.atime=this.portable?null:t.atime;this.ctime=this.portable?null:t.ctime;this.linkpath=p(t.linkpath);if(typeof r.onwarn==="function")this.on("warn",r.onwarn);if(!this.preservePaths){const t=D(this.path);if(t[0]){this.warn("stripping "+t[0]+" from absolute path",this.path);this.path=t[1]}}this.remain=t.size;this.blockRemain=t.startBlockSize;this.header=new l({path:this[L](this.path),linkpath:this.type==="Link"?this[L](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime});if(this.header.encode()&&!this.noPax)super.write(new c({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[L](this.path),linkpath:this.type==="Link"?this[L](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode());super.write(this.header.block);t.pipe(this)}[L](t){return prefixPath(t,this.prefix)}[P](t){return H(t,this.type==="Directory")}write(t){const r=t.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");this.blockRemain-=r;return super.write(t)}end(){if(this.blockRemain)super.write(o.alloc(this.blockRemain));return super.end()}});B.Sync=WriteEntrySync;B.Tar=U;const getType=t=>t.isFile()?"File":t.isDirectory()?"Directory":t.isSymbolicLink()?"SymbolicLink":"Unsupported";t.exports=B},5656:(t,r,i)=>{const{URL:o}=i(7310);const{join:a}=i(1017);const c=i(7147);const{promisify:l}=i(3837);const{tmpdir:h}=i(2037);const u=i(9074);const d=l(c.writeFile);const p=l(c.mkdir);const m=l(c.readFile);const compareVersions=(t,r)=>t.localeCompare(r,"en-US",{numeric:true});const encode=t=>encodeURIComponent(t).replace(/^%40/,"@");const getFile=async(t,r)=>{const i=h();const o=a(i,"update-check");if(!c.existsSync(o)){await p(o)}let l=`${t.name}-${r}.json`;if(t.scope){l=`${t.scope}-${l}`}return a(o,l)};const evaluateCache=async(t,r,i)=>{if(c.existsSync(t)){const o=await m(t,"utf8");const{lastUpdate:a,latest:c}=JSON.parse(o);const l=a+i;if(l>r){return{shouldCheck:false,latest:c}}}return{shouldCheck:true,latest:null}};const updateCache=async(t,r,i)=>{const o=JSON.stringify({latest:r,lastUpdate:i});await d(t,o,"utf8")};const loadPackage=(t,r)=>new Promise(((o,a)=>{const c={host:t.hostname,path:t.pathname,port:t.port,headers:{accept:"application/vnd.npm.install-v1+json; q=1.0, application/json; q=0.8, */*"},timeout:2e3};if(r){c.headers.authorization=`${r.type} ${r.token}`}const{get:l}=i(t.protocol==="https:"?5687:3685);l(c,(t=>{const{statusCode:r}=t;if(r!==200){const i=new Error(`Request failed with code ${r}`);i.code=r;a(i);t.resume();return}let i="";t.setEncoding("utf8");t.on("data",(t=>{i+=t}));t.on("end",(()=>{try{const t=JSON.parse(i);o(t)}catch(t){a(t)}}))})).on("error",a).on("timeout",a)}));const getMostRecent=async({full:t,scope:r},a)=>{const c=u(r);const l=new o(t,c);let h=null;try{h=await loadPackage(l)}catch(t){if(t.code&&String(t.code).startsWith(4)){const t=i(1281);const r=t(c,{recursive:true});h=await loadPackage(l,r)}else{throw t}}const d=h["dist-tags"][a];if(!d){throw new Error(`Distribution tag ${a} is not available`)}return d};const g={interval:36e5,distTag:"latest"};const getDetails=t=>{const r={full:encode(t)};if(t.includes("/")){const i=t.split("/");r.scope=i[0];r.name=i[1]}else{r.scope=null;r.name=t}return r};t.exports=async(t,r)=>{if(typeof t!=="object"){throw new Error("The first parameter should be your package.json file content")}const i=getDetails(t.name);const o=Date.now();const{distTag:a,interval:c}=Object.assign({},g,r);const l=await getFile(i,a);let h=null;let u=true;({shouldCheck:u,latest:h}=await evaluateCache(l,o,c));if(u){h=await getMostRecent(i,a);await updateCache(l,h,o)}const d=compareVersions(t.version,h);if(d===-1){return{latest:h,fromCache:!u}}return null}},7921:(t,r,i)=>{"use strict";var o=new RegExp("^(?:@([^/]+?)[/])?([^/]+?)$");var a=i(9289);var c=["node_modules","favicon.ico"];function validate(t){var r=[];var i=[];if(t===null){i.push("name cannot be null");return done(r,i)}if(t===undefined){i.push("name cannot be undefined");return done(r,i)}if(typeof t!=="string"){i.push("name must be a string");return done(r,i)}if(!t.length){i.push("name length must be greater than zero")}if(t.match(/^\./)){i.push("name cannot start with a period")}if(t.match(/^_/)){i.push("name cannot start with an underscore")}if(t.trim()!==t){i.push("name cannot contain leading or trailing spaces")}c.forEach((function(r){if(t.toLowerCase()===r){i.push(r+" is a blacklisted name")}}));a({version:"*"}).forEach((function(i){if(t.toLowerCase()===i){r.push(i+" is a core module name")}}));if(t.length>214){r.push("name can no longer contain more than 214 characters")}if(t.toLowerCase()!==t){r.push("name can no longer contain capital letters")}if(/[~'!()*]/.test(t.split("/").slice(-1)[0])){r.push('name can no longer contain special characters ("~\'!()*")')}if(encodeURIComponent(t)!==t){var l=t.match(o);if(l){var h=l[1];var u=l[2];if(encodeURIComponent(h)===h&&encodeURIComponent(u)===u){return done(r,i)}}i.push("name can only contain URL-friendly characters")}return done(r,i)}var done=function(t,r){var i={validForNewPackages:r.length===0&&t.length===0,validForOldPackages:r.length===0,warnings:t,errors:r};if(!i.warnings.length){delete i.warnings}if(!i.errors.length){delete i.errors}return i};t.exports=validate},7200:(t,r,i)=>{const o=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys";const a=i(1017);const c=o?";":":";const l=i(7745);const getNotFoundError=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"});const getPathInfo=(t,r)=>{const i=r.colon||c;const a=t.match(/\//)||o&&t.match(/\\/)?[""]:[...o?[process.cwd()]:[],...(r.path||process.env.PATH||"").split(i)];const l=o?r.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"";const h=o?l.split(i):[""];if(o){if(t.indexOf(".")!==-1&&h[0]!=="")h.unshift("")}return{pathEnv:a,pathExt:h,pathExtExe:l}};const which=(t,r,i)=>{if(typeof r==="function"){i=r;r={}}if(!r)r={};const{pathEnv:o,pathExt:c,pathExtExe:h}=getPathInfo(t,r);const u=[];const step=i=>new Promise(((c,l)=>{if(i===o.length)return r.all&&u.length?c(u):l(getNotFoundError(t));const h=o[i];const d=/^".*"$/.test(h)?h.slice(1,-1):h;const p=a.join(d,t);const m=!d&&/^\.[\\\/]/.test(t)?t.slice(0,2)+p:p;c(subStep(m,i,0))}));const subStep=(t,i,o)=>new Promise(((a,d)=>{if(o===c.length)return a(step(i+1));const p=c[o];l(t+p,{pathExt:h},((c,l)=>{if(!c&&l){if(r.all)u.push(t+p);else return a(t+p)}return a(subStep(t,i,o+1))}))}));return i?step(0).then((t=>i(null,t)),i):step(0)};const whichSync=(t,r)=>{r=r||{};const{pathEnv:i,pathExt:o,pathExtExe:c}=getPathInfo(t,r);const h=[];for(let u=0;u<i.length;u++){const d=i[u];const p=/^".*"$/.test(d)?d.slice(1,-1):d;const m=a.join(p,t);const g=!p&&/^\.[\\\/]/.test(t)?t.slice(0,2)+m:m;for(let t=0;t<o.length;t++){const i=g+o[t];try{const t=l.sync(i,{pathExt:c});if(t){if(r.all)h.push(i);else return i}}catch(t){}}}if(r.all&&h.length)return h;if(r.nothrow)return null;throw getNotFoundError(t)};t.exports=which;which.sync=whichSync},3270:t=>{t.exports=wrappy;function wrappy(t,r){if(t&&r)return wrappy(t)(r);if(typeof t!=="function")throw new TypeError("need wrapper function");Object.keys(t).forEach((function(r){wrapper[r]=t[r]}));return wrapper;function wrapper(){var r=new Array(arguments.length);for(var i=0;i<r.length;i++){r[i]=arguments[i]}var o=t.apply(this,r);var a=r[r.length-1];if(typeof o==="function"&&o!==a){Object.keys(a).forEach((function(t){o[t]=a[t]}))}return o}}},8076:t=>{"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next){yield t.value}}}},1190:(t,r,i)=>{"use strict";t.exports=Yallist;Yallist.Node=Node;Yallist.create=Yallist;function Yallist(t){var r=this;if(!(r instanceof Yallist)){r=new Yallist}r.tail=null;r.head=null;r.length=0;if(t&&typeof t.forEach==="function"){t.forEach((function(t){r.push(t)}))}else if(arguments.length>0){for(var i=0,o=arguments.length;i<o;i++){r.push(arguments[i])}}return r}Yallist.prototype.removeNode=function(t){if(t.list!==this){throw new Error("removing node which does not belong to this list")}var r=t.next;var i=t.prev;if(r){r.prev=i}if(i){i.next=r}if(t===this.head){this.head=r}if(t===this.tail){this.tail=i}t.list.length--;t.next=null;t.prev=null;t.list=null;return r};Yallist.prototype.unshiftNode=function(t){if(t===this.head){return}if(t.list){t.list.removeNode(t)}var r=this.head;t.list=this;t.next=r;if(r){r.prev=t}this.head=t;if(!this.tail){this.tail=t}this.length++};Yallist.prototype.pushNode=function(t){if(t===this.tail){return}if(t.list){t.list.removeNode(t)}var r=this.tail;t.list=this;t.prev=r;if(r){r.next=t}this.tail=t;if(!this.head){this.head=t}this.length++};Yallist.prototype.push=function(){for(var t=0,r=arguments.length;t<r;t++){push(this,arguments[t])}return this.length};Yallist.prototype.unshift=function(){for(var t=0,r=arguments.length;t<r;t++){unshift(this,arguments[t])}return this.length};Yallist.prototype.pop=function(){if(!this.tail){return undefined}var t=this.tail.value;this.tail=this.tail.prev;if(this.tail){this.tail.next=null}else{this.head=null}this.length--;return t};Yallist.prototype.shift=function(){if(!this.head){return undefined}var t=this.head.value;this.head=this.head.next;if(this.head){this.head.prev=null}else{this.tail=null}this.length--;return t};Yallist.prototype.forEach=function(t,r){r=r||this;for(var i=this.head,o=0;i!==null;o++){t.call(r,i.value,o,this);i=i.next}};Yallist.prototype.forEachReverse=function(t,r){r=r||this;for(var i=this.tail,o=this.length-1;i!==null;o--){t.call(r,i.value,o,this);i=i.prev}};Yallist.prototype.get=function(t){for(var r=0,i=this.head;i!==null&&r<t;r++){i=i.next}if(r===t&&i!==null){return i.value}};Yallist.prototype.getReverse=function(t){for(var r=0,i=this.tail;i!==null&&r<t;r++){i=i.prev}if(r===t&&i!==null){return i.value}};Yallist.prototype.map=function(t,r){r=r||this;var i=new Yallist;for(var o=this.head;o!==null;){i.push(t.call(r,o.value,this));o=o.next}return i};Yallist.prototype.mapReverse=function(t,r){r=r||this;var i=new Yallist;for(var o=this.tail;o!==null;){i.push(t.call(r,o.value,this));o=o.prev}return i};Yallist.prototype.reduce=function(t,r){var i;var o=this.head;if(arguments.length>1){i=r}else if(this.head){o=this.head.next;i=this.head.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var a=0;o!==null;a++){i=t(i,o.value,a);o=o.next}return i};Yallist.prototype.reduceReverse=function(t,r){var i;var o=this.tail;if(arguments.length>1){i=r}else if(this.tail){o=this.tail.prev;i=this.tail.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var a=this.length-1;o!==null;a--){i=t(i,o.value,a);o=o.prev}return i};Yallist.prototype.toArray=function(){var t=new Array(this.length);for(var r=0,i=this.head;i!==null;r++){t[r]=i.value;i=i.next}return t};Yallist.prototype.toArrayReverse=function(){var t=new Array(this.length);for(var r=0,i=this.tail;i!==null;r++){t[r]=i.value;i=i.prev}return t};Yallist.prototype.slice=function(t,r){r=r||this.length;if(r<0){r+=this.length}t=t||0;if(t<0){t+=this.length}var i=new Yallist;if(r<t||r<0){return i}if(t<0){t=0}if(r>this.length){r=this.length}for(var o=0,a=this.head;a!==null&&o<t;o++){a=a.next}for(;a!==null&&o<r;o++,a=a.next){i.push(a.value)}return i};Yallist.prototype.sliceReverse=function(t,r){r=r||this.length;if(r<0){r+=this.length}t=t||0;if(t<0){t+=this.length}var i=new Yallist;if(r<t||r<0){return i}if(t<0){t=0}if(r>this.length){r=this.length}for(var o=this.length,a=this.tail;a!==null&&o>r;o--){a=a.prev}for(;a!==null&&o>t;o--,a=a.prev){i.push(a.value)}return i};Yallist.prototype.splice=function(t,r){if(t>this.length){t=this.length-1}if(t<0){t=this.length+t}for(var i=0,o=this.head;o!==null&&i<t;i++){o=o.next}var a=[];for(var i=0;o&&i<r;i++){a.push(o.value);o=this.removeNode(o)}if(o===null){o=this.tail}if(o!==this.head&&o!==this.tail){o=o.prev}for(var i=2;i<arguments.length;i++){o=insert(this,o,arguments[i])}return a};Yallist.prototype.reverse=function(){var t=this.head;var r=this.tail;for(var i=t;i!==null;i=i.prev){var o=i.prev;i.prev=i.next;i.next=o}this.head=r;this.tail=t;return this};function insert(t,r,i){var o=r===t.head?new Node(i,null,r,t):new Node(i,r,r.next,t);if(o.next===null){t.tail=o}if(o.prev===null){t.head=o}t.length++;return o}function push(t,r){t.tail=new Node(r,t.tail,null,t);if(!t.head){t.head=t.tail}t.length++}function unshift(t,r){t.head=new Node(r,null,t.head,t);if(!t.tail){t.tail=t.head}t.length++}function Node(t,r,i,o){if(!(this instanceof Node)){return new Node(t,r,i,o)}this.list=o;this.value=t;if(r){r.next=this;this.prev=r}else{this.prev=null}if(i){i.prev=this;this.next=i}else{this.next=null}}try{i(8076)(Yallist)}catch(t){}},9414:t=>{"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next){yield t.value}}}},3401:(t,r,i)=>{"use strict";t.exports=Yallist;Yallist.Node=Node;Yallist.create=Yallist;function Yallist(t){var r=this;if(!(r instanceof Yallist)){r=new Yallist}r.tail=null;r.head=null;r.length=0;if(t&&typeof t.forEach==="function"){t.forEach((function(t){r.push(t)}))}else if(arguments.length>0){for(var i=0,o=arguments.length;i<o;i++){r.push(arguments[i])}}return r}Yallist.prototype.removeNode=function(t){if(t.list!==this){throw new Error("removing node which does not belong to this list")}var r=t.next;var i=t.prev;if(r){r.prev=i}if(i){i.next=r}if(t===this.head){this.head=r}if(t===this.tail){this.tail=i}t.list.length--;t.next=null;t.prev=null;t.list=null;return r};Yallist.prototype.unshiftNode=function(t){if(t===this.head){return}if(t.list){t.list.removeNode(t)}var r=this.head;t.list=this;t.next=r;if(r){r.prev=t}this.head=t;if(!this.tail){this.tail=t}this.length++};Yallist.prototype.pushNode=function(t){if(t===this.tail){return}if(t.list){t.list.removeNode(t)}var r=this.tail;t.list=this;t.prev=r;if(r){r.next=t}this.tail=t;if(!this.head){this.head=t}this.length++};Yallist.prototype.push=function(){for(var t=0,r=arguments.length;t<r;t++){push(this,arguments[t])}return this.length};Yallist.prototype.unshift=function(){for(var t=0,r=arguments.length;t<r;t++){unshift(this,arguments[t])}return this.length};Yallist.prototype.pop=function(){if(!this.tail){return undefined}var t=this.tail.value;this.tail=this.tail.prev;if(this.tail){this.tail.next=null}else{this.head=null}this.length--;return t};Yallist.prototype.shift=function(){if(!this.head){return undefined}var t=this.head.value;this.head=this.head.next;if(this.head){this.head.prev=null}else{this.tail=null}this.length--;return t};Yallist.prototype.forEach=function(t,r){r=r||this;for(var i=this.head,o=0;i!==null;o++){t.call(r,i.value,o,this);i=i.next}};Yallist.prototype.forEachReverse=function(t,r){r=r||this;for(var i=this.tail,o=this.length-1;i!==null;o--){t.call(r,i.value,o,this);i=i.prev}};Yallist.prototype.get=function(t){for(var r=0,i=this.head;i!==null&&r<t;r++){i=i.next}if(r===t&&i!==null){return i.value}};Yallist.prototype.getReverse=function(t){for(var r=0,i=this.tail;i!==null&&r<t;r++){i=i.prev}if(r===t&&i!==null){return i.value}};Yallist.prototype.map=function(t,r){r=r||this;var i=new Yallist;for(var o=this.head;o!==null;){i.push(t.call(r,o.value,this));o=o.next}return i};Yallist.prototype.mapReverse=function(t,r){r=r||this;var i=new Yallist;for(var o=this.tail;o!==null;){i.push(t.call(r,o.value,this));o=o.prev}return i};Yallist.prototype.reduce=function(t,r){var i;var o=this.head;if(arguments.length>1){i=r}else if(this.head){o=this.head.next;i=this.head.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var a=0;o!==null;a++){i=t(i,o.value,a);o=o.next}return i};Yallist.prototype.reduceReverse=function(t,r){var i;var o=this.tail;if(arguments.length>1){i=r}else if(this.tail){o=this.tail.prev;i=this.tail.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var a=this.length-1;o!==null;a--){i=t(i,o.value,a);o=o.prev}return i};Yallist.prototype.toArray=function(){var t=new Array(this.length);for(var r=0,i=this.head;i!==null;r++){t[r]=i.value;i=i.next}return t};Yallist.prototype.toArrayReverse=function(){var t=new Array(this.length);for(var r=0,i=this.tail;i!==null;r++){t[r]=i.value;i=i.prev}return t};Yallist.prototype.slice=function(t,r){r=r||this.length;if(r<0){r+=this.length}t=t||0;if(t<0){t+=this.length}var i=new Yallist;if(r<t||r<0){return i}if(t<0){t=0}if(r>this.length){r=this.length}for(var o=0,a=this.head;a!==null&&o<t;o++){a=a.next}for(;a!==null&&o<r;o++,a=a.next){i.push(a.value)}return i};Yallist.prototype.sliceReverse=function(t,r){r=r||this.length;if(r<0){r+=this.length}t=t||0;if(t<0){t+=this.length}var i=new Yallist;if(r<t||r<0){return i}if(t<0){t=0}if(r>this.length){r=this.length}for(var o=this.length,a=this.tail;a!==null&&o>r;o--){a=a.prev}for(;a!==null&&o>t;o--,a=a.prev){i.push(a.value)}return i};Yallist.prototype.splice=function(t,r,...i){if(t>this.length){t=this.length-1}if(t<0){t=this.length+t}for(var o=0,a=this.head;a!==null&&o<t;o++){a=a.next}var c=[];for(var o=0;a&&o<r;o++){c.push(a.value);a=this.removeNode(a)}if(a===null){a=this.tail}if(a!==this.head&&a!==this.tail){a=a.prev}for(var o=0;o<i.length;o++){a=insert(this,a,i[o])}return c};Yallist.prototype.reverse=function(){var t=this.head;var r=this.tail;for(var i=t;i!==null;i=i.prev){var o=i.prev;i.prev=i.next;i.next=o}this.head=r;this.tail=t;return this};function insert(t,r,i){var o=r===t.head?new Node(i,null,r,t):new Node(i,r,r.next,t);if(o.next===null){t.tail=o}if(o.prev===null){t.head=o}t.length++;return o}function push(t,r){t.tail=new Node(r,t.tail,null,t);if(!t.head){t.head=t.tail}t.length++}function unshift(t,r){t.head=new Node(r,null,t.head,t);if(!t.tail){t.tail=t.head}t.length++}function Node(t,r,i,o){if(!(this instanceof Node)){return new Node(t,r,i,o)}this.list=o;this.value=t;if(r){r.next=this;this.prev=r}else{this.prev=null}if(i){i.prev=this;this.next=i}else{this.next=null}}try{i(9414)(Yallist)}catch(t){}},911:(t,r,i)=>{"use strict";i.r(r);const o=10;const wrapAnsi16=(t=0)=>r=>`[${r+t}m`;const wrapAnsi256=(t=0)=>r=>`[${38+t};5;${r}m`;const wrapAnsi16m=(t=0)=>(r,i,o)=>`[${38+t};2;${r};${i};${o}m`;const a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};const c=Object.keys(a.modifier);const l=Object.keys(a.color);const h=Object.keys(a.bgColor);const u=[...l,...h];function assembleStyles(){const t=new Map;for(const[r,i]of Object.entries(a)){for(const[r,o]of Object.entries(i)){a[r]={open:`[${o[0]}m`,close:`[${o[1]}m`};i[r]=a[r];t.set(o[0],o[1])}Object.defineProperty(a,r,{value:i,enumerable:false})}Object.defineProperty(a,"codes",{value:t,enumerable:false});a.color.close="[39m";a.bgColor.close="[49m";a.color.ansi=wrapAnsi16();a.color.ansi256=wrapAnsi256();a.color.ansi16m=wrapAnsi16m();a.bgColor.ansi=wrapAnsi16(o);a.bgColor.ansi256=wrapAnsi256(o);a.bgColor.ansi16m=wrapAnsi16m(o);Object.defineProperties(a,{rgbToAnsi256:{value(t,r,i){if(t===r&&r===i){if(t<8){return 16}if(t>248){return 231}return Math.round((t-8)/247*24)+232}return 16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(i/255*5)},enumerable:false},hexToRgb:{value(t){const r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r){return[0,0,0]}let[i]=r;if(i.length===3){i=[...i].map((t=>t+t)).join("")}const o=Number.parseInt(i,16);return[o>>16&255,o>>8&255,o&255]},enumerable:false},hexToAnsi256:{value:t=>a.rgbToAnsi256(...a.hexToRgb(t)),enumerable:false},ansi256ToAnsi:{value(t){if(t<8){return 30+t}if(t<16){return 90+(t-8)}let r;let i;let o;if(t>=232){r=((t-232)*10+8)/255;i=r;o=r}else{t-=16;const a=t%36;r=Math.floor(t/36)/5;i=Math.floor(a/6)/5;o=a%6/5}const a=Math.max(r,i,o)*2;if(a===0){return 30}let c=30+(Math.round(o)<<2|Math.round(i)<<1|Math.round(r));if(a===2){c+=60}return c},enumerable:false},rgbToAnsi:{value:(t,r,i)=>a.ansi256ToAnsi(a.rgbToAnsi256(t,r,i)),enumerable:false},hexToAnsi:{value:t=>a.ansi256ToAnsi(a.hexToAnsi256(t)),enumerable:false}});return a}const d=assembleStyles();const p=d;const m=require("node:process");const g=require("node:os");const y=require("node:tty");function hasFlag(t,r=m.argv){const i=t.startsWith("-")?"":t.length===1?"-":"--";const o=r.indexOf(i+t);const a=r.indexOf("--");return o!==-1&&(a===-1||o<a)}const{env:b}=m;let v;if(hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")||hasFlag("color=never")){v=0}else if(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always")){v=1}function envForceColor(){if("FORCE_COLOR"in b){if(b.FORCE_COLOR==="true"){return 1}if(b.FORCE_COLOR==="false"){return 0}return b.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(b.FORCE_COLOR,10),3)}}function translateLevel(t){if(t===0){return false}return{level:t,hasBasic:true,has256:t>=2,has16m:t>=3}}function _supportsColor(t,{streamIsTTY:r,sniffFlags:i=true}={}){const o=envForceColor();if(o!==undefined){v=o}const a=i?v:o;if(a===0){return 0}if(i){if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor")){return 3}if(hasFlag("color=256")){return 2}}if(t&&!r&&a===undefined){return 0}const c=a||0;if(b.TERM==="dumb"){return c}if(m.platform==="win32"){const t=g.release().split(".");if(Number(t[0])>=10&&Number(t[2])>=10586){return Number(t[2])>=14931?3:2}return 1}if("CI"in b){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some((t=>t in b))||b.CI_NAME==="codeship"){return 1}return c}if("TEAMCITY_VERSION"in b){return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(b.TEAMCITY_VERSION)?1:0}if("TF_BUILD"in b&&"AGENT_NAME"in b){return 1}if(b.COLORTERM==="truecolor"){return 3}if("TERM_PROGRAM"in b){const t=Number.parseInt((b.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(b.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(b.TERM)){return 2}if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(b.TERM)){return 1}if("COLORTERM"in b){return 1}return c}function createSupportsColor(t,r={}){const i=_supportsColor(t,{streamIsTTY:t&&t.isTTY,...r});return translateLevel(i)}const w={stdout:createSupportsColor({isTTY:y.isatty(1)}),stderr:createSupportsColor({isTTY:y.isatty(2)})};const _=w;function stringReplaceAll(t,r,i){let o=t.indexOf(r);if(o===-1){return t}const a=r.length;let c=0;let l="";do{l+=t.slice(c,o)+r+i;c=o+a;o=t.indexOf(r,c)}while(o!==-1);l+=t.slice(c);return l}function stringEncaseCRLFWithFirstIndex(t,r,i,o){let a=0;let c="";do{const l=t[o-1]==="\r";c+=t.slice(a,l?o-1:o)+r+(l?"\r\n":"\n")+i;a=o+1;o=t.indexOf("\n",a)}while(o!==-1);c+=t.slice(a);return c}const{stdout:E,stderr:S}=_;const O=Symbol("GENERATOR");const x=Symbol("STYLER");const R=Symbol("IS_EMPTY");const T=["ansi","ansi","ansi256","ansi16m"];const k=Object.create(null);const applyOptions=(t,r={})=>{if(r.level&&!(Number.isInteger(r.level)&&r.level>=0&&r.level<=3)){throw new Error("The `level` option should be an integer from 0 to 3")}const i=E?E.level:0;t.level=r.level===undefined?i:r.level};class Chalk{constructor(t){return chalkFactory(t)}}const chalkFactory=t=>{const chalk=(...t)=>t.join(" ");applyOptions(chalk,t);Object.setPrototypeOf(chalk,createChalk.prototype);return chalk};function createChalk(t){return chalkFactory(t)}Object.setPrototypeOf(createChalk.prototype,Function.prototype);for(const[t,r]of Object.entries(p)){k[t]={get(){const i=createBuilder(this,createStyler(r.open,r.close,this[x]),this[R]);Object.defineProperty(this,t,{value:i});return i}}}k.visible={get(){const t=createBuilder(this,this[x],true);Object.defineProperty(this,"visible",{value:t});return t}};const getModelAnsi=(t,r,i,...o)=>{if(t==="rgb"){if(r==="ansi16m"){return p[i].ansi16m(...o)}if(r==="ansi256"){return p[i].ansi256(p.rgbToAnsi256(...o))}return p[i].ansi(p.rgbToAnsi(...o))}if(t==="hex"){return getModelAnsi("rgb",r,i,...p.hexToRgb(...o))}return p[i][t](...o)};const A=["rgb","hex","ansi256"];for(const t of A){k[t]={get(){const{level:r}=this;return function(...i){const o=createStyler(getModelAnsi(t,T[r],"color",...i),p.color.close,this[x]);return createBuilder(this,o,this[R])}}};const r="bg"+t[0].toUpperCase()+t.slice(1);k[r]={get(){const{level:r}=this;return function(...i){const o=createStyler(getModelAnsi(t,T[r],"bgColor",...i),p.bgColor.close,this[x]);return createBuilder(this,o,this[R])}}}}const C=Object.defineProperties((()=>{}),{...k,level:{enumerable:true,get(){return this[O].level},set(t){this[O].level=t}}});const createStyler=(t,r,i)=>{let o;let a;if(i===undefined){o=t;a=r}else{o=i.openAll+t;a=r+i.closeAll}return{open:t,close:r,openAll:o,closeAll:a,parent:i}};const createBuilder=(t,r,i)=>{const builder=(...t)=>applyStyle(builder,t.length===1?""+t[0]:t.join(" "));Object.setPrototypeOf(builder,C);builder[O]=t;builder[x]=r;builder[R]=i;return builder};const applyStyle=(t,r)=>{if(t.level<=0||!r){return t[R]?"":r}let i=t[x];if(i===undefined){return r}const{openAll:o,closeAll:a}=i;if(r.includes("")){while(i!==undefined){r=stringReplaceAll(r,i.close,i.open);i=i.parent}}const c=r.indexOf("\n");if(c!==-1){r=stringEncaseCRLFWithFirstIndex(r,a,o,c)}return o+r+a};Object.defineProperties(createChalk.prototype,k);const P=createChalk();const I=createChalk({level:S?S.level:0});const N=P;var L=i(345);const{program:M,createCommand:$,createArgument:j,createOption:D,CommanderError:H,InvalidArgumentError:B,InvalidOptionArgumentError:U,Command:q,Argument:G,Option:z,Help:V}=L;var Y=i(1017);var W=i.n(Y);var Z=i(5713);var J=i.n(Z);var X=i(5656);var K=i.n(X);var Q=i(3493);var ee=i.n(Q);var te=i(2081);const se=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function isTypedArrayName(t){return se.includes(t)}const re=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","WeakRef","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement","NaN",...se];function isObjectTypeName(t){return re.includes(t)}const ie=["null","undefined","string","number","bigint","boolean","symbol"];function isPrimitiveTypeName(t){return ie.includes(t)}function isOfType(t){return r=>typeof r===t}const{toString:ne}=Object.prototype;const getObjectType=t=>{const r=ne.call(t).slice(8,-1);if(/HTML\w+Element/.test(r)&&is.domElement(t)){return"HTMLElement"}if(isObjectTypeName(r)){return r}return undefined};const isObjectOfType=t=>r=>getObjectType(r)===t;function is(t){if(t===null){return"null"}switch(typeof t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(t)?"NaN":"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(is.observable(t)){return"Observable"}if(is.array(t)){return"Array"}if(is.buffer(t)){return"Buffer"}const r=getObjectType(t);if(r){return r}if(t instanceof String||t instanceof Boolean||t instanceof Number){throw new TypeError("Please don't use object wrappers for primitive types")}return"Object"}is.undefined=isOfType("undefined");is.string=isOfType("string");const oe=isOfType("number");is.number=t=>oe(t)&&!is.nan(t);is.bigint=isOfType("bigint");is.function_=isOfType("function");is.null_=t=>t===null;is.class_=t=>is.function_(t)&&t.toString().startsWith("class ");is.boolean=t=>t===true||t===false;is.symbol=isOfType("symbol");is.numericString=t=>is.string(t)&&!is.emptyStringOrWhitespace(t)&&!Number.isNaN(Number(t));is.array=(t,r)=>{if(!Array.isArray(t)){return false}if(!is.function_(r)){return true}return t.every((t=>r(t)))};is.buffer=t=>t?.constructor?.isBuffer?.(t)??false;is.blob=t=>isObjectOfType("Blob")(t);is.nullOrUndefined=t=>is.null_(t)||is.undefined(t);is.object=t=>!is.null_(t)&&(typeof t==="object"||is.function_(t));is.iterable=t=>is.function_(t?.[Symbol.iterator]);is.asyncIterable=t=>is.function_(t?.[Symbol.asyncIterator]);is.generator=t=>is.iterable(t)&&is.function_(t?.next)&&is.function_(t?.throw);is.asyncGenerator=t=>is.asyncIterable(t)&&is.function_(t.next)&&is.function_(t.throw);is.nativePromise=t=>isObjectOfType("Promise")(t);const hasPromiseApi=t=>is.function_(t?.then)&&is.function_(t?.catch);is.promise=t=>is.nativePromise(t)||hasPromiseApi(t);is.generatorFunction=isObjectOfType("GeneratorFunction");is.asyncGeneratorFunction=t=>getObjectType(t)==="AsyncGeneratorFunction";is.asyncFunction=t=>getObjectType(t)==="AsyncFunction";is.boundFunction=t=>is.function_(t)&&!t.hasOwnProperty("prototype");is.regExp=isObjectOfType("RegExp");is.date=isObjectOfType("Date");is.error=isObjectOfType("Error");is.map=t=>isObjectOfType("Map")(t);is.set=t=>isObjectOfType("Set")(t);is.weakMap=t=>isObjectOfType("WeakMap")(t);is.weakSet=t=>isObjectOfType("WeakSet")(t);is.weakRef=t=>isObjectOfType("WeakRef")(t);is.int8Array=isObjectOfType("Int8Array");is.uint8Array=isObjectOfType("Uint8Array");is.uint8ClampedArray=isObjectOfType("Uint8ClampedArray");is.int16Array=isObjectOfType("Int16Array");is.uint16Array=isObjectOfType("Uint16Array");is.int32Array=isObjectOfType("Int32Array");is.uint32Array=isObjectOfType("Uint32Array");is.float32Array=isObjectOfType("Float32Array");is.float64Array=isObjectOfType("Float64Array");is.bigInt64Array=isObjectOfType("BigInt64Array");is.bigUint64Array=isObjectOfType("BigUint64Array");is.arrayBuffer=isObjectOfType("ArrayBuffer");is.sharedArrayBuffer=isObjectOfType("SharedArrayBuffer");is.dataView=isObjectOfType("DataView");is.enumCase=(t,r)=>Object.values(r).includes(t);is.directInstanceOf=(t,r)=>Object.getPrototypeOf(t)===r.prototype;is.urlInstance=t=>isObjectOfType("URL")(t);is.urlString=t=>{if(!is.string(t)){return false}try{new URL(t);return true}catch{return false}};is.truthy=t=>Boolean(t);is.falsy=t=>!t;is.nan=t=>Number.isNaN(t);is.primitive=t=>is.null_(t)||isPrimitiveTypeName(typeof t);is.integer=t=>Number.isInteger(t);is.safeInteger=t=>Number.isSafeInteger(t);is.plainObject=t=>{if(typeof t!=="object"||t===null){return false}const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};is.typedArray=t=>isTypedArrayName(getObjectType(t));const isValidLength=t=>is.safeInteger(t)&&t>=0;is.arrayLike=t=>!is.nullOrUndefined(t)&&!is.function_(t)&&isValidLength(t.length);is.inRange=(t,r)=>{if(is.number(r)){return t>=Math.min(0,r)&&t<=Math.max(r,0)}if(is.array(r)&&r.length===2){return t>=Math.min(...r)&&t<=Math.max(...r)}throw new TypeError(`Invalid range: ${JSON.stringify(r)}`)};const ae=1;const ce=["innerHTML","ownerDocument","style","attributes","nodeValue"];is.domElement=t=>is.object(t)&&t.nodeType===ae&&is.string(t.nodeName)&&!is.plainObject(t)&&ce.every((r=>r in t));is.observable=t=>{if(!t){return false}if(t===t[Symbol.observable]?.()){return true}if(t===t["@@observable"]?.()){return true}return false};is.nodeStream=t=>is.object(t)&&is.function_(t.pipe)&&!is.observable(t);is.infinite=t=>t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY;const isAbsoluteMod2=t=>r=>is.integer(r)&&Math.abs(r%2)===t;is.evenInteger=isAbsoluteMod2(0);is.oddInteger=isAbsoluteMod2(1);is.emptyArray=t=>is.array(t)&&t.length===0;is.nonEmptyArray=t=>is.array(t)&&t.length>0;is.emptyString=t=>is.string(t)&&t.length===0;const isWhiteSpaceString=t=>is.string(t)&&!/\S/.test(t);is.emptyStringOrWhitespace=t=>is.emptyString(t)||isWhiteSpaceString(t);is.nonEmptyString=t=>is.string(t)&&t.length>0;is.nonEmptyStringAndNotWhitespace=t=>is.string(t)&&!is.emptyStringOrWhitespace(t);is.emptyObject=t=>is.object(t)&&!is.map(t)&&!is.set(t)&&Object.keys(t).length===0;is.nonEmptyObject=t=>is.object(t)&&!is.map(t)&&!is.set(t)&&Object.keys(t).length>0;is.emptySet=t=>is.set(t)&&t.size===0;is.nonEmptySet=t=>is.set(t)&&t.size>0;is.emptyMap=t=>is.map(t)&&t.size===0;is.nonEmptyMap=t=>is.map(t)&&t.size>0;is.propertyKey=t=>is.any([is.string,is.number,is.symbol],t);is.formData=t=>isObjectOfType("FormData")(t);is.urlSearchParams=t=>isObjectOfType("URLSearchParams")(t);const predicateOnArray=(t,r,i)=>{if(!is.function_(r)){throw new TypeError(`Invalid predicate: ${JSON.stringify(r)}`)}if(i.length===0){throw new TypeError("Invalid number of values")}return t.call(i,r)};is.any=(t,...r)=>{const i=is.array(t)?t:[t];return i.some((t=>predicateOnArray(Array.prototype.some,t,r)))};is.all=(t,...r)=>predicateOnArray(Array.prototype.every,t,r);const assertType=(t,r,i,o={})=>{if(!t){const{multipleValues:t}=o;const a=t?`received values of types ${[...new Set(i.map((t=>`\`${is(t)}\``)))].join(", ")}`:`received value of type \`${is(i)}\``;throw new TypeError(`Expected value which is \`${r}\`, ${a}.`)}};const le={undefined:t=>assertType(is.undefined(t),"undefined",t),string:t=>assertType(is.string(t),"string",t),number:t=>assertType(is.number(t),"number",t),bigint:t=>assertType(is.bigint(t),"bigint",t),function_:t=>assertType(is.function_(t),"Function",t),null_:t=>assertType(is.null_(t),"null",t),class_:t=>assertType(is.class_(t),"Class",t),boolean:t=>assertType(is.boolean(t),"boolean",t),symbol:t=>assertType(is.symbol(t),"symbol",t),numericString:t=>assertType(is.numericString(t),"string with a number",t),array:(t,r)=>{const i=assertType;i(is.array(t),"Array",t);if(r){t.forEach(r)}},buffer:t=>assertType(is.buffer(t),"Buffer",t),blob:t=>assertType(is.blob(t),"Blob",t),nullOrUndefined:t=>assertType(is.nullOrUndefined(t),"null or undefined",t),object:t=>assertType(is.object(t),"Object",t),iterable:t=>assertType(is.iterable(t),"Iterable",t),asyncIterable:t=>assertType(is.asyncIterable(t),"AsyncIterable",t),generator:t=>assertType(is.generator(t),"Generator",t),asyncGenerator:t=>assertType(is.asyncGenerator(t),"AsyncGenerator",t),nativePromise:t=>assertType(is.nativePromise(t),"native Promise",t),promise:t=>assertType(is.promise(t),"Promise",t),generatorFunction:t=>assertType(is.generatorFunction(t),"GeneratorFunction",t),asyncGeneratorFunction:t=>assertType(is.asyncGeneratorFunction(t),"AsyncGeneratorFunction",t),asyncFunction:t=>assertType(is.asyncFunction(t),"AsyncFunction",t),boundFunction:t=>assertType(is.boundFunction(t),"Function",t),regExp:t=>assertType(is.regExp(t),"RegExp",t),date:t=>assertType(is.date(t),"Date",t),error:t=>assertType(is.error(t),"Error",t),map:t=>assertType(is.map(t),"Map",t),set:t=>assertType(is.set(t),"Set",t),weakMap:t=>assertType(is.weakMap(t),"WeakMap",t),weakSet:t=>assertType(is.weakSet(t),"WeakSet",t),weakRef:t=>assertType(is.weakRef(t),"WeakRef",t),int8Array:t=>assertType(is.int8Array(t),"Int8Array",t),uint8Array:t=>assertType(is.uint8Array(t),"Uint8Array",t),uint8ClampedArray:t=>assertType(is.uint8ClampedArray(t),"Uint8ClampedArray",t),int16Array:t=>assertType(is.int16Array(t),"Int16Array",t),uint16Array:t=>assertType(is.uint16Array(t),"Uint16Array",t),int32Array:t=>assertType(is.int32Array(t),"Int32Array",t),uint32Array:t=>assertType(is.uint32Array(t),"Uint32Array",t),float32Array:t=>assertType(is.float32Array(t),"Float32Array",t),float64Array:t=>assertType(is.float64Array(t),"Float64Array",t),bigInt64Array:t=>assertType(is.bigInt64Array(t),"BigInt64Array",t),bigUint64Array:t=>assertType(is.bigUint64Array(t),"BigUint64Array",t),arrayBuffer:t=>assertType(is.arrayBuffer(t),"ArrayBuffer",t),sharedArrayBuffer:t=>assertType(is.sharedArrayBuffer(t),"SharedArrayBuffer",t),dataView:t=>assertType(is.dataView(t),"DataView",t),enumCase:(t,r)=>assertType(is.enumCase(t,r),"EnumCase",t),urlInstance:t=>assertType(is.urlInstance(t),"URL",t),urlString:t=>assertType(is.urlString(t),"string with a URL",t),truthy:t=>assertType(is.truthy(t),"truthy",t),falsy:t=>assertType(is.falsy(t),"falsy",t),nan:t=>assertType(is.nan(t),"NaN",t),primitive:t=>assertType(is.primitive(t),"primitive",t),integer:t=>assertType(is.integer(t),"integer",t),safeInteger:t=>assertType(is.safeInteger(t),"integer",t),plainObject:t=>assertType(is.plainObject(t),"plain object",t),typedArray:t=>assertType(is.typedArray(t),"TypedArray",t),arrayLike:t=>assertType(is.arrayLike(t),"array-like",t),domElement:t=>assertType(is.domElement(t),"HTMLElement",t),observable:t=>assertType(is.observable(t),"Observable",t),nodeStream:t=>assertType(is.nodeStream(t),"Node.js Stream",t),infinite:t=>assertType(is.infinite(t),"infinite number",t),emptyArray:t=>assertType(is.emptyArray(t),"empty array",t),nonEmptyArray:t=>assertType(is.nonEmptyArray(t),"non-empty array",t),emptyString:t=>assertType(is.emptyString(t),"empty string",t),emptyStringOrWhitespace:t=>assertType(is.emptyStringOrWhitespace(t),"empty string or whitespace",t),nonEmptyString:t=>assertType(is.nonEmptyString(t),"non-empty string",t),nonEmptyStringAndNotWhitespace:t=>assertType(is.nonEmptyStringAndNotWhitespace(t),"non-empty string and not whitespace",t),emptyObject:t=>assertType(is.emptyObject(t),"empty object",t),nonEmptyObject:t=>assertType(is.nonEmptyObject(t),"non-empty object",t),emptySet:t=>assertType(is.emptySet(t),"empty set",t),nonEmptySet:t=>assertType(is.nonEmptySet(t),"non-empty set",t),emptyMap:t=>assertType(is.emptyMap(t),"empty map",t),nonEmptyMap:t=>assertType(is.nonEmptyMap(t),"non-empty map",t),propertyKey:t=>assertType(is.propertyKey(t),"PropertyKey",t),formData:t=>assertType(is.formData(t),"FormData",t),urlSearchParams:t=>assertType(is.urlSearchParams(t),"URLSearchParams",t),evenInteger:t=>assertType(is.evenInteger(t),"even integer",t),oddInteger:t=>assertType(is.oddInteger(t),"odd integer",t),directInstanceOf:(t,r)=>assertType(is.directInstanceOf(t,r),"T",t),inRange:(t,r)=>assertType(is.inRange(t,r),"in range",t),any:(t,...r)=>assertType(is.any(t,...r),"predicate returns truthy for any value",r,{multipleValues:true}),all:(t,...r)=>assertType(is.all(t,...r),"predicate returns truthy for all values",r,{multipleValues:true})};Object.defineProperties(is,{class:{value:is.class_},function:{value:is.function_},null:{value:is.null_}});Object.defineProperties(le,{class:{value:le.class_},function:{value:le.function_},null:{value:le.null_}});const he=is;const ue=require("node:events");class CancelError extends Error{constructor(t){super(t||"Promise was canceled");this.name="CancelError"}get isCanceled(){return true}}class PCancelable{static fn(t){return(...r)=>new PCancelable(((i,o,a)=>{r.push(a);t(...r).then(i,o)}))}constructor(t){this._cancelHandlers=[];this._isPending=true;this._isCanceled=false;this._rejectOnCancel=true;this._promise=new Promise(((r,i)=>{this._reject=i;const onResolve=t=>{if(!this._isCanceled||!onCancel.shouldReject){this._isPending=false;r(t)}};const onReject=t=>{this._isPending=false;i(t)};const onCancel=t=>{if(!this._isPending){throw new Error("The `onCancel` handler was attached after the promise settled.")}this._cancelHandlers.push(t)};Object.defineProperties(onCancel,{shouldReject:{get:()=>this._rejectOnCancel,set:t=>{this._rejectOnCancel=t}}});t(onResolve,onReject,onCancel)}))}then(t,r){return this._promise.then(t,r)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(t){if(!this._isPending||this._isCanceled){return}this._isCanceled=true;if(this._cancelHandlers.length>0){try{for(const t of this._cancelHandlers){t()}}catch(t){this._reject(t);return}}if(this._rejectOnCancel){this._reject(new CancelError(t))}}get isCanceled(){return this._isCanceled}}Object.setPrototypeOf(PCancelable.prototype,Promise.prototype);function isRequest(t){return he.object(t)&&"_onResponse"in t}class RequestError extends Error{constructor(t,r,i){super(t);Object.defineProperty(this,"input",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"code",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"stack",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"response",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"request",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"timings",{enumerable:true,configurable:true,writable:true,value:void 0});Error.captureStackTrace(this,this.constructor);this.name="RequestError";this.code=r.code??"ERR_GOT_REQUEST_ERROR";this.input=r.input;if(isRequest(i)){Object.defineProperty(this,"request",{enumerable:false,value:i});Object.defineProperty(this,"response",{enumerable:false,value:i.response});this.options=i.options}else{this.options=i}this.timings=this.request?.timings;if(he.string(r.stack)&&he.string(this.stack)){const t=this.stack.indexOf(this.message)+this.message.length;const i=this.stack.slice(t).split("\n").reverse();const o=r.stack.slice(r.stack.indexOf(r.message)+r.message.length).split("\n").reverse();while(o.length>0&&o[0]===i[0]){i.shift()}this.stack=`${this.stack.slice(0,t)}${i.reverse().join("\n")}${o.reverse().join("\n")}`}}}class MaxRedirectsError extends RequestError{constructor(t){super(`Redirected ${t.options.maxRedirects} times. Aborting.`,{},t);this.name="MaxRedirectsError";this.code="ERR_TOO_MANY_REDIRECTS"}}class HTTPError extends RequestError{constructor(t){super(`Response code ${t.statusCode} (${t.statusMessage})`,{},t.request);this.name="HTTPError";this.code="ERR_NON_2XX_3XX_RESPONSE"}}class CacheError extends RequestError{constructor(t,r){super(t.message,t,r);this.name="CacheError";this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}}class UploadError extends RequestError{constructor(t,r){super(t.message,t,r);this.name="UploadError";this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}}class TimeoutError extends RequestError{constructor(t,r,i){super(t.message,t,i);Object.defineProperty(this,"timings",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"event",{enumerable:true,configurable:true,writable:true,value:void 0});this.name="TimeoutError";this.event=t.event;this.timings=r}}class ReadError extends RequestError{constructor(t,r){super(t.message,t,r);this.name="ReadError";this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}}class RetryError extends RequestError{constructor(t){super("Retrying",{},t);this.name="RetryError";this.code="ERR_RETRYING"}}class AbortError extends RequestError{constructor(t){super("This operation was aborted.",{},t);this.code="ERR_ABORTED";this.name="AbortError"}}const fe=require("node:buffer");const de=require("node:stream");const pe=require("node:url");const me=require("node:http");var ge=i(2361);var ye=i(3837);var be=i(8985);const timer=t=>{if(t.timings){return t.timings}const r={start:Date.now(),socket:undefined,lookup:undefined,connect:undefined,secureConnect:undefined,upload:undefined,response:undefined,end:undefined,error:undefined,abort:undefined,phases:{wait:undefined,dns:undefined,tcp:undefined,tls:undefined,request:undefined,firstByte:undefined,download:undefined,total:undefined}};t.timings=r;const handleError=t=>{t.once(ge.errorMonitor,(()=>{r.error=Date.now();r.phases.total=r.error-r.start}))};handleError(t);const onAbort=()=>{r.abort=Date.now();r.phases.total=r.abort-r.start};t.prependOnceListener("abort",onAbort);const onSocket=t=>{r.socket=Date.now();r.phases.wait=r.socket-r.start;if(ye.types.isProxy(t)){return}const lookupListener=()=>{r.lookup=Date.now();r.phases.dns=r.lookup-r.socket};t.prependOnceListener("lookup",lookupListener);be(t,{connect:()=>{r.connect=Date.now();if(r.lookup===undefined){t.removeListener("lookup",lookupListener);r.lookup=r.connect;r.phases.dns=r.lookup-r.socket}r.phases.tcp=r.connect-r.lookup},secureConnect:()=>{r.secureConnect=Date.now();r.phases.tls=r.secureConnect-r.connect}})};if(t.socket){onSocket(t.socket)}else{t.prependOnceListener("socket",onSocket)}const onUpload=()=>{r.upload=Date.now();r.phases.request=r.upload-(r.secureConnect??r.connect)};if(t.writableFinished){onUpload()}else{t.prependOnceListener("finish",onUpload)}t.prependOnceListener("response",(i=>{r.response=Date.now();r.phases.firstByte=r.response-r.upload;i.timings=r;handleError(i);i.prependOnceListener("end",(()=>{t.off("abort",onAbort);i.off("aborted",onAbort);if(r.phases.total){return}r.end=Date.now();r.phases.download=r.end-r.response;r.phases.total=r.end-r.start}));i.prependOnceListener("aborted",onAbort)}));return r};const ve=timer;const we=require("node:crypto");const _e="text/plain";const Ee="us-ascii";const testParameter=(t,r)=>r.some((r=>r instanceof RegExp?r.test(t):r===t));const normalizeDataURL=(t,{stripHash:r})=>{const i=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!i){throw new Error(`Invalid URL: ${t}`)}let{type:o,data:a,hash:c}=i.groups;const l=o.split(";");c=r?"":c;let h=false;if(l[l.length-1]==="base64"){l.pop();h=true}const u=(l.shift()||"").toLowerCase();const d=l.map((t=>{let[r,i=""]=t.split("=").map((t=>t.trim()));if(r==="charset"){i=i.toLowerCase();if(i===Ee){return""}}return`${r}${i?`=${i}`:""}`})).filter(Boolean);const p=[...d];if(h){p.push("base64")}if(p.length>0||u&&u!==_e){p.unshift(u)}return`data:${p.join(";")},${h?a.trim():a}${c?`#${c}`:""}`};function normalizeUrl(t,r){r={defaultProtocol:"http:",normalizeProtocol:true,forceHttp:false,forceHttps:false,stripAuthentication:true,stripHash:false,stripTextFragment:true,stripWWW:true,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:true,removeSingleSlash:true,removeDirectoryIndex:false,removeExplicitPort:false,sortQueryParameters:true,...r};t=t.trim();if(/^data:/i.test(t)){return normalizeDataURL(t,r)}if(/^view-source:/i.test(t)){throw new Error("`view-source:` is not supported as it is a non-standard protocol")}const i=t.startsWith("//");const o=!i&&/^\.*\//.test(t);if(!o){t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,r.defaultProtocol)}const a=new URL(t);if(r.forceHttp&&r.forceHttps){throw new Error("The `forceHttp` and `forceHttps` options cannot be used together")}if(r.forceHttp&&a.protocol==="https:"){a.protocol="http:"}if(r.forceHttps&&a.protocol==="http:"){a.protocol="https:"}if(r.stripAuthentication){a.username="";a.password=""}if(r.stripHash){a.hash=""}else if(r.stripTextFragment){a.hash=a.hash.replace(/#?:~:text.*?$/i,"")}if(a.pathname){const t=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let r=0;let i="";for(;;){const o=t.exec(a.pathname);if(!o){break}const c=o[0];const l=o.index;const h=a.pathname.slice(r,l);i+=h.replace(/\/{2,}/g,"/");i+=c;r=l+c.length}const o=a.pathname.slice(r,a.pathname.length);i+=o.replace(/\/{2,}/g,"/");a.pathname=i}if(a.pathname){try{a.pathname=decodeURI(a.pathname)}catch{}}if(r.removeDirectoryIndex===true){r.removeDirectoryIndex=[/^index\.[a-z]+$/]}if(Array.isArray(r.removeDirectoryIndex)&&r.removeDirectoryIndex.length>0){let t=a.pathname.split("/");const i=t[t.length-1];if(testParameter(i,r.removeDirectoryIndex)){t=t.slice(0,-1);a.pathname=t.slice(1).join("/")+"/"}}if(a.hostname){a.hostname=a.hostname.replace(/\.$/,"");if(r.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(a.hostname)){a.hostname=a.hostname.replace(/^www\./,"")}}if(Array.isArray(r.removeQueryParameters)){for(const t of[...a.searchParams.keys()]){if(testParameter(t,r.removeQueryParameters)){a.searchParams.delete(t)}}}if(!Array.isArray(r.keepQueryParameters)&&r.removeQueryParameters===true){a.search=""}if(Array.isArray(r.keepQueryParameters)&&r.keepQueryParameters.length>0){for(const t of[...a.searchParams.keys()]){if(!testParameter(t,r.keepQueryParameters)){a.searchParams.delete(t)}}}if(r.sortQueryParameters){a.searchParams.sort();try{a.search=decodeURIComponent(a.search)}catch{}}if(r.removeTrailingSlash){a.pathname=a.pathname.replace(/\/$/,"")}if(r.removeExplicitPort&&a.port){a.port=""}const c=t;t=a.toString();if(!r.removeSingleSlash&&a.pathname==="/"&&!c.endsWith("/")&&a.hash===""){t=t.replace(/\/$/,"")}if((r.removeTrailingSlash||a.pathname==="/")&&a.hash===""&&r.removeSingleSlash){t=t.replace(/\/$/,"")}if(i&&!r.normalizeProtocol){t=t.replace(/^http:\/\//,"//")}if(r.stripProtocol){t=t.replace(/^(?:https?:)?\/\//,"")}return t}var Se=i(367);var Oe=i(1454);function lowercaseKeys(t){return Object.fromEntries(Object.entries(t).map((([t,r])=>[t.toLowerCase(),r])))}class Response extends de.Readable{statusCode;headers;body;url;constructor({statusCode:t,headers:r,body:i,url:o}){if(typeof t!=="number"){throw new TypeError("Argument `statusCode` should be a number")}if(typeof r!=="object"){throw new TypeError("Argument `headers` should be an object")}if(!(i instanceof Uint8Array)){throw new TypeError("Argument `body` should be a buffer")}if(typeof o!=="string"){throw new TypeError("Argument `url` should be a string")}super({read(){this.push(i);this.push(null)}});this.statusCode=t;this.headers=lowercaseKeys(r);this.body=i;this.url=o}}var xe=i(1187);const Re=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];function mimicResponse(t,r){if(r._readableState.autoDestroy){throw new Error("The second stream must have the `autoDestroy` option set to `false`")}const i=new Set([...Object.keys(t),...Re]);const o={};for(const a of i){if(a in r){continue}o[a]={get(){const r=t[a];const i=typeof r==="function";return i?r.bind(t):r},set(r){t[a]=r},enumerable:true,configurable:false}}Object.defineProperties(r,o);t.once("aborted",(()=>{r.destroy();r.emit("aborted")}));t.once("close",(()=>{if(t.complete){if(r.readable){r.once("end",(()=>{r.emit("close")}))}else{r.emit("close")}}else{r.emit("close")}}));return r}class types_RequestError extends Error{constructor(t){super(t.message);Object.assign(this,t)}}class types_CacheError extends Error{constructor(t){super(t.message);Object.assign(this,t)}}class CacheableRequest{constructor(t,r){this.hooks=new Map;this.request=()=>(t,r)=>{let i;if(typeof t==="string"){i=normalizeUrlObject(pe.parse(t));t={}}else if(t instanceof pe.URL){i=normalizeUrlObject(pe.parse(t.toString()));t={}}else{const[r,...o]=(t.path??"").split("?");const a=o.length>0?`?${o.join("?")}`:"";i=normalizeUrlObject({...t,pathname:r,search:a})}t={headers:{},method:"GET",cache:true,strictTtl:false,automaticFailover:false,...t,...urlObjectToRequestOptions(i)};t.headers=Object.fromEntries(Te(t.headers).map((([t,r])=>[t.toLowerCase(),r])));const o=new ue;const a=normalizeUrl(pe.format(i),{stripWWW:false,removeTrailingSlash:false,stripAuthentication:false});let c=`${t.method}:${a}`;if(t.body&&t.method!==undefined&&["POST","PATCH","PUT"].includes(t.method)){if(t.body instanceof de.Readable){t.cache=false}else{c+=`:${we.createHash("md5").update(t.body).digest("hex")}`}}let l=false;let h=false;const makeRequest=t=>{h=true;let i=false;let requestErrorCallback=()=>{};const a=new Promise((t=>{requestErrorCallback=()=>{if(!i){i=true;t()}}}));const handler=async i=>{if(l){i.status=i.statusCode;const r=Oe.fromObject(l.cachePolicy).revalidatedPolicy(t,i);if(!r.modified){i.resume();await new Promise((t=>{i.once("end",t)}));const t=convertHeaders(r.policy.responseHeaders());i=new Response({statusCode:l.statusCode,headers:t,body:l.body,url:l.url});i.cachePolicy=r.policy;i.fromCache=true}}if(!i.fromCache){i.cachePolicy=new Oe(t,i,t);i.fromCache=false}let h;if(t.cache&&i.cachePolicy.storable()){h=cloneResponse(i);(async()=>{try{const r=Se.buffer(i);await Promise.race([a,new Promise((t=>i.once("end",t)))]);const o=await r;let h={url:i.url,statusCode:i.fromCache?l.statusCode:i.statusCode,body:o,cachePolicy:i.cachePolicy.toObject()};let u=t.strictTtl?i.cachePolicy.timeToLive():undefined;if(t.maxTtl){u=u?Math.min(u,t.maxTtl):t.maxTtl}if(this.hooks.size>0){for(const t of this.hooks.keys()){h=await this.runHook(t,h,i)}}await this.cache.set(c,h,u)}catch(t){o.emit("error",new types_CacheError(t))}})()}else if(t.cache&&l){(async()=>{try{await this.cache.delete(c)}catch(t){o.emit("error",new types_CacheError(t))}})()}o.emit("response",h??i);if(typeof r==="function"){r(h??i)}};try{const r=this.cacheRequest(t,handler);r.once("error",requestErrorCallback);r.once("abort",requestErrorCallback);o.emit("request",r)}catch(t){o.emit("error",new types_RequestError(t))}};(async()=>{const get=async t=>{await Promise.resolve();const i=t.cache?await this.cache.get(c):undefined;if(typeof i==="undefined"&&!t.forceRefresh){makeRequest(t);return}const a=Oe.fromObject(i.cachePolicy);if(a.satisfiesWithoutRevalidation(t)&&!t.forceRefresh){const t=convertHeaders(a.responseHeaders());const c=new Response({statusCode:i.statusCode,headers:t,body:i.body,url:i.url});c.cachePolicy=a;c.fromCache=true;o.emit("response",c);if(typeof r==="function"){r(c)}}else if(a.satisfiesWithoutRevalidation(t)&&Date.now()>=a.timeToLive()&&t.forceRefresh){await this.cache.delete(c);t.headers=a.revalidationHeaders(t);makeRequest(t)}else{l=i;t.headers=a.revalidationHeaders(t);makeRequest(t)}};const errorHandler=t=>o.emit("error",new types_CacheError(t));if(this.cache instanceof xe){const t=this.cache;t.once("error",errorHandler);o.on("error",(()=>t.removeListener("error",errorHandler)))}try{await get(t)}catch(r){if(t.automaticFailover&&!h){makeRequest(t)}o.emit("error",new types_CacheError(r))}})();return o};this.addHook=(t,r)=>{if(!this.hooks.has(t)){this.hooks.set(t,r)}};this.removeHook=t=>this.hooks.delete(t);this.getHook=t=>this.hooks.get(t);this.runHook=async(t,...r)=>this.hooks.get(t)?.(...r);if(r instanceof xe){this.cache=r}else if(typeof r==="string"){this.cache=new xe({uri:r,namespace:"cacheable-request"})}else{this.cache=new xe({store:r,namespace:"cacheable-request"})}this.request=this.request.bind(this);this.cacheRequest=t}}const Te=Object.entries;const cloneResponse=t=>{const r=new de.PassThrough({autoDestroy:false});mimicResponse(t,r);return t.pipe(r)};const urlObjectToRequestOptions=t=>{const r={...t};r.path=`${t.pathname||"/"}${t.search||""}`;delete r.pathname;delete r.search;return r};const normalizeUrlObject=t=>({protocol:t.protocol,auth:t.auth,hostname:t.hostname||t.host||"localhost",port:t.port,pathname:t.pathname,search:t.search});const convertHeaders=t=>{const r=[];for(const i of Object.keys(t)){r[i.toLowerCase()]=t[i]}return r};const ke=CacheableRequest;const Ae="onResponse";var Ce=i(2269);const isFunction=t=>typeof t==="function";const isFormData=t=>Boolean(t&&isFunction(t.constructor)&&t[Symbol.toStringTag]==="FormData"&&isFunction(t.append)&&isFunction(t.getAll)&&isFunction(t.entries)&&isFunction(t[Symbol.iterator]));const Pe="abcdefghijklmnopqrstuvwxyz0123456789";function createBoundary(){let t=16;let r="";while(t--){r+=Pe[Math.random()*Pe.length<<0]}return r}const normalizeValue=t=>String(t).replace(/\r|\n/g,((t,r,i)=>{if(t==="\r"&&i[r+1]!=="\n"||t==="\n"&&i[r-1]!=="\r"){return"\r\n"}return t}));const getType=t=>Object.prototype.toString.call(t).slice(8,-1).toLowerCase();function isPlainObject(t){if(getType(t)!=="object"){return false}const r=Object.getPrototypeOf(t);if(r===null||r===undefined){return true}const i=r.constructor&&r.constructor.toString();return i===Object.toString()}function getProperty(t,r){if(typeof r==="string"){for(const[i,o]of Object.entries(t)){if(r.toLowerCase()===i.toLowerCase()){return o}}}return undefined}const proxyHeaders=t=>new Proxy(t,{get:(t,r)=>getProperty(t,r),has:(t,r)=>getProperty(t,r)!==undefined});const escapeName=t=>String(t).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22");const isFile=t=>Boolean(t&&typeof t==="object"&&isFunction(t.constructor)&&t[Symbol.toStringTag]==="File"&&isFunction(t.stream)&&t.name!=null);const Ie=null&&isFile;var Ne=undefined&&undefined.__classPrivateFieldSet||function(t,r,i,o,a){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof r==="function"?t!==r||!a:!r.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?a.call(t,i):a?a.value=i:r.set(t,i),i};var Le=undefined&&undefined.__classPrivateFieldGet||function(t,r,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof r==="function"?t!==r||!o:!r.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:r.get(t)};var Me,$e,je,De,Fe,He,Be,Ue,qe,Ge,ze;const Ve={enableAdditionalHeaders:false};const Ye={writable:false,configurable:false};class FormDataEncoder{constructor(t,r,i){Me.add(this);$e.set(this,"\r\n");je.set(this,void 0);De.set(this,void 0);Fe.set(this,"-".repeat(2));He.set(this,new TextEncoder);Be.set(this,void 0);Ue.set(this,void 0);qe.set(this,void 0);if(!isFormData(t)){throw new TypeError("Expected first argument to be a FormData instance.")}let o;if(isPlainObject(r)){i=r}else{o=r}if(!o){o=createBoundary()}if(typeof o!=="string"){throw new TypeError("Expected boundary argument to be a string.")}if(i&&!isPlainObject(i)){throw new TypeError("Expected options argument to be an object.")}Ne(this,Ue,Array.from(t.entries()),"f");Ne(this,qe,{...Ve,...i},"f");Ne(this,je,Le(this,He,"f").encode(Le(this,$e,"f")),"f");Ne(this,De,Le(this,je,"f").byteLength,"f");this.boundary=`form-data-boundary-${o}`;this.contentType=`multipart/form-data; boundary=${this.boundary}`;Ne(this,Be,Le(this,He,"f").encode(`${Le(this,Fe,"f")}${this.boundary}${Le(this,Fe,"f")}${Le(this,$e,"f").repeat(2)}`),"f");const a={"Content-Type":this.contentType};const c=Le(this,Me,"m",ze).call(this);if(c){this.contentLength=c;a["Content-Length"]=c}this.headers=proxyHeaders(Object.freeze(a));Object.defineProperties(this,{boundary:Ye,contentType:Ye,contentLength:Ye,headers:Ye})}getContentLength(){return this.contentLength==null?undefined:Number(this.contentLength)}*values(){for(const[t,r]of Le(this,Ue,"f")){const i=isFile(r)?r:Le(this,He,"f").encode(normalizeValue(r));yield Le(this,Me,"m",Ge).call(this,t,i);yield i;yield Le(this,je,"f")}yield Le(this,Be,"f")}async*encode(){for(const t of this.values()){if(isFile(t)){yield*t.stream()}else{yield t}}}[($e=new WeakMap,je=new WeakMap,De=new WeakMap,Fe=new WeakMap,He=new WeakMap,Be=new WeakMap,Ue=new WeakMap,qe=new WeakMap,Me=new WeakSet,Ge=function _FormDataEncoder_getFieldHeader(t,r){let i="";i+=`${Le(this,Fe,"f")}${this.boundary}${Le(this,$e,"f")}`;i+=`Content-Disposition: form-data; name="${escapeName(t)}"`;if(isFile(r)){i+=`; filename="${escapeName(r.name)}"${Le(this,$e,"f")}`;i+=`Content-Type: ${r.type||"application/octet-stream"}`}const o=isFile(r)?r.size:r.byteLength;if(Le(this,qe,"f").enableAdditionalHeaders===true&&o!=null&&!isNaN(o)){i+=`${Le(this,$e,"f")}Content-Length: ${isFile(r)?r.size:r.byteLength}`}return Le(this,He,"f").encode(`${i}${Le(this,$e,"f").repeat(2)}`)},ze=function _FormDataEncoder_getContentLength(){let t=0;for(const[r,i]of Le(this,Ue,"f")){const o=isFile(i)?i:Le(this,He,"f").encode(normalizeValue(i));const a=isFile(o)?o.size:o.byteLength;if(a==null||isNaN(a)){return undefined}t+=Le(this,Me,"m",Ge).call(this,r,o).byteLength;t+=a;t+=Le(this,De,"f")}return String(t+Le(this,Be,"f").byteLength)},Symbol.iterator)](){return this.values()}[Symbol.asyncIterator](){return this.encode()}}const We=require("node:util");function is_form_data_isFormData(t){return he.nodeStream(t)&&he.function_(t.getBoundary)}async function getBodySize(t,r){if(r&&"content-length"in r){return Number(r["content-length"])}if(!t){return 0}if(he.string(t)){return fe.Buffer.byteLength(t)}if(he.buffer(t)){return t.length}if(is_form_data_isFormData(t)){return(0,We.promisify)(t.getLength.bind(t))()}return undefined}function proxyEvents(t,r,i){const o={};for(const a of i){const eventFunction=(...t)=>{r.emit(a,...t)};o[a]=eventFunction;t.on(a,eventFunction)}return()=>{for(const[r,i]of Object.entries(o)){t.off(r,i)}}}const Ze=require("node:net");function unhandle(){const t=[];return{once(r,i,o){r.once(i,o);t.push({origin:r,event:i,fn:o})},unhandleAll(){for(const r of t){const{origin:t,event:i,fn:o}=r;t.removeListener(i,o)}t.length=0}}}const Je=Symbol("reentry");const noop=()=>{};class timed_out_TimeoutError extends Error{constructor(t,r){super(`Timeout awaiting '${r}' for ${t}ms`);Object.defineProperty(this,"event",{enumerable:true,configurable:true,writable:true,value:r});Object.defineProperty(this,"code",{enumerable:true,configurable:true,writable:true,value:void 0});this.name="TimeoutError";this.code="ETIMEDOUT"}}function timedOut(t,r,i){if(Je in t){return noop}t[Je]=true;const o=[];const{once:a,unhandleAll:c}=unhandle();const addTimeout=(t,r,i)=>{const a=setTimeout(r,t,t,i);a.unref?.();const cancel=()=>{clearTimeout(a)};o.push(cancel);return cancel};const{host:l,hostname:h}=i;const timeoutHandler=(r,i)=>{t.destroy(new timed_out_TimeoutError(r,i))};const cancelTimeouts=()=>{for(const t of o){t()}c()};t.once("error",(r=>{cancelTimeouts();if(t.listenerCount("error")===0){throw r}}));if(typeof r.request!=="undefined"){const i=addTimeout(r.request,timeoutHandler,"request");a(t,"response",(t=>{a(t,"end",i)}))}if(typeof r.socket!=="undefined"){const{socket:i}=r;const socketTimeoutHandler=()=>{timeoutHandler(i,"socket")};t.setTimeout(i,socketTimeoutHandler);o.push((()=>{t.removeListener("timeout",socketTimeoutHandler)}))}const u=typeof r.lookup!=="undefined";const d=typeof r.connect!=="undefined";const p=typeof r.secureConnect!=="undefined";const m=typeof r.send!=="undefined";if(u||d||p||m){a(t,"socket",(o=>{const{socketPath:c}=t;if(o.connecting){const t=Boolean(c??Ze.isIP(h??l??"")!==0);if(u&&!t&&typeof o.address().address==="undefined"){const t=addTimeout(r.lookup,timeoutHandler,"lookup");a(o,"lookup",t)}if(d){const timeConnect=()=>addTimeout(r.connect,timeoutHandler,"connect");if(t){a(o,"connect",timeConnect())}else{a(o,"lookup",(t=>{if(t===null){a(o,"connect",timeConnect())}}))}}if(p&&i.protocol==="https:"){a(o,"connect",(()=>{const t=addTimeout(r.secureConnect,timeoutHandler,"secureConnect");a(o,"secureConnect",t)}))}}if(m){const timeRequest=()=>addTimeout(r.send,timeoutHandler,"send");if(o.connecting){a(o,"connect",(()=>{a(t,"upload-complete",timeRequest())}))}else{a(t,"upload-complete",timeRequest())}}}))}if(typeof r.response!=="undefined"){a(t,"upload-complete",(()=>{const i=addTimeout(r.response,timeoutHandler,"response");a(t,"response",i)}))}if(typeof r.read!=="undefined"){a(t,"response",(t=>{const i=addTimeout(r.read,timeoutHandler,"read");a(t,"end",i)}))}return cancelTimeouts}function urlToOptions(t){t=t;const r={protocol:t.protocol,hostname:he.string(t.hostname)&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};if(he.string(t.port)&&t.port.length>0){r.port=Number(t.port)}if(t.username||t.password){r.auth=`${t.username||""}:${t.password||""}`}return r}class WeakableMap{constructor(){Object.defineProperty(this,"weakMap",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"map",{enumerable:true,configurable:true,writable:true,value:void 0});this.weakMap=new WeakMap;this.map=new Map}set(t,r){if(typeof t==="object"){this.weakMap.set(t,r)}else{this.map.set(t,r)}}get(t){if(typeof t==="object"){return this.weakMap.get(t)}return this.map.get(t)}has(t){if(typeof t==="object"){return this.weakMap.has(t)}return this.map.has(t)}}const calculateRetryDelay=({attemptCount:t,retryOptions:r,error:i,retryAfter:o,computedValue:a})=>{if(i.name==="RetryError"){return 1}if(t>r.limit){return 0}const c=r.methods.includes(i.options.method);const l=r.errorCodes.includes(i.code);const h=i.response&&r.statusCodes.includes(i.response.statusCode);if(!c||!l&&!h){return 0}if(i.response){if(o){if(o>a){return 0}return o}if(i.response.statusCode===413){return 0}}const u=Math.random()*r.noise;return Math.min(2**(t-1)*1e3,r.backoffLimit)+u};const Xe=calculateRetryDelay;const Ke=require("node:tls");const Qe=require("node:https");const et=require("node:dns");const{Resolver:tt}=et.promises;const st=Symbol("cacheableLookupCreateConnection");const rt=Symbol("cacheableLookupInstance");const it=Symbol("expires");const nt=typeof et.ALL==="number";const verifyAgent=t=>{if(!(t&&typeof t.createConnection==="function")){throw new Error("Expected an Agent instance as the first argument")}};const map4to6=t=>{for(const r of t){if(r.family===6){continue}r.address=`::ffff:${r.address}`;r.family=6}};const getIfaceInfo=()=>{let t=false;let r=false;for(const i of Object.values(g.networkInterfaces())){for(const o of i){if(o.internal){continue}if(o.family==="IPv6"){r=true}else{t=true}if(t&&r){return{has4:t,has6:r}}}}return{has4:t,has6:r}};const isIterable=t=>Symbol.iterator in t;const ignoreNoResultErrors=t=>t.catch((t=>{if(t.code==="ENODATA"||t.code==="ENOTFOUND"||t.code==="ENOENT"){return[]}throw t}));const ot={ttl:true};const at={all:true};const ct={all:true,family:4};const ht={all:true,family:6};class CacheableLookup{constructor({cache:t=new Map,maxTtl:r=Infinity,fallbackDuration:i=3600,errorTtl:o=.15,resolver:a=new tt,lookup:c=et.lookup}={}){this.maxTtl=r;this.errorTtl=o;this._cache=t;this._resolver=a;this._dnsLookup=c&&(0,We.promisify)(c);this.stats={cache:0,query:0};if(this._resolver instanceof tt){this._resolve4=this._resolver.resolve4.bind(this._resolver);this._resolve6=this._resolver.resolve6.bind(this._resolver)}else{this._resolve4=(0,We.promisify)(this._resolver.resolve4.bind(this._resolver));this._resolve6=(0,We.promisify)(this._resolver.resolve6.bind(this._resolver))}this._iface=getIfaceInfo();this._pending={};this._nextRemovalTime=false;this._hostnamesToFallback=new Set;this.fallbackDuration=i;if(i>0){const t=setInterval((()=>{this._hostnamesToFallback.clear()}),i*1e3);if(t.unref){t.unref()}this._fallbackInterval=t}this.lookup=this.lookup.bind(this);this.lookupAsync=this.lookupAsync.bind(this)}set servers(t){this.clear();this._resolver.setServers(t)}get servers(){return this._resolver.getServers()}lookup(t,r,i){if(typeof r==="function"){i=r;r={}}else if(typeof r==="number"){r={family:r}}if(!i){throw new Error("Callback must be a function.")}this.lookupAsync(t,r).then((t=>{if(r.all){i(null,t)}else{i(null,t.address,t.family,t.expires,t.ttl,t.source)}}),i)}async lookupAsync(t,r={}){if(typeof r==="number"){r={family:r}}let i=await this.query(t);if(r.family===6){const t=i.filter((t=>t.family===6));if(r.hints&et.V4MAPPED){if(nt&&r.hints&et.ALL||t.length===0){map4to6(i)}else{i=t}}else{i=t}}else if(r.family===4){i=i.filter((t=>t.family===4))}if(r.hints&et.ADDRCONFIG){const{_iface:t}=this;i=i.filter((r=>r.family===6?t.has6:t.has4))}if(i.length===0){const r=new Error(`cacheableLookup ENOTFOUND ${t}`);r.code="ENOTFOUND";r.hostname=t;throw r}if(r.all){return i}return i[0]}async query(t){let r="cache";let i=await this._cache.get(t);if(i){this.stats.cache++}if(!i){const o=this._pending[t];if(o){this.stats.cache++;i=await o}else{r="query";const o=this.queryAndCache(t);this._pending[t]=o;this.stats.query++;try{i=await o}finally{delete this._pending[t]}}}i=i.map((t=>({...t,source:r})));return i}async _resolve(t){const[r,i]=await Promise.all([ignoreNoResultErrors(this._resolve4(t,ot)),ignoreNoResultErrors(this._resolve6(t,ot))]);let o=0;let a=0;let c=0;const l=Date.now();for(const t of r){t.family=4;t.expires=l+t.ttl*1e3;o=Math.max(o,t.ttl)}for(const t of i){t.family=6;t.expires=l+t.ttl*1e3;a=Math.max(a,t.ttl)}if(r.length>0){if(i.length>0){c=Math.min(o,a)}else{c=o}}else{c=a}return{entries:[...r,...i],cacheTtl:c}}async _lookup(t){try{const[r,i]=await Promise.all([ignoreNoResultErrors(this._dnsLookup(t,ct)),ignoreNoResultErrors(this._dnsLookup(t,ht))]);return{entries:[...r,...i],cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(t,r,i){if(this.maxTtl>0&&i>0){i=Math.min(i,this.maxTtl)*1e3;r[it]=Date.now()+i;try{await this._cache.set(t,r,i)}catch(t){this.lookupAsync=async()=>{const r=new Error("Cache Error. Please recreate the CacheableLookup instance.");r.cause=t;throw r}}if(isIterable(this._cache)){this._tick(i)}}}async queryAndCache(t){if(this._hostnamesToFallback.has(t)){return this._dnsLookup(t,at)}let r=await this._resolve(t);if(r.entries.length===0&&this._dnsLookup){r=await this._lookup(t);if(r.entries.length!==0&&this.fallbackDuration>0){this._hostnamesToFallback.add(t)}}const i=r.entries.length===0?this.errorTtl:r.cacheTtl;await this._set(t,r.entries,i);return r.entries}_tick(t){const r=this._nextRemovalTime;if(!r||t<r){clearTimeout(this._removalTimeout);this._nextRemovalTime=t;this._removalTimeout=setTimeout((()=>{this._nextRemovalTime=false;let t=Infinity;const r=Date.now();for(const[i,o]of this._cache){const a=o[it];if(r>=a){this._cache.delete(i)}else if(a<t){t=a}}if(t!==Infinity){this._tick(t-r)}}),t);if(this._removalTimeout.unref){this._removalTimeout.unref()}}}install(t){verifyAgent(t);if(st in t){throw new Error("CacheableLookup has been already installed")}t[st]=t.createConnection;t[rt]=this;t.createConnection=(r,i)=>{if(!("lookup"in r)){r.lookup=this.lookup}return t[st](r,i)}}uninstall(t){verifyAgent(t);if(t[st]){if(t[rt]!==this){throw new Error("The agent is not owned by this CacheableLookup instance")}t.createConnection=t[st];delete t[st];delete t[rt]}}updateInterfaceInfo(){const{_iface:t}=this;this._iface=getIfaceInfo();if(t.has4&&!this._iface.has4||t.has6&&!this._iface.has6){this._cache.clear()}}clear(t){if(t){this._cache.delete(t);return}this._cache.clear()}}var ut=i(5767);function parseLinkHeader(t){const r=[];const i=t.split(",");for(const o of i){const[i,...a]=o.split(";");const c=i.trim();if(c[0]!=="<"||c[c.length-1]!==">"){throw new Error(`Invalid format of the Link header reference: ${c}`)}const l=c.slice(1,-1);const h={};if(a.length===0){throw new Error(`Unexpected end of Link header parameters: ${a.join(";")}`)}for(const r of a){const i=r.trim();const o=i.indexOf("=");if(o===-1){throw new Error(`Failed to parse Link header: ${t}`)}const a=i.slice(0,o).trim();const c=i.slice(o+1).trim();h[a]=c}r.push({reference:l,parameters:h})}return r}const[ft,dt]=m.versions.node.split(".").map(Number);function validateSearchParameters(t){for(const r in t){const i=t[r];le.any([he.string,he.number,he.boolean,he.null_,he.undefined],i)}}const pt=new Map;let mt;const getGlobalDnsCache=()=>{if(mt){return mt}mt=new CacheableLookup;return mt};const yt={request:undefined,agent:{http:undefined,https:undefined,http2:undefined},h2session:undefined,decompress:true,timeout:{connect:undefined,lookup:undefined,read:undefined,request:undefined,response:undefined,secureConnect:undefined,send:undefined,socket:undefined},prefixUrl:"",body:undefined,form:undefined,json:undefined,cookieJar:undefined,ignoreInvalidCookies:false,searchParams:undefined,dnsLookup:undefined,dnsCache:undefined,context:{},hooks:{init:[],beforeRequest:[],beforeError:[],beforeRedirect:[],beforeRetry:[],afterResponse:[]},followRedirect:true,maxRedirects:10,cache:undefined,throwHttpErrors:true,username:"",password:"",http2:false,allowGetBody:false,headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},methodRewriting:false,dnsLookupIpVersion:undefined,parseJson:JSON.parse,stringifyJson:JSON.stringify,retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:undefined,calculateDelay:({computedValue:t})=>t,backoffLimit:Number.POSITIVE_INFINITY,noise:100},localAddress:undefined,method:"GET",createConnection:undefined,cacheOptions:{shared:undefined,cacheHeuristic:undefined,immutableMinTimeToLive:undefined,ignoreCargoCult:undefined},https:{alpnProtocols:undefined,rejectUnauthorized:undefined,checkServerIdentity:undefined,certificateAuthority:undefined,key:undefined,certificate:undefined,passphrase:undefined,pfx:undefined,ciphers:undefined,honorCipherOrder:undefined,minVersion:undefined,maxVersion:undefined,signatureAlgorithms:undefined,tlsSessionLifetime:undefined,dhparam:undefined,ecdhCurve:undefined,certificateRevocationLists:undefined},encoding:undefined,resolveBodyOnly:false,isStream:false,responseType:"text",url:undefined,pagination:{transform(t){if(t.request.options.responseType==="json"){return t.body}return JSON.parse(t.body)},paginate({response:t}){const r=t.headers.link;if(typeof r!=="string"||r.trim()===""){return false}const i=parseLinkHeader(r);const o=i.find((t=>t.parameters.rel==="next"||t.parameters.rel==='"next"'));if(o){return{url:new pe.URL(o.reference,t.url)}}return false},filter:()=>true,shouldContinue:()=>true,countLimit:Number.POSITIVE_INFINITY,backoff:0,requestLimit:1e4,stackAllItems:false},setHost:true,maxHeaderSize:undefined,signal:undefined,enableUnixSockets:true};const cloneInternals=t=>{const{hooks:r,retry:i}=t;const o={...t,context:{...t.context},cacheOptions:{...t.cacheOptions},https:{...t.https},agent:{...t.agent},headers:{...t.headers},retry:{...i,errorCodes:[...i.errorCodes],methods:[...i.methods],statusCodes:[...i.statusCodes]},timeout:{...t.timeout},hooks:{init:[...r.init],beforeRequest:[...r.beforeRequest],beforeError:[...r.beforeError],beforeRedirect:[...r.beforeRedirect],beforeRetry:[...r.beforeRetry],afterResponse:[...r.afterResponse]},searchParams:t.searchParams?new pe.URLSearchParams(t.searchParams):undefined,pagination:{...t.pagination}};if(o.url!==undefined){o.prefixUrl=""}return o};const cloneRaw=t=>{const{hooks:r,retry:i}=t;const o={...t};if(he.object(t.context)){o.context={...t.context}}if(he.object(t.cacheOptions)){o.cacheOptions={...t.cacheOptions}}if(he.object(t.https)){o.https={...t.https}}if(he.object(t.cacheOptions)){o.cacheOptions={...o.cacheOptions}}if(he.object(t.agent)){o.agent={...t.agent}}if(he.object(t.headers)){o.headers={...t.headers}}if(he.object(i)){o.retry={...i};if(he.array(i.errorCodes)){o.retry.errorCodes=[...i.errorCodes]}if(he.array(i.methods)){o.retry.methods=[...i.methods]}if(he.array(i.statusCodes)){o.retry.statusCodes=[...i.statusCodes]}}if(he.object(t.timeout)){o.timeout={...t.timeout}}if(he.object(r)){o.hooks={...r};if(he.array(r.init)){o.hooks.init=[...r.init]}if(he.array(r.beforeRequest)){o.hooks.beforeRequest=[...r.beforeRequest]}if(he.array(r.beforeError)){o.hooks.beforeError=[...r.beforeError]}if(he.array(r.beforeRedirect)){o.hooks.beforeRedirect=[...r.beforeRedirect]}if(he.array(r.beforeRetry)){o.hooks.beforeRetry=[...r.beforeRetry]}if(he.array(r.afterResponse)){o.hooks.afterResponse=[...r.afterResponse]}}if(he.object(t.pagination)){o.pagination={...t.pagination}}return o};const getHttp2TimeoutOption=t=>{const r=[t.timeout.socket,t.timeout.connect,t.timeout.lookup,t.timeout.request,t.timeout.secureConnect].filter((t=>typeof t==="number"));if(r.length>0){return Math.min(...r)}return undefined};const init=(t,r,i)=>{const o=t.hooks?.init;if(o){for(const t of o){t(r,i)}}};class Options{constructor(t,r,i){Object.defineProperty(this,"_unixOptions",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_internals",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_merging",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_init",{enumerable:true,configurable:true,writable:true,value:void 0});le.any([he.string,he.urlInstance,he.object,he.undefined],t);le.any([he.object,he.undefined],r);le.any([he.object,he.undefined],i);if(t instanceof Options||r instanceof Options){throw new TypeError("The defaults must be passed as the third argument")}this._internals=cloneInternals(i?._internals??i??yt);this._init=[...i?._init??[]];this._merging=false;this._unixOptions=undefined;try{if(he.plainObject(t)){try{this.merge(t);this.merge(r)}finally{this.url=t.url}}else{try{this.merge(r)}finally{if(r?.url!==undefined){if(t===undefined){this.url=r.url}else{throw new TypeError("The `url` option is mutually exclusive with the `input` argument")}}else if(t!==undefined){this.url=t}}}}catch(t){t.options=this;throw t}}merge(t){if(!t){return}if(t instanceof Options){for(const r of t._init){this.merge(r)}return}t=cloneRaw(t);init(this,t,this);init(t,t,this);this._merging=true;if("isStream"in t){this.isStream=t.isStream}try{let r=false;for(const i in t){if(i==="mutableDefaults"||i==="handlers"){continue}if(i==="url"){continue}if(!(i in this)){throw new Error(`Unexpected option: ${i}`)}this[i]=t[i];r=true}if(r){this._init.push(t)}}finally{this._merging=false}}get request(){return this._internals.request}set request(t){le.any([he.function_,he.undefined],t);this._internals.request=t}get agent(){return this._internals.agent}set agent(t){le.plainObject(t);for(const r in t){if(!(r in this._internals.agent)){throw new TypeError(`Unexpected agent option: ${r}`)}le.any([he.object,he.undefined],t[r])}if(this._merging){Object.assign(this._internals.agent,t)}else{this._internals.agent={...t}}}get h2session(){return this._internals.h2session}set h2session(t){this._internals.h2session=t}get decompress(){return this._internals.decompress}set decompress(t){le.boolean(t);this._internals.decompress=t}get timeout(){return this._internals.timeout}set timeout(t){le.plainObject(t);for(const r in t){if(!(r in this._internals.timeout)){throw new Error(`Unexpected timeout option: ${r}`)}le.any([he.number,he.undefined],t[r])}if(this._merging){Object.assign(this._internals.timeout,t)}else{this._internals.timeout={...t}}}get prefixUrl(){return this._internals.prefixUrl}set prefixUrl(t){le.any([he.string,he.urlInstance],t);if(t===""){this._internals.prefixUrl="";return}t=t.toString();if(!t.endsWith("/")){t+="/"}if(this._internals.prefixUrl&&this._internals.url){const{href:r}=this._internals.url;this._internals.url.href=t+r.slice(this._internals.prefixUrl.length)}this._internals.prefixUrl=t}get body(){return this._internals.body}set body(t){le.any([he.string,he.buffer,he.nodeStream,he.generator,he.asyncGenerator,isFormData,he.undefined],t);if(he.nodeStream(t)){le.truthy(t.readable)}if(t!==undefined){le.undefined(this._internals.form);le.undefined(this._internals.json)}this._internals.body=t}get form(){return this._internals.form}set form(t){le.any([he.plainObject,he.undefined],t);if(t!==undefined){le.undefined(this._internals.body);le.undefined(this._internals.json)}this._internals.form=t}get json(){return this._internals.json}set json(t){if(t!==undefined){le.undefined(this._internals.body);le.undefined(this._internals.form)}this._internals.json=t}get url(){return this._internals.url}set url(t){le.any([he.string,he.urlInstance,he.undefined],t);if(t===undefined){this._internals.url=undefined;return}if(he.string(t)&&t.startsWith("/")){throw new Error("`url` must not start with a slash")}const r=`${this.prefixUrl}${t.toString()}`;const i=new pe.URL(r);this._internals.url=i;decodeURI(r);if(i.protocol==="unix:"){i.href=`http://unix${i.pathname}${i.search}`}if(i.protocol!=="http:"&&i.protocol!=="https:"){const t=new Error(`Unsupported protocol: ${i.protocol}`);t.code="ERR_UNSUPPORTED_PROTOCOL";throw t}if(this._internals.username){i.username=this._internals.username;this._internals.username=""}if(this._internals.password){i.password=this._internals.password;this._internals.password=""}if(this._internals.searchParams){i.search=this._internals.searchParams.toString();this._internals.searchParams=undefined}if(i.hostname==="unix"){if(!this._internals.enableUnixSockets){throw new Error("Using UNIX domain sockets but option `enableUnixSockets` is not enabled")}const t=/(?<socketPath>.+?):(?<path>.+)/.exec(`${i.pathname}${i.search}`);if(t?.groups){const{socketPath:r,path:i}=t.groups;this._unixOptions={socketPath:r,path:i,host:""}}else{this._unixOptions=undefined}return}this._unixOptions=undefined}get cookieJar(){return this._internals.cookieJar}set cookieJar(t){le.any([he.object,he.undefined],t);if(t===undefined){this._internals.cookieJar=undefined;return}let{setCookie:r,getCookieString:i}=t;le.function_(r);le.function_(i);if(r.length===4&&i.length===0){r=(0,We.promisify)(r.bind(t));i=(0,We.promisify)(i.bind(t));this._internals.cookieJar={setCookie:r,getCookieString:i}}else{this._internals.cookieJar=t}}get signal(){return this._internals.signal}set signal(t){le.object(t);this._internals.signal=t}get ignoreInvalidCookies(){return this._internals.ignoreInvalidCookies}set ignoreInvalidCookies(t){le.boolean(t);this._internals.ignoreInvalidCookies=t}get searchParams(){if(this._internals.url){return this._internals.url.searchParams}if(this._internals.searchParams===undefined){this._internals.searchParams=new pe.URLSearchParams}return this._internals.searchParams}set searchParams(t){le.any([he.string,he.object,he.undefined],t);const r=this._internals.url;if(t===undefined){this._internals.searchParams=undefined;if(r){r.search=""}return}const i=this.searchParams;let o;if(he.string(t)){o=new pe.URLSearchParams(t)}else if(t instanceof pe.URLSearchParams){o=t}else{validateSearchParameters(t);o=new pe.URLSearchParams;for(const r in t){const a=t[r];if(a===null){o.append(r,"")}else if(a===undefined){i.delete(r)}else{o.append(r,a)}}}if(this._merging){for(const t of o.keys()){i.delete(t)}for(const[t,r]of o){i.append(t,r)}}else if(r){r.search=i.toString()}else{this._internals.searchParams=i}}get searchParameters(){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}set searchParameters(t){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}get dnsLookup(){return this._internals.dnsLookup}set dnsLookup(t){le.any([he.function_,he.undefined],t);this._internals.dnsLookup=t}get dnsCache(){return this._internals.dnsCache}set dnsCache(t){le.any([he.object,he.boolean,he.undefined],t);if(t===true){this._internals.dnsCache=getGlobalDnsCache()}else if(t===false){this._internals.dnsCache=undefined}else{this._internals.dnsCache=t}}get context(){return this._internals.context}set context(t){le.object(t);if(this._merging){Object.assign(this._internals.context,t)}else{this._internals.context={...t}}}get hooks(){return this._internals.hooks}set hooks(t){le.object(t);for(const r in t){if(!(r in this._internals.hooks)){throw new Error(`Unexpected hook event: ${r}`)}const i=r;const o=t[i];le.any([he.array,he.undefined],o);if(o){for(const t of o){le.function_(t)}}if(this._merging){if(o){this._internals.hooks[i].push(...o)}}else{if(!o){throw new Error(`Missing hook event: ${r}`)}this._internals.hooks[r]=[...o]}}}get followRedirect(){return this._internals.followRedirect}set followRedirect(t){le.boolean(t);this._internals.followRedirect=t}get followRedirects(){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}set followRedirects(t){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}get maxRedirects(){return this._internals.maxRedirects}set maxRedirects(t){le.number(t);this._internals.maxRedirects=t}get cache(){return this._internals.cache}set cache(t){le.any([he.object,he.string,he.boolean,he.undefined],t);if(t===true){this._internals.cache=pt}else if(t===false){this._internals.cache=undefined}else{this._internals.cache=t}}get throwHttpErrors(){return this._internals.throwHttpErrors}set throwHttpErrors(t){le.boolean(t);this._internals.throwHttpErrors=t}get username(){const t=this._internals.url;const r=t?t.username:this._internals.username;return decodeURIComponent(r)}set username(t){le.string(t);const r=this._internals.url;const i=encodeURIComponent(t);if(r){r.username=i}else{this._internals.username=i}}get password(){const t=this._internals.url;const r=t?t.password:this._internals.password;return decodeURIComponent(r)}set password(t){le.string(t);const r=this._internals.url;const i=encodeURIComponent(t);if(r){r.password=i}else{this._internals.password=i}}get http2(){return this._internals.http2}set http2(t){le.boolean(t);this._internals.http2=t}get allowGetBody(){return this._internals.allowGetBody}set allowGetBody(t){le.boolean(t);this._internals.allowGetBody=t}get headers(){return this._internals.headers}set headers(t){le.plainObject(t);if(this._merging){Object.assign(this._internals.headers,lowercaseKeys(t))}else{this._internals.headers=lowercaseKeys(t)}}get methodRewriting(){return this._internals.methodRewriting}set methodRewriting(t){le.boolean(t);this._internals.methodRewriting=t}get dnsLookupIpVersion(){return this._internals.dnsLookupIpVersion}set dnsLookupIpVersion(t){if(t!==undefined&&t!==4&&t!==6){throw new TypeError(`Invalid DNS lookup IP version: ${t}`)}this._internals.dnsLookupIpVersion=t}get parseJson(){return this._internals.parseJson}set parseJson(t){le.function_(t);this._internals.parseJson=t}get stringifyJson(){return this._internals.stringifyJson}set stringifyJson(t){le.function_(t);this._internals.stringifyJson=t}get retry(){return this._internals.retry}set retry(t){le.plainObject(t);le.any([he.function_,he.undefined],t.calculateDelay);le.any([he.number,he.undefined],t.maxRetryAfter);le.any([he.number,he.undefined],t.limit);le.any([he.array,he.undefined],t.methods);le.any([he.array,he.undefined],t.statusCodes);le.any([he.array,he.undefined],t.errorCodes);le.any([he.number,he.undefined],t.noise);if(t.noise&&Math.abs(t.noise)>100){throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${t.noise}`)}for(const r in t){if(!(r in this._internals.retry)){throw new Error(`Unexpected retry option: ${r}`)}}if(this._merging){Object.assign(this._internals.retry,t)}else{this._internals.retry={...t}}const{retry:r}=this._internals;r.methods=[...new Set(r.methods.map((t=>t.toUpperCase())))];r.statusCodes=[...new Set(r.statusCodes)];r.errorCodes=[...new Set(r.errorCodes)]}get localAddress(){return this._internals.localAddress}set localAddress(t){le.any([he.string,he.undefined],t);this._internals.localAddress=t}get method(){return this._internals.method}set method(t){le.string(t);this._internals.method=t.toUpperCase()}get createConnection(){return this._internals.createConnection}set createConnection(t){le.any([he.function_,he.undefined],t);this._internals.createConnection=t}get cacheOptions(){return this._internals.cacheOptions}set cacheOptions(t){le.plainObject(t);le.any([he.boolean,he.undefined],t.shared);le.any([he.number,he.undefined],t.cacheHeuristic);le.any([he.number,he.undefined],t.immutableMinTimeToLive);le.any([he.boolean,he.undefined],t.ignoreCargoCult);for(const r in t){if(!(r in this._internals.cacheOptions)){throw new Error(`Cache option \`${r}\` does not exist`)}}if(this._merging){Object.assign(this._internals.cacheOptions,t)}else{this._internals.cacheOptions={...t}}}get https(){return this._internals.https}set https(t){le.plainObject(t);le.any([he.boolean,he.undefined],t.rejectUnauthorized);le.any([he.function_,he.undefined],t.checkServerIdentity);le.any([he.string,he.object,he.array,he.undefined],t.certificateAuthority);le.any([he.string,he.object,he.array,he.undefined],t.key);le.any([he.string,he.object,he.array,he.undefined],t.certificate);le.any([he.string,he.undefined],t.passphrase);le.any([he.string,he.buffer,he.array,he.undefined],t.pfx);le.any([he.array,he.undefined],t.alpnProtocols);le.any([he.string,he.undefined],t.ciphers);le.any([he.string,he.buffer,he.undefined],t.dhparam);le.any([he.string,he.undefined],t.signatureAlgorithms);le.any([he.string,he.undefined],t.minVersion);le.any([he.string,he.undefined],t.maxVersion);le.any([he.boolean,he.undefined],t.honorCipherOrder);le.any([he.number,he.undefined],t.tlsSessionLifetime);le.any([he.string,he.undefined],t.ecdhCurve);le.any([he.string,he.buffer,he.array,he.undefined],t.certificateRevocationLists);for(const r in t){if(!(r in this._internals.https)){throw new Error(`HTTPS option \`${r}\` does not exist`)}}if(this._merging){Object.assign(this._internals.https,t)}else{this._internals.https={...t}}}get encoding(){return this._internals.encoding}set encoding(t){if(t===null){throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead")}le.any([he.string,he.undefined],t);this._internals.encoding=t}get resolveBodyOnly(){return this._internals.resolveBodyOnly}set resolveBodyOnly(t){le.boolean(t);this._internals.resolveBodyOnly=t}get isStream(){return this._internals.isStream}set isStream(t){le.boolean(t);this._internals.isStream=t}get responseType(){return this._internals.responseType}set responseType(t){if(t===undefined){this._internals.responseType="text";return}if(t!=="text"&&t!=="buffer"&&t!=="json"){throw new Error(`Invalid \`responseType\` option: ${t}`)}this._internals.responseType=t}get pagination(){return this._internals.pagination}set pagination(t){le.object(t);if(this._merging){Object.assign(this._internals.pagination,t)}else{this._internals.pagination=t}}get auth(){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}set auth(t){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}get setHost(){return this._internals.setHost}set setHost(t){le.boolean(t);this._internals.setHost=t}get maxHeaderSize(){return this._internals.maxHeaderSize}set maxHeaderSize(t){le.any([he.number,he.undefined],t);this._internals.maxHeaderSize=t}get enableUnixSockets(){return this._internals.enableUnixSockets}set enableUnixSockets(t){le.boolean(t);this._internals.enableUnixSockets=t}toJSON(){return{...this._internals}}[Symbol.for("nodejs.util.inspect.custom")](t,r){return(0,We.inspect)(this._internals,r)}createNativeRequestOptions(){const t=this._internals;const r=t.url;let i;if(r.protocol==="https:"){i=t.http2?t.agent:t.agent.https}else{i=t.agent.http}const{https:o}=t;let{pfx:a}=o;if(he.array(a)&&he.plainObject(a[0])){a=a.map((t=>({buf:t.buffer,passphrase:t.passphrase})))}return{...t.cacheOptions,...this._unixOptions,ALPNProtocols:o.alpnProtocols,ca:o.certificateAuthority,cert:o.certificate,key:o.key,passphrase:o.passphrase,pfx:o.pfx,rejectUnauthorized:o.rejectUnauthorized,checkServerIdentity:o.checkServerIdentity??Ke.checkServerIdentity,ciphers:o.ciphers,honorCipherOrder:o.honorCipherOrder,minVersion:o.minVersion,maxVersion:o.maxVersion,sigalgs:o.signatureAlgorithms,sessionTimeout:o.tlsSessionLifetime,dhparam:o.dhparam,ecdhCurve:o.ecdhCurve,crl:o.certificateRevocationLists,lookup:t.dnsLookup??t.dnsCache?.lookup,family:t.dnsLookupIpVersion,agent:i,setHost:t.setHost,method:t.method,maxHeaderSize:t.maxHeaderSize,localAddress:t.localAddress,headers:t.headers,createConnection:t.createConnection,timeout:t.http2?getHttp2TimeoutOption(t):undefined,h2session:t.h2session}}getRequestFunction(){const t=this._internals.url;const{request:r}=this._internals;if(!r&&t){return this.getFallbackRequestFunction()}return r}getFallbackRequestFunction(){const t=this._internals.url;if(!t){return}if(t.protocol==="https:"){if(this._internals.http2){if(ft<15||ft===15&&dt<10){const t=new Error("To use the `http2` option, install Node.js 15.10.0 or above");t.code="EUNSUPPORTED";throw t}return ut.auto}return Qe.request}return me.request}freeze(){const t=this._internals;Object.freeze(t);Object.freeze(t.hooks);Object.freeze(t.hooks.afterResponse);Object.freeze(t.hooks.beforeError);Object.freeze(t.hooks.beforeRedirect);Object.freeze(t.hooks.beforeRequest);Object.freeze(t.hooks.beforeRetry);Object.freeze(t.hooks.init);Object.freeze(t.https);Object.freeze(t.cacheOptions);Object.freeze(t.agent);Object.freeze(t.headers);Object.freeze(t.timeout);Object.freeze(t.retry);Object.freeze(t.retry.errorCodes);Object.freeze(t.retry.methods);Object.freeze(t.retry.statusCodes)}}const isResponseOk=t=>{const{statusCode:r}=t;const i=t.request.options.followRedirect?299:399;return r>=200&&r<=i||r===304};class ParseError extends RequestError{constructor(t,r){const{options:i}=r.request;super(`${t.message} in "${i.url.toString()}"`,t,r.request);this.name="ParseError";this.code="ERR_BODY_PARSE_FAILURE"}}const parseBody=(t,r,i,o)=>{const{rawBody:a}=t;try{if(r==="text"){return a.toString(o)}if(r==="json"){return a.length===0?"":i(a.toString(o))}if(r==="buffer"){return a}}catch(r){throw new ParseError(r,t)}throw new ParseError({message:`Unknown body type '${r}'`,name:"Error"},t)};function isClientRequest(t){return t.writable&&!t.writableEnded}const bt=isClientRequest;function isUnixSocketURL(t){return t.protocol==="unix:"||t.hostname==="unix"}const vt=he.string(m.versions.brotli);const wt=new Set(["GET","HEAD"]);const _t=new WeakableMap;const Et=new Set([300,301,302,303,304,307,308]);const St=["socket","connect","continue","information","upgrade"];const core_noop=()=>{};class Request extends de.Duplex{constructor(t,r,i){super({autoDestroy:false,highWaterMark:0});Object.defineProperty(this,"constructor",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_noPipe",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"options",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"response",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"requestUrl",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"redirectUrls",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"retryCount",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_stopRetry",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_downloadedSize",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_uploadedSize",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_stopReading",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_pipedServerResponses",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_request",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_responseSize",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_bodySize",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_unproxyEvents",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_isFromCache",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_cannotHaveBody",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_triggerRead",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_cancelTimeouts",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_nativeResponse",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_flushed",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_aborted",{enumerable:true,configurable:true,writable:true,value:void 0});Object.defineProperty(this,"_requestInitialized",{enumerable:true,configurable:true,writable:true,value:void 0});this._downloadedSize=0;this._uploadedSize=0;this._stopReading=false;this._pipedServerResponses=new Set;this._cannotHaveBody=false;this._unproxyEvents=core_noop;this._triggerRead=false;this._cancelTimeouts=core_noop;this._jobs=[];this._flushed=false;this._requestInitialized=false;this._aborted=false;this.redirectUrls=[];this.retryCount=0;this._stopRetry=core_noop;this.on("pipe",(t=>{if(t.headers){Object.assign(this.options.headers,t.headers)}}));this.on("newListener",(t=>{if(t==="retry"&&this.listenerCount("retry")>0){throw new Error("A retry listener has been attached already.")}}));try{this.options=new Options(t,r,i);if(!this.options.url){if(this.options.prefixUrl===""){throw new TypeError("Missing `url` property")}this.options.url=""}this.requestUrl=this.options.url}catch(t){const{options:r}=t;if(r){this.options=r}this.flush=async()=>{this.flush=async()=>{};this.destroy(t)};return}if(this.options.signal?.aborted){this.destroy(new AbortError(this))}this.options.signal?.addEventListener("abort",(()=>{this.destroy(new AbortError(this))}));const{body:o}=this.options;if(he.nodeStream(o)){o.once("error",(t=>{if(this._flushed){this._beforeError(new UploadError(t,this))}else{this.flush=async()=>{this.flush=async()=>{};this._beforeError(new UploadError(t,this))}}}))}}async flush(){if(this._flushed){return}this._flushed=true;try{await this._finalizeBody();if(this.destroyed){return}await this._makeRequest();if(this.destroyed){this._request?.destroy();return}for(const t of this._jobs){t()}this._jobs.length=0;this._requestInitialized=true}catch(t){this._beforeError(t)}}_beforeError(t){if(this._stopReading){return}const{response:r,options:i}=this;const o=this.retryCount+(t.name==="RetryError"?0:1);this._stopReading=true;if(!(t instanceof RequestError)){t=new RequestError(t.message,t,this)}const a=t;void(async()=>{if(r?.readable&&!r.rawBody&&!this._request?.socket?.destroyed){r.setEncoding(this.readableEncoding);const t=await this._setRawBody(r);if(t){r.body=r.rawBody.toString()}}if(this.listenerCount("retry")!==0){let c;try{let t;if(r&&"retry-after"in r.headers){t=Number(r.headers["retry-after"]);if(Number.isNaN(t)){t=Date.parse(r.headers["retry-after"])-Date.now();if(t<=0){t=1}}else{t*=1e3}}const l=i.retry;c=await l.calculateDelay({attemptCount:o,retryOptions:l,error:a,retryAfter:t,computedValue:Xe({attemptCount:o,retryOptions:l,error:a,retryAfter:t,computedValue:l.maxRetryAfter??i.timeout.request??Number.POSITIVE_INFINITY})})}catch(t){void this._error(new RequestError(t.message,t,this));return}if(c){await new Promise((t=>{const r=setTimeout(t,c);this._stopRetry=()=>{clearTimeout(r);t()}}));if(this.destroyed){return}try{for(const t of this.options.hooks.beforeRetry){await t(a,this.retryCount+1)}}catch(r){void this._error(new RequestError(r.message,t,this));return}if(this.destroyed){return}this.destroy();this.emit("retry",this.retryCount+1,t,(t=>{const r=new Request(i.url,t,i);r.retryCount=this.retryCount+1;m.nextTick((()=>{void r.flush()}));return r}));return}}void this._error(a)})()}_read(){this._triggerRead=true;const{response:t}=this;if(t&&!this._stopReading){if(t.readableLength){this._triggerRead=false}let r;while((r=t.read())!==null){this._downloadedSize+=r.length;const t=this.downloadProgress;if(t.percent<1){this.emit("downloadProgress",t)}this.push(r)}}}_write(t,r,i){const write=()=>{this._writeRequest(t,r,i)};if(this._requestInitialized){write()}else{this._jobs.push(write)}}_final(t){const endRequest=()=>{if(!this._request||this._request.destroyed){t();return}this._request.end((r=>{if(this._request._writableState?.errored){return}if(!r){this._bodySize=this._uploadedSize;this.emit("uploadProgress",this.uploadProgress);this._request.emit("upload-complete")}t(r)}))};if(this._requestInitialized){endRequest()}else{this._jobs.push(endRequest)}}_destroy(t,r){this._stopReading=true;this.flush=async()=>{};this._stopRetry();this._cancelTimeouts();if(this.options){const{body:t}=this.options;if(he.nodeStream(t)){t.destroy()}}if(this._request){this._request.destroy()}if(t!==null&&!he.undefined(t)&&!(t instanceof RequestError)){t=new RequestError(t.message,t,this)}r(t)}pipe(t,r){if(t instanceof me.ServerResponse){this._pipedServerResponses.add(t)}return super.pipe(t,r)}unpipe(t){if(t instanceof me.ServerResponse){this._pipedServerResponses.delete(t)}super.unpipe(t);return this}async _finalizeBody(){const{options:t}=this;const{headers:r}=t;const i=!he.undefined(t.form);const o=!he.undefined(t.json);const a=!he.undefined(t.body);const c=wt.has(t.method)&&!(t.method==="GET"&&t.allowGetBody);this._cannotHaveBody=c;if(i||o||a){if(c){throw new TypeError(`The \`${t.method}\` method cannot be used with a body`)}const o=!he.string(r["content-type"]);if(a){if(isFormData(t.body)){const i=new FormDataEncoder(t.body);if(o){r["content-type"]=i.headers["Content-Type"]}if("Content-Length"in i.headers){r["content-length"]=i.headers["Content-Length"]}t.body=i.encode()}if(is_form_data_isFormData(t.body)&&o){r["content-type"]=`multipart/form-data; boundary=${t.body.getBoundary()}`}}else if(i){if(o){r["content-type"]="application/x-www-form-urlencoded"}const{form:i}=t;t.form=undefined;t.body=new pe.URLSearchParams(i).toString()}else{if(o){r["content-type"]="application/json"}const{json:i}=t;t.json=undefined;t.body=t.stringifyJson(i)}const l=await getBodySize(t.body,t.headers);if(he.undefined(r["content-length"])&&he.undefined(r["transfer-encoding"])&&!c&&!he.undefined(l)){r["content-length"]=String(l)}}if(t.responseType==="json"&&!("accept"in t.headers)){t.headers.accept="application/json"}this._bodySize=Number(r["content-length"])||undefined}async _onResponseBase(t){if(this.isAborted){return}const{options:r}=this;const{url:i}=r;this._nativeResponse=t;if(r.decompress){t=Ce(t)}const o=t.statusCode;const a=t;a.statusMessage=a.statusMessage?a.statusMessage:me.STATUS_CODES[o];a.url=r.url.toString();a.requestUrl=this.requestUrl;a.redirectUrls=this.redirectUrls;a.request=this;a.isFromCache=this._nativeResponse.fromCache??false;a.ip=this.ip;a.retryCount=this.retryCount;a.ok=isResponseOk(a);this._isFromCache=a.isFromCache;this._responseSize=Number(t.headers["content-length"])||undefined;this.response=a;t.once("end",(()=>{this._responseSize=this._downloadedSize;this.emit("downloadProgress",this.downloadProgress)}));t.once("error",(r=>{this._aborted=true;t.destroy();this._beforeError(new ReadError(r,this))}));t.once("aborted",(()=>{this._aborted=true;this._beforeError(new ReadError({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}));this.emit("downloadProgress",this.downloadProgress);const c=t.headers["set-cookie"];if(he.object(r.cookieJar)&&c){let t=c.map((async t=>r.cookieJar.setCookie(t,i.toString())));if(r.ignoreInvalidCookies){t=t.map((async t=>{try{await t}catch{}}))}try{await Promise.all(t)}catch(t){this._beforeError(t);return}}if(this.isAborted){return}if(r.followRedirect&&t.headers.location&&Et.has(o)){t.resume();this._cancelTimeouts();this._unproxyEvents();if(this.redirectUrls.length>=r.maxRedirects){this._beforeError(new MaxRedirectsError(this));return}this._request=undefined;const c=new Options(undefined,undefined,this.options);const l=o===303&&c.method!=="GET"&&c.method!=="HEAD";const h=o!==307&&o!==308;const u=c.methodRewriting&&h;if(l||u){c.method="GET";c.body=undefined;c.json=undefined;c.form=undefined;delete c.headers["content-length"]}try{const r=fe.Buffer.from(t.headers.location,"binary").toString();const o=new pe.URL(r,i);if(!isUnixSocketURL(i)&&isUnixSocketURL(o)){this._beforeError(new RequestError("Cannot redirect to UNIX socket",{},this));return}if(o.hostname!==i.hostname||o.port!==i.port){if("host"in c.headers){delete c.headers.host}if("cookie"in c.headers){delete c.headers.cookie}if("authorization"in c.headers){delete c.headers.authorization}if(c.username||c.password){c.username="";c.password=""}}else{o.username=c.username;o.password=c.password}this.redirectUrls.push(o);c.prefixUrl="";c.url=o;for(const t of c.hooks.beforeRedirect){await t(c,a)}this.emit("redirect",c,a);this.options=c;await this._makeRequest()}catch(t){this._beforeError(t);return}return}if(r.isStream&&r.throwHttpErrors&&!isResponseOk(a)){this._beforeError(new HTTPError(a));return}t.on("readable",(()=>{if(this._triggerRead){this._read()}}));this.on("resume",(()=>{t.resume()}));this.on("pause",(()=>{t.pause()}));t.once("end",(()=>{this.push(null)}));if(this._noPipe){const r=await this._setRawBody();if(r){this.emit("response",t)}return}this.emit("response",t);for(const i of this._pipedServerResponses){if(i.headersSent){continue}for(const o in t.headers){const a=r.decompress?o!=="content-encoding":true;const c=t.headers[o];if(a){i.setHeader(o,c)}}i.statusCode=o}}async _setRawBody(t=this){if(t.readableEnded){return false}try{const r=await(0,Se.buffer)(t);if(!this.isAborted){this.response.rawBody=r;return true}}catch{}return false}async _onResponse(t){try{await this._onResponseBase(t)}catch(t){this._beforeError(t)}}_onRequest(t){const{options:r}=this;const{timeout:i,url:o}=r;ve(t);if(this.options.http2){t.setTimeout(0)}this._cancelTimeouts=timedOut(t,i,o);const a=r.cache?"cacheableResponse":"response";t.once(a,(t=>{void this._onResponse(t)}));t.once("error",(r=>{this._aborted=true;t.destroy();r=r instanceof timed_out_TimeoutError?new TimeoutError(r,this.timings,this):new RequestError(r.message,r,this);this._beforeError(r)}));this._unproxyEvents=proxyEvents(t,this,St);this._request=t;this.emit("uploadProgress",this.uploadProgress);this._sendBody();this.emit("request",t)}async _asyncWrite(t){return new Promise(((r,i)=>{super.write(t,(t=>{if(t){i(t);return}r()}))}))}_sendBody(){const{body:t}=this.options;const r=this.redirectUrls.length===0?this:this._request??this;if(he.nodeStream(t)){t.pipe(r)}else if(he.generator(t)||he.asyncGenerator(t)){(async()=>{try{for await(const r of t){await this._asyncWrite(r)}super.end()}catch(t){this._beforeError(t)}})()}else if(!he.undefined(t)){this._writeRequest(t,undefined,(()=>{}));r.end()}else if(this._cannotHaveBody||this._noPipe){r.end()}}_prepareCache(t){if(!_t.has(t)){const r=new ke(((t,r)=>{const i=t._request(t,r);if(he.promise(i)){i.once=(t,r)=>{if(t==="error"){(async()=>{try{await i}catch(t){r(t)}})()}else if(t==="abort"){(async()=>{try{const t=await i;t.once("abort",r)}catch{}})()}else{throw new Error(`Unknown HTTP2 promise event: ${t}`)}return i}}return i}),t);_t.set(t,r.request())}}async _createCacheableRequest(t,r){return new Promise(((i,o)=>{Object.assign(r,urlToOptions(t));let a;const c=_t.get(r.cache)(r,(async t=>{t._readableState.autoDestroy=false;if(a){const fix=()=>{if(t.req){t.complete=t.req.res.complete}};t.prependOnceListener("end",fix);fix();(await a).emit("cacheableResponse",t)}i(t)}));c.once("error",o);c.once("request",(async t=>{a=t;i(a)}))}))}async _makeRequest(){const{options:t}=this;const{headers:r,username:i,password:o}=t;const a=t.cookieJar;for(const t in r){if(he.undefined(r[t])){delete r[t]}else if(he.null_(r[t])){throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${t}\` header`)}}if(t.decompress&&he.undefined(r["accept-encoding"])){r["accept-encoding"]=vt?"gzip, deflate, br":"gzip, deflate"}if(i||o){const t=fe.Buffer.from(`${i}:${o}`).toString("base64");r.authorization=`Basic ${t}`}if(a){const i=await a.getCookieString(t.url.toString());if(he.nonEmptyString(i)){r.cookie=i}}t.prefixUrl="";let c;for(const r of t.hooks.beforeRequest){const i=await r(t);if(!he.undefined(i)){c=()=>i;break}}if(!c){c=t.getRequestFunction()}const l=t.url;this._requestOptions=t.createNativeRequestOptions();if(t.cache){this._requestOptions._request=c;this._requestOptions.cache=t.cache;this._requestOptions.body=t.body;this._prepareCache(t.cache)}const h=t.cache?this._createCacheableRequest:c;try{let r=h(l,this._requestOptions);if(he.promise(r)){r=await r}if(he.undefined(r)){r=t.getFallbackRequestFunction()(l,this._requestOptions);if(he.promise(r)){r=await r}}if(bt(r)){this._onRequest(r)}else if(this.writable){this.once("finish",(()=>{void this._onResponse(r)}));this._sendBody()}else{void this._onResponse(r)}}catch(t){if(t instanceof types_CacheError){throw new CacheError(t,this)}throw t}}async _error(t){try{if(t instanceof HTTPError&&!this.options.throwHttpErrors){}else{for(const r of this.options.hooks.beforeError){t=await r(t)}}}catch(r){t=new RequestError(r.message,r,this)}this.destroy(t)}_writeRequest(t,r,i){if(!this._request||this._request.destroyed){return}this._request.write(t,r,(o=>{if(!o&&!this._request.destroyed){this._uploadedSize+=fe.Buffer.byteLength(t,r);const i=this.uploadProgress;if(i.percent<1){this.emit("uploadProgress",i)}}i(o)}))}get ip(){return this.socket?.remoteAddress}get isAborted(){return this._aborted}get socket(){return this._request?.socket??undefined}get downloadProgress(){let t;if(this._responseSize){t=this._downloadedSize/this._responseSize}else if(this._responseSize===this._downloadedSize){t=1}else{t=0}return{percent:t,transferred:this._downloadedSize,total:this._responseSize}}get uploadProgress(){let t;if(this._bodySize){t=this._uploadedSize/this._bodySize}else if(this._bodySize===this._uploadedSize){t=1}else{t=0}return{percent:t,transferred:this._uploadedSize,total:this._bodySize}}get timings(){return this._request?.timings}get isFromCache(){return this._isFromCache}get reusedSocket(){return this._request?.reusedSocket}}class types_CancelError extends RequestError{constructor(t){super("Promise was canceled",{},t);this.name="CancelError";this.code="ERR_CANCELED"}get isCanceled(){return true}}const Ot=["request","response","redirect","uploadProgress","downloadProgress"];function asPromise(t){let r;let i;let o;const a=new ue.EventEmitter;const c=new PCancelable(((l,h,u)=>{u((()=>{r.destroy()}));u.shouldReject=false;u((()=>{h(new types_CancelError(r))}));const makeRequest=d=>{u((()=>{}));const p=t??new Request(undefined,undefined,o);p.retryCount=d;p._noPipe=true;r=p;p.once("response",(async t=>{const r=(t.headers["content-encoding"]??"").toLowerCase();const o=r==="gzip"||r==="deflate"||r==="br";const{options:a}=p;if(o&&!a.decompress){t.body=t.rawBody}else{try{t.body=parseBody(t,a.responseType,a.parseJson,a.encoding)}catch(r){t.body=t.rawBody.toString();if(isResponseOk(t)){p._beforeError(r);return}}}try{const r=a.hooks.afterResponse;for(const[i,o]of r.entries()){t=await o(t,(async t=>{a.merge(t);a.prefixUrl="";if(t.url){a.url=t.url}a.hooks.afterResponse=a.hooks.afterResponse.slice(0,i);throw new RetryError(p)}));if(!(he.object(t)&&he.number(t.statusCode)&&!he.nullOrUndefined(t.body))){throw new TypeError("The `afterResponse` hook returned an invalid value")}}}catch(t){p._beforeError(t);return}i=t;if(!isResponseOk(t)){p._beforeError(new HTTPError(t));return}p.destroy();l(p.options.resolveBodyOnly?t.body:t)}));const onError=t=>{if(c.isCanceled){return}const{options:r}=p;if(t instanceof HTTPError&&!r.throwHttpErrors){const{response:r}=t;p.destroy();l(p.options.resolveBodyOnly?r.body:r);return}h(t)};p.once("error",onError);const m=p.options?.body;p.once("retry",((r,i)=>{t=undefined;const a=p.options.body;if(m===a&&he.nodeStream(a)){i.message="Cannot retry with consumed body stream";onError(i);return}o=p.options;makeRequest(r)}));proxyEvents(p,a,Ot);if(he.undefined(t)){void p.flush()}};makeRequest(0)}));c.on=(t,r)=>{a.on(t,r);return c};c.off=(t,r)=>{a.off(t,r);return c};const shortcut=t=>{const r=(async()=>{await c;const{options:r}=i.request;return parseBody(i,t,r.parseJson,r.encoding)})();Object.defineProperties(r,Object.getOwnPropertyDescriptors(c));return r};c.json=()=>{if(r.options){const{headers:t}=r.options;if(!r.writableFinished&&!("accept"in t)){t.accept="application/json"}}return shortcut("json")};c.buffer=()=>shortcut("buffer");c.text=()=>shortcut("text");return c}const delay=async t=>new Promise((r=>{setTimeout(r,t)}));const isGotInstance=t=>he.function_(t);const xt=["get","post","put","patch","head","delete"];const create=t=>{t={options:new Options(undefined,undefined,t.options),handlers:[...t.handlers],mutableDefaults:t.mutableDefaults};Object.defineProperty(t,"mutableDefaults",{enumerable:true,configurable:false,writable:false});const got=(r,i,o=t.options)=>{const a=new Request(r,i,o);let c;const lastHandler=t=>{a.options=t;a._noPipe=!t.isStream;void a.flush();if(t.isStream){return a}if(!c){c=asPromise(a)}return c};let l=0;const iterateHandlers=r=>{const i=t.handlers[l++]??lastHandler;const o=i(r,iterateHandlers);if(he.promise(o)&&!a.options.isStream){if(!c){c=asPromise(a)}if(o!==c){const t=Object.getOwnPropertyDescriptors(c);for(const r in t){if(r in o){delete t[r]}}Object.defineProperties(o,t);o.cancel=c.cancel}}return o};return iterateHandlers(a.options)};got.extend=(...r)=>{const i=new Options(undefined,undefined,t.options);const o=[...t.handlers];let a;for(const t of r){if(isGotInstance(t)){i.merge(t.defaults.options);o.push(...t.defaults.handlers);a=t.defaults.mutableDefaults}else{i.merge(t);if(t.handlers){o.push(...t.handlers)}a=t.mutableDefaults}}return create({options:i,handlers:o,mutableDefaults:Boolean(a)})};const paginateEach=async function*(r,i){let o=new Options(r,i,t.options);o.resolveBodyOnly=false;const{pagination:a}=o;le.function_(a.transform);le.function_(a.shouldContinue);le.function_(a.filter);le.function_(a.paginate);le.number(a.countLimit);le.number(a.requestLimit);le.number(a.backoff);const c=[];let{countLimit:l}=a;let h=0;while(h<a.requestLimit){if(h!==0){await delay(a.backoff)}const t=await got(undefined,undefined,o);const r=await a.transform(t);const i=[];le.array(r);for(const t of r){if(a.filter({item:t,currentItems:i,allItems:c})){if(!a.shouldContinue({item:t,currentItems:i,allItems:c})){return}yield t;if(a.stackAllItems){c.push(t)}i.push(t);if(--l<=0){return}}}const u=a.paginate({response:t,currentItems:i,allItems:c});if(u===false){return}if(u===t.request.options){o=t.request.options}else{o.merge(u);le.any([he.urlInstance,he.undefined],u.url);if(u.url!==undefined){o.prefixUrl="";o.url=u.url}}h++}};got.paginate=paginateEach;got.paginate.all=async(t,r)=>{const i=[];for await(const o of paginateEach(t,r)){i.push(o)}return i};got.paginate.each=paginateEach;got.stream=(t,r)=>got(t,{...r,isStream:true});for(const t of xt){got[t]=(r,i)=>got(r,{...i,method:t});got.stream[t]=(r,i)=>got(r,{...i,method:t,isStream:true})}if(!t.mutableDefaults){Object.freeze(t.handlers);t.options.freeze()}Object.defineProperty(got,"defaults",{value:t,writable:false,configurable:false,enumerable:true});return got};const Rt=create;const Tt={options:new Options,handlers:[],mutableDefaults:false};const kt=Rt(Tt);const At=null&&kt;var Ct=i(2781);var Pt=i(1722);const getFilenameFromBranch=function(t){if(t.match(/v(\d+)\.(\d+)\.(\d+)((-(alpha|beta).(\d+))?)/)){return t.slice(1)}return t.replace(/\//g,"-")};var It=undefined&&undefined.__awaiter||function(t,r,i,o){function adopt(t){return t instanceof i?t:new i((function(r){r(t)}))}return new(i||(i=Promise))((function(i,a){function fulfilled(t){try{step(o.next(t))}catch(t){a(t)}}function rejected(t){try{step(o["throw"](t))}catch(t){a(t)}}function step(t){t.done?i(t.value):adopt(t.value).then(fulfilled,rejected)}step((o=o.apply(t,r||[])).next())}))};var Nt=undefined&&undefined.__generator||function(t,r){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,l;return l={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(l[Symbol.iterator]=function(){return this}),l;function verb(t){return function(r){return step([t,r])}}function step(l){if(o)throw new TypeError("Generator is already executing.");while(i)try{if(o=1,a&&(c=l[0]&2?a["return"]:l[0]?a["throw"]||((c=a["return"])&&c.call(a),0):a.next)&&!(c=c.call(a,l[1])).done)return c;if(a=0,c)l=[l[0]&2,c.value];switch(l[0]){case 0:case 1:c=l;break;case 4:i.label++;return{value:l[1],done:false};case 5:i.label++;a=l[1];l=[0];continue;case 7:l=i.ops.pop();i.trys.pop();continue;default:if(!(c=i.trys,c=c.length>0&&c[c.length-1])&&(l[0]===6||l[0]===2)){i=0;continue}if(l[0]===3&&(!c||l[1]>c[0]&&l[1]<c[3])){i.label=l[1];break}if(l[0]===6&&i.label<c[1]){i.label=c[1];c=l;break}if(c&&i.label<c[2]){i.label=c[2];i.ops.push(l);break}if(c[2])i.ops.pop();i.trys.pop();continue}l=r.call(t,i)}catch(t){l=[6,t];a=0}finally{o=c=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:true}}};var Lt=(0,ye.promisify)(Ct.Stream.pipeline);var isUrlOk=function(t){return It(void 0,void 0,void 0,(function(){var r,i;return Nt(this,(function(o){switch(o.label){case 0:o.trys.push([0,2,,3]);return[4,kt.head(t)];case 1:r=o.sent();return[2,r.statusCode===200];case 2:i=o.sent();return[2,false];case 3:return[2]}}))}))};var hasRepo=function(t){var r=t.username,i=t.name,o=t.branch,a=t.filePath;var c="https://api.github.com/repos/".concat(r,"/").concat(i,"/contents");var l="".concat(a!==""?"/".concat(a):"","/package.json");return isUrlOk(c+l+"?ref=".concat(o))};var getRepoUrl=function(t){var r=t.username,i=t.name,o=t.branch,a=t.filePath;return"https://github.com/".concat(r,"/").concat(i,"/tree/").concat(o,"/").concat(a)};var downloadAndExtractRepo=function(t,r){var i=r.username,o=r.name,a=r.branch,c=r.filePath;return Lt(kt.stream("https://codeload.github.com/".concat(i,"/").concat(o,"/tar.gz/").concat(a)),(0,Pt.extract)({cwd:t,strip:c!==""?c.split("/").length+1:1},["".concat(o,"-").concat(getFilenameFromBranch(a)).concat(c!==""?"/".concat(c):"")]))};var Mt=i(7147);var $t=i.n(Mt);var jt=undefined&&undefined.__awaiter||function(t,r,i,o){function adopt(t){return t instanceof i?t:new i((function(r){r(t)}))}return new(i||(i=Promise))((function(i,a){function fulfilled(t){try{step(o.next(t))}catch(t){a(t)}}function rejected(t){try{step(o["throw"](t))}catch(t){a(t)}}function step(t){t.done?i(t.value):adopt(t.value).then(fulfilled,rejected)}step((o=o.apply(t,r||[])).next())}))};var Dt=undefined&&undefined.__generator||function(t,r){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,l;return l={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(l[Symbol.iterator]=function(){return this}),l;function verb(t){return function(r){return step([t,r])}}function step(l){if(o)throw new TypeError("Generator is already executing.");while(i)try{if(o=1,a&&(c=l[0]&2?a["return"]:l[0]?a["throw"]||((c=a["return"])&&c.call(a),0):a.next)&&!(c=c.call(a,l[1])).done)return c;if(a=0,c)l=[l[0]&2,c.value];switch(l[0]){case 0:case 1:c=l;break;case 4:i.label++;return{value:l[1],done:false};case 5:i.label++;a=l[1];l=[0];continue;case 7:l=i.ops.pop();i.trys.pop();continue;default:if(!(c=i.trys,c=c.length>0&&c[c.length-1])&&(l[0]===6||l[0]===2)){i=0;continue}if(l[0]===3&&(!c||l[1]>c[0]&&l[1]<c[3])){i.label=l[1];break}if(l[0]===6&&i.label<c[1]){i.label=c[1];c=l;break}if(c&&i.label<c[2]){i.label=c[2];i.ops.push(l);break}if(c[2])i.ops.pop();i.trys.pop();continue}l=r.call(t,i)}catch(t){l=[6,t];a=0}finally{o=c=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:true}}};var isWriteable=function(t){return jt(void 0,void 0,void 0,(function(){var r;return Dt(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,$t().promises.access(t,$t().constants.W_OK)];case 1:i.sent();return[2,true];case 2:r=i.sent();return[2,false];case 3:return[2]}}))}))};var makeDir=function(t,r){if(r===void 0){r={recursive:true}}return $t().promises.mkdir(t,r)};var isFolderEmpty=function(t,r){var i=[".DS_Store",".git",".gitattributes",".gitignore",".gitlab-ci.yml",".hg",".hgcheck",".hgignore",".idea",".npmignore",".travis.yml","LICENSE","Thumbs.db","docs","mkdocs.yml","npm-debug.log","yarn-debug.log","yarn-error.log"];var o=$t().readdirSync(t).filter((function(t){return!i.includes(t)})).filter((function(t){return!t.endsWith(".iml")}));if(o.length>0){console.log("The directory ".concat(N.green(r)," contains files that could conflict:"));console.log();o.map((function(r){try{var i=$t().lstatSync(W().join(t,r));if(i.isDirectory()){console.log("  ".concat(N.blue(r),"/"))}else{console.log("  ".concat(r))}}catch(t){console.log("  ".concat(r))}}));console.log();console.log("Either try using a new directory name, or remove the files listed above.");console.log();return false}return true};var renameProject=function(t,r,i){(0,te.execSync)("mv ".concat(r,".code-workspace ").concat(t,".code-workspace"),{stdio:"ignore",cwd:i});(0,te.execSync)("grep -rl '".concat(r,"'|xargs perl -i -pe's/").concat(r,"/").concat(t,"/g'"),{stdio:"ignore",cwd:i})};var Ft=i(4488);var Ht=undefined&&undefined.__assign||function(){Ht=Object.assign||function(t){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a))t[a]=r[a]}return t};return Ht.apply(this,arguments)};var install=function(t){return new Promise((function(r,i){var o="pnpm";process.chdir(t);var a=["install"];var c=(0,Ft.spawn)(o,a,{stdio:"inherit",env:Ht(Ht({},process.env),{ADBLOCK:"1",DISABLE_OPENCOLLECTIVE:"1"})});c.on("close",(function(t){if(t!==0){i({command:"".concat(o," ").concat(a.join(" "))});return}r()}))}))};var Bt=i(4700);var isInGitRepository=function(){try{(0,te.execSync)("git rev-parse --is-inside-work-tree",{stdio:"ignore"});return true}catch(t){}return false};var isInMercurialRepository=function(){try{(0,te.execSync)("hg --cwd . root",{stdio:"ignore"});return true}catch(t){}return false};var tryGitInit=function(t){var r=false;try{(0,te.execSync)("git --version",{stdio:"ignore"});if(isInGitRepository()||isInMercurialRepository()){return false}(0,te.execSync)("git init",{stdio:"ignore"});r=true;(0,te.execSync)("git checkout -b main",{stdio:"ignore"});(0,te.execSync)("git add -A",{stdio:"ignore"});(0,te.execSync)('git commit -m "Initial commit from Create Swarmion App"',{stdio:"ignore"});return true}catch(i){if(r){try{(0,Bt.sync)(W().join(t,".git"))}catch(t){}}return false}};var Ut=undefined&&undefined.__extends||function(){var extendStatics=function(t,r){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i))t[i]=r[i]};return extendStatics(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(t,r);function __(){this.constructor=t}t.prototype=r===null?Object.create(r):(__.prototype=r.prototype,new __)}}();var qt=undefined&&undefined.__awaiter||function(t,r,i,o){function adopt(t){return t instanceof i?t:new i((function(r){r(t)}))}return new(i||(i=Promise))((function(i,a){function fulfilled(t){try{step(o.next(t))}catch(t){a(t)}}function rejected(t){try{step(o["throw"](t))}catch(t){a(t)}}function step(t){t.done?i(t.value):adopt(t.value).then(fulfilled,rejected)}step((o=o.apply(t,r||[])).next())}))};var Gt=undefined&&undefined.__generator||function(t,r){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,l;return l={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(l[Symbol.iterator]=function(){return this}),l;function verb(t){return function(r){return step([t,r])}}function step(l){if(o)throw new TypeError("Generator is already executing.");while(i)try{if(o=1,a&&(c=l[0]&2?a["return"]:l[0]?a["throw"]||((c=a["return"])&&c.call(a),0):a.next)&&!(c=c.call(a,l[1])).done)return c;if(a=0,c)l=[l[0]&2,c.value];switch(l[0]){case 0:case 1:c=l;break;case 4:i.label++;return{value:l[1],done:false};case 5:i.label++;a=l[1];l=[0];continue;case 7:l=i.ops.pop();i.trys.pop();continue;default:if(!(c=i.trys,c=c.length>0&&c[c.length-1])&&(l[0]===6||l[0]===2)){i=0;continue}if(l[0]===3&&(!c||l[1]>c[0]&&l[1]<c[3])){i.label=l[1];break}if(l[0]===6&&i.label<c[1]){i.label=c[1];c=l;break}if(c&&i.label<c[2]){i.label=c[2];i.ops.push(l);break}if(c[2])i.ops.pop();i.trys.pop();continue}l=r.call(t,i)}catch(t){l=[6,t];a=0}finally{o=c=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:true}}};var zt=function(t){Ut(DownloadError,t);function DownloadError(){return t!==null&&t.apply(this,arguments)||this}return DownloadError}(Error);var createApp=function(t){var r=t.appPath,i=t.template,o=t.packageVersion;return qt(void 0,void 0,void 0,(function(){var t,a,c,l,h,u,d;return Gt(this,(function(p){switch(p.label){case 0:t={username:"swarmion",name:"swarmion",branch:"v".concat(o),filePath:"examples/".concat(i)};console.log("template",i);return[4,hasRepo(t)];case 1:a=p.sent();c=getRepoUrl(t);if(!a){console.error("Could not locate the repository for ".concat(N.red('"'.concat(c,'"')),". Please check that the repository exists and try again."));process.exit(1)}l=W().resolve(r);return[4,isWriteable(W().dirname(l))];case 2:if(!p.sent()){console.error("The application path is not writable, please check folder permissions and try again.");console.error("It is likely you do not have write permissions for this folder.");process.exit(1)}h=W().basename(l);return[4,makeDir(l)];case 3:p.sent();if(!isFolderEmpty(l,h)){process.exit(1)}console.log("Creating a new Swarmion app in ".concat(N.green(l),"."));console.log();process.chdir(l);p.label=4;case 4:p.trys.push([4,6,,7]);console.log("Downloading files from repo ".concat(N.cyan(c),". This might take a moment."));console.log();return[4,ee()((function(){return downloadAndExtractRepo(l,t)}),{retries:3})];case 5:p.sent();renameProject(h,i,l);return[3,7];case 6:u=p.sent();d=function(t){return typeof t==="object"&&t!==null&&typeof t.message==="string"};throw new zt(d(u)?u.message:u);case 7:console.log("Installing packages. This might take a couple of minutes.");console.log();return[4,install(l)];case 8:p.sent();console.log();console.log("Packaging your app.");(0,te.execSync)("pnpm package",{stdio:[0,1,2],cwd:l});console.log();console.log("Linting your project...");console.log();(0,te.execSync)("pnpm lint-fix-all",{stdio:"ignore",cwd:l});console.log();console.log("Initializing a git repository...");if(tryGitInit(l)){console.log()}console.log("".concat(N.green("Success!")," Created ").concat(h," at ").concat(r));console.log("Inside that directory, you can run several commands:");console.log();return[2]}}))}))};var Vt=i(7921);var Yt=i.n(Vt);var Wt=undefined&&undefined.__spreadArray||function(t,r,i){if(i||arguments.length===2)for(var o=0,a=r.length,c;o<a;o++){if(c||!(o in r)){if(!c)c=Array.prototype.slice.call(r,0,o);c[o]=r[o]}}return t.concat(c||Array.prototype.slice.call(r))};var validateNpmName=function(t){var r,i;var o=Yt()(t);if(o.validForNewPackages){return{valid:true,problems:null}}return{valid:false,problems:Wt(Wt([],(r=o.errors)!==null&&r!==void 0?r:[],true),(i=o.warnings)!==null&&i!==void 0?i:[],true)}};var getPkgManager=function(){try{var t=process.env.npm_config_user_agent;if(t!==undefined){if(t.startsWith("yarn")){return"yarn"}else if(t.startsWith("pnpm")){return"pnpm"}}try{(0,te.execSync)("yarn --version",{stdio:"ignore"});return"yarn"}catch(t){(0,te.execSync)("pnpm --version",{stdio:"ignore"});return"pnpm"}}catch(t){return"npm"}};var Zt=["swarmion-starter","swarmion-full-stack"];var isValidTemplate=function(t){return typeof t==="string"&&Zt.includes(t)};const Jt=JSON.parse('{"name":"create-swarmion-app","description":"Create an app based on the Swarmion template.","version":"0.11.2","contributors":["MaximeVivier","Sc0ra","guillaumeduboc"],"license":"MIT","homepage":"https://www.swarmion.dev","bugs":"https://github.com/swarmion/swarmion/issues","repository":"swarmion/swarmion.git","keywords":["Serverless","Swarmion","Typescript","app","create"],"publishConfig":{"access":"public"},"sideEffects":false,"files":["dist"],"scripts":{"build":"ncc build ./src/index.ts -o ./dist/ --minify --no-cache --no-source-map-register","dev":"ncc build ./src/index.ts -w -o dist/","lint-fix":"pnpm linter-base-config --fix","lint-fix-all":"pnpm lint-fix .","linter-base-config":"eslint --ext=js,ts","test":"pnpm test-linter && pnpm test-type && pnpm test-unit && pnpm test-circular","test-circular":"pnpm depcruise --validate .dependency-cruiser.js .","test-linter":"pnpm linter-base-config .","test-type":"tsc --noEmit --emitDeclarationOnly false","test-unit":"vitest run --coverage --passWithNoTests","transpile":"babel src --extensions .ts --quiet --copy-files","watch":"rm -rf dist && concurrently \'pnpm:package-* --watch\'"},"bin":"./dist/index.js","devDependencies":{"@types/async-retry":"^1.4.5","@types/cross-spawn":"^6.0.2","@types/node":"^18.8.5","@types/prompts":"^2.4.1","@types/rimraf":"^3.0.2","@types/tar":"^6.1.3","@types/validate-npm-package-name":"^4.0.0","@vercel/ncc":"^0.34.0","@vitest/coverage-c8":"^0.23.4","async-retry":"^1.3.3","babel-plugin-module-resolver":"^4.1.0","chalk":"^5.1.2","commander":"^9.4.1","concurrently":"^7.4.0","cross-spawn":"^7.0.3","dependency-cruiser":"^11.16.1","eslint":"^8.25.0","got":"^12.5.2","prettier":"^2.7.1","prompts":"^2.4.2","rimraf":"^3.0.2","tar":"^4.4.19","ts-node":"^10.9.1","typescript":"^4.8.4","update-check":"^1.5.4","validate-npm-package-name":"^4.0.0","vite-tsconfig-paths":"^3.5.1","vitest":"^0.23.4"}}');var Xt=undefined&&undefined.__awaiter||function(t,r,i,o){function adopt(t){return t instanceof i?t:new i((function(r){r(t)}))}return new(i||(i=Promise))((function(i,a){function fulfilled(t){try{step(o.next(t))}catch(t){a(t)}}function rejected(t){try{step(o["throw"](t))}catch(t){a(t)}}function step(t){t.done?i(t.value):adopt(t.value).then(fulfilled,rejected)}step((o=o.apply(t,r||[])).next())}))};var Kt=undefined&&undefined.__generator||function(t,r){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,a,c,l;return l={next:verb(0),throw:verb(1),return:verb(2)},typeof Symbol==="function"&&(l[Symbol.iterator]=function(){return this}),l;function verb(t){return function(r){return step([t,r])}}function step(l){if(o)throw new TypeError("Generator is already executing.");while(i)try{if(o=1,a&&(c=l[0]&2?a["return"]:l[0]?a["throw"]||((c=a["return"])&&c.call(a),0):a.next)&&!(c=c.call(a,l[1])).done)return c;if(a=0,c)l=[l[0]&2,c.value];switch(l[0]){case 0:case 1:c=l;break;case 4:i.label++;return{value:l[1],done:false};case 5:i.label++;a=l[1];l=[0];continue;case 7:l=i.ops.pop();i.trys.pop();continue;default:if(!(c=i.trys,c=c.length>0&&c[c.length-1])&&(l[0]===6||l[0]===2)){i=0;continue}if(l[0]===3&&(!c||l[1]>c[0]&&l[1]<c[3])){i.label=l[1];break}if(l[0]===6&&i.label<c[1]){i.label=c[1];c=l;break}if(c&&i.label<c[2]){i.label=c[2];i.ops.push(l);break}if(c[2])i.ops.pop();i.trys.pop();continue}l=r.call(t,i)}catch(t){l=[6,t];a=0}finally{o=c=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:true}}};var Qt="";var es="swarmion-starter";var ts=new q(Jt.name).arguments("[project-directory]").option("-t, --template","template choice").usage("".concat(N.green("[project-directory]")," [options]")).action((function(t){Qt=t})).allowUnknownOption().parse(process.argv);var run=function(){return Xt(void 0,void 0,void 0,(function(){var t,r,i,o,a,c,l,h,u,d,p;return Kt(this,(function(m){switch(m.label){case 0:if(typeof Qt==="string"){Qt=Qt.trim()}if(!(Qt===undefined||Qt===""))return[3,2];return[4,J()({type:"text",name:"path",message:"What is your project named?",initial:"my-app",validate:function(t){var r=validateNpmName(W().basename(W().resolve(t)));if(r.valid){return true}return"Invalid project name: "+r.problems[0]}})];case 1:t=m.sent();if(typeof t.path==="string"){Qt=t.path.trim()}m.label=2;case 2:if(Qt===undefined||Qt===""){console.log();console.log("Please specify the project directory:");console.log("  ".concat(N.cyan(ts.name())," ").concat(N.green("<project-directory>")));console.log();console.log("For example:");console.log("  ".concat(N.cyan(ts.name())," ").concat(N.green("my-swarmion-app")));console.log();console.log("Run ".concat(N.cyan("".concat(ts.name()," --help"))," to see all options."));process.exit(1)}r=W().resolve(Qt);i=W().basename(r);o=validateNpmName(i),a=o.valid,c=o.problems;if(!a){console.error("Could not create a project called ".concat(N.red('"'.concat(i,'"'))," because of npm naming restrictions:"));c.forEach((function(t){return console.error("    ".concat(N.red.bold("*")," ").concat(t))}));process.exit(1)}l=getPkgManager();if(l!=="pnpm"){console.error("Please use pnpm as package manager with Swarmion.");process.exit(1)}return[4,J()({type:"select",name:"template",message:"Choose your starting template",choices:[{title:"Swarmion Starter",description:"Simple example with a single backend",value:"swarmion-starter"},{title:"Swarmion Fullstack",description:"More complete example with a backend, a frontend and a shared lib",value:"swarmion-full-stack"}]})];case 3:h=m.sent();if(isValidTemplate(h.template)){es=h.template}u=Jt.version;m.label=4;case 4:m.trys.push([4,6,,9]);return[4,createApp({appPath:r,template:es,packageVersion:u})];case 5:m.sent();return[3,9];case 6:d=m.sent();if(!(d instanceof zt)){throw d}return[4,J()({type:"confirm",name:"builtin",message:"Could not download Swarmion template because of a connectivity issue between your machine and GitHub.\n"+"Do you want to use the default template instead?",initial:true})];case 7:p=m.sent();if(p.builtin===undefined||p.builtin===null){throw d}return[4,createApp({appPath:r,template:es,packageVersion:u})];case 8:m.sent();return[3,9];case 9:return[2]}}))}))};var ss=K()(Jt)["catch"]((function(){return null}));var notifyUpdate=function(){return Xt(void 0,void 0,void 0,(function(){var t,r,i;return Kt(this,(function(o){switch(o.label){case 0:o.trys.push([0,2,,3]);return[4,ss];case 1:t=o.sent();if((t===null||t===void 0?void 0:t.latest)===undefined){r=getPkgManager();console.log();console.log(N.yellow.bold("A new version of `create-swarmion-app` is available!"));console.log("You can update by running: "+N.cyan(r==="yarn"?"yarn global add create-swarmion-app":"".concat(r," install --global create-swarmion-app")));console.log()}process.exit();return[3,3];case 2:i=o.sent();return[3,3];case 3:return[2]}}))}))};run().then(notifyUpdate)["catch"]((function(t){return Xt(void 0,void 0,void 0,(function(){return Kt(this,(function(r){switch(r.label){case 0:console.log();console.log("Aborting installation.");if(t.command){console.log("  ".concat(N.cyan(t.command)," has failed."))}else{console.log(N.red("Unexpected error. Please report it as a bug:"));console.log(t)}console.log();return[4,notifyUpdate()];case 1:r.sent();process.exit(1);return[2]}}))}))}))},9491:t=>{"use strict";t.exports=require("assert")},4300:t=>{"use strict";t.exports=require("buffer")},2081:t=>{"use strict";t.exports=require("child_process")},6113:t=>{"use strict";t.exports=require("crypto")},2361:t=>{"use strict";t.exports=require("events")},7147:t=>{"use strict";t.exports=require("fs")},3685:t=>{"use strict";t.exports=require("http")},5158:t=>{"use strict";t.exports=require("http2")},5687:t=>{"use strict";t.exports=require("https")},1808:t=>{"use strict";t.exports=require("net")},2037:t=>{"use strict";t.exports=require("os")},1017:t=>{"use strict";t.exports=require("path")},7282:t=>{"use strict";t.exports=require("process")},4521:t=>{"use strict";t.exports=require("readline")},2781:t=>{"use strict";t.exports=require("stream")},1576:t=>{"use strict";t.exports=require("string_decoder")},4404:t=>{"use strict";t.exports=require("tls")},7310:t=>{"use strict";t.exports=require("url")},3837:t=>{"use strict";t.exports=require("util")},9796:t=>{"use strict";t.exports=require("zlib")},345:(t,r,i)=>{const{Argument:o}=i(4079);const{Command:a}=i(6505);const{CommanderError:c,InvalidArgumentError:l}=i(9027);const{Help:h}=i(9164);const{Option:u}=i(5205);r=t.exports=new a;r.program=r;r.Argument=o;r.Command=a;r.CommanderError=c;r.Help=h;r.InvalidArgumentError=l;r.InvalidOptionArgumentError=l;r.Option=u},4079:(t,r,i)=>{const{InvalidArgumentError:o}=i(9027);class Argument{constructor(t,r){this.description=r||"";this.variadic=false;this.parseArg=undefined;this.defaultValue=undefined;this.defaultValueDescription=undefined;this.argChoices=undefined;switch(t[0]){case"<":this.required=true;this._name=t.slice(1,-1);break;case"[":this.required=false;this._name=t.slice(1,-1);break;default:this.required=true;this._name=t;break}if(this._name.length>3&&this._name.slice(-3)==="..."){this.variadic=true;this._name=this._name.slice(0,-3)}}name(){return this._name}_concatValue(t,r){if(r===this.defaultValue||!Array.isArray(r)){return[t]}return r.concat(t)}default(t,r){this.defaultValue=t;this.defaultValueDescription=r;return this}argParser(t){this.parseArg=t;return this}choices(t){this.argChoices=t.slice();this.parseArg=(t,r)=>{if(!this.argChoices.includes(t)){throw new o(`Allowed choices are ${this.argChoices.join(", ")}.`)}if(this.variadic){return this._concatValue(t,r)}return t};return this}argRequired(){this.required=true;return this}argOptional(){this.required=false;return this}}function humanReadableArgName(t){const r=t.name()+(t.variadic===true?"...":"");return t.required?"<"+r+">":"["+r+"]"}r.Argument=Argument;r.humanReadableArgName=humanReadableArgName},6505:(t,r,i)=>{const o=i(2361).EventEmitter;const a=i(2081);const c=i(1017);const l=i(7147);const h=i(7282);const{Argument:u,humanReadableArgName:d}=i(4079);const{CommanderError:p}=i(9027);const{Help:m}=i(9164);const{Option:g,splitOptionFlags:y,DualOptions:b}=i(5205);const{suggestSimilar:v}=i(211);class Command extends o{constructor(t){super();this.commands=[];this.options=[];this.parent=null;this._allowUnknownOption=false;this._allowExcessArguments=true;this._args=[];this.args=[];this.rawArgs=[];this.processedArgs=[];this._scriptPath=null;this._name=t||"";this._optionValues={};this._optionValueSources={};this._storeOptionsAsProperties=false;this._actionHandler=null;this._executableHandler=false;this._executableFile=null;this._executableDir=null;this._defaultCommandName=null;this._exitCallback=null;this._aliases=[];this._combineFlagAndOptionalValue=true;this._description="";this._summary="";this._argsDescription=undefined;this._enablePositionalOptions=false;this._passThroughOptions=false;this._lifeCycleHooks={};this._showHelpAfterError=false;this._showSuggestionAfterError=true;this._outputConfiguration={writeOut:t=>h.stdout.write(t),writeErr:t=>h.stderr.write(t),getOutHelpWidth:()=>h.stdout.isTTY?h.stdout.columns:undefined,getErrHelpWidth:()=>h.stderr.isTTY?h.stderr.columns:undefined,outputError:(t,r)=>r(t)};this._hidden=false;this._hasHelpOption=true;this._helpFlags="-h, --help";this._helpDescription="display help for command";this._helpShortFlag="-h";this._helpLongFlag="--help";this._addImplicitHelpCommand=undefined;this._helpCommandName="help";this._helpCommandnameAndArgs="help [command]";this._helpCommandDescription="display help for command";this._helpConfiguration={}}copyInheritedSettings(t){this._outputConfiguration=t._outputConfiguration;this._hasHelpOption=t._hasHelpOption;this._helpFlags=t._helpFlags;this._helpDescription=t._helpDescription;this._helpShortFlag=t._helpShortFlag;this._helpLongFlag=t._helpLongFlag;this._helpCommandName=t._helpCommandName;this._helpCommandnameAndArgs=t._helpCommandnameAndArgs;this._helpCommandDescription=t._helpCommandDescription;this._helpConfiguration=t._helpConfiguration;this._exitCallback=t._exitCallback;this._storeOptionsAsProperties=t._storeOptionsAsProperties;this._combineFlagAndOptionalValue=t._combineFlagAndOptionalValue;this._allowExcessArguments=t._allowExcessArguments;this._enablePositionalOptions=t._enablePositionalOptions;this._showHelpAfterError=t._showHelpAfterError;this._showSuggestionAfterError=t._showSuggestionAfterError;return this}command(t,r,i){let o=r;let a=i;if(typeof o==="object"&&o!==null){a=o;o=null}a=a||{};const[,c,l]=t.match(/([^ ]+) *(.*)/);const h=this.createCommand(c);if(o){h.description(o);h._executableHandler=true}if(a.isDefault)this._defaultCommandName=h._name;h._hidden=!!(a.noHelp||a.hidden);h._executableFile=a.executableFile||null;if(l)h.arguments(l);this.commands.push(h);h.parent=this;h.copyInheritedSettings(this);if(o)return this;return h}createCommand(t){return new Command(t)}createHelp(){return Object.assign(new m,this.configureHelp())}configureHelp(t){if(t===undefined)return this._helpConfiguration;this._helpConfiguration=t;return this}configureOutput(t){if(t===undefined)return this._outputConfiguration;Object.assign(this._outputConfiguration,t);return this}showHelpAfterError(t=true){if(typeof t!=="string")t=!!t;this._showHelpAfterError=t;return this}showSuggestionAfterError(t=true){this._showSuggestionAfterError=!!t;return this}addCommand(t,r){if(!t._name){throw new Error(`Command passed to .addCommand() must have a name\n- specify the name in Command constructor or using .name()`)}r=r||{};if(r.isDefault)this._defaultCommandName=t._name;if(r.noHelp||r.hidden)t._hidden=true;this.commands.push(t);t.parent=this;return this}createArgument(t,r){return new u(t,r)}argument(t,r,i,o){const a=this.createArgument(t,r);if(typeof i==="function"){a.default(o).argParser(i)}else{a.default(i)}this.addArgument(a);return this}arguments(t){t.split(/ +/).forEach((t=>{this.argument(t)}));return this}addArgument(t){const r=this._args.slice(-1)[0];if(r&&r.variadic){throw new Error(`only the last argument can be variadic '${r.name()}'`)}if(t.required&&t.defaultValue!==undefined&&t.parseArg===undefined){throw new Error(`a default value for a required argument is never used: '${t.name()}'`)}this._args.push(t);return this}addHelpCommand(t,r){if(t===false){this._addImplicitHelpCommand=false}else{this._addImplicitHelpCommand=true;if(typeof t==="string"){this._helpCommandName=t.split(" ")[0];this._helpCommandnameAndArgs=t}this._helpCommandDescription=r||this._helpCommandDescription}return this}_hasImplicitHelpCommand(){if(this._addImplicitHelpCommand===undefined){return this.commands.length&&!this._actionHandler&&!this._findCommand("help")}return this._addImplicitHelpCommand}hook(t,r){const i=["preSubcommand","preAction","postAction"];if(!i.includes(t)){throw new Error(`Unexpected value for event passed to hook : '${t}'.\nExpecting one of '${i.join("', '")}'`)}if(this._lifeCycleHooks[t]){this._lifeCycleHooks[t].push(r)}else{this._lifeCycleHooks[t]=[r]}return this}exitOverride(t){if(t){this._exitCallback=t}else{this._exitCallback=t=>{if(t.code!=="commander.executeSubCommandAsync"){throw t}else{}}}return this}_exit(t,r,i){if(this._exitCallback){this._exitCallback(new p(t,r,i))}h.exit(t)}action(t){const listener=r=>{const i=this._args.length;const o=r.slice(0,i);if(this._storeOptionsAsProperties){o[i]=this}else{o[i]=this.opts()}o.push(this);return t.apply(this,o)};this._actionHandler=listener;return this}createOption(t,r){return new g(t,r)}addOption(t){const r=t.name();const i=t.attributeName();if(t.negate){const r=t.long.replace(/^--no-/,"--");if(!this._findOption(r)){this.setOptionValueWithSource(i,t.defaultValue===undefined?true:t.defaultValue,"default")}}else if(t.defaultValue!==undefined){this.setOptionValueWithSource(i,t.defaultValue,"default")}this.options.push(t);const handleOptionValue=(r,o,a)=>{if(r==null&&t.presetArg!==undefined){r=t.presetArg}const c=this.getOptionValue(i);if(r!==null&&t.parseArg){try{r=t.parseArg(r,c)}catch(t){if(t.code==="commander.invalidArgument"){const r=`${o} ${t.message}`;this.error(r,{exitCode:t.exitCode,code:t.code})}throw t}}else if(r!==null&&t.variadic){r=t._concatValue(r,c)}if(r==null){if(t.negate){r=false}else if(t.isBoolean()||t.optional){r=true}else{r=""}}this.setOptionValueWithSource(i,r,a)};this.on("option:"+r,(r=>{const i=`error: option '${t.flags}' argument '${r}' is invalid.`;handleOptionValue(r,i,"cli")}));if(t.envVar){this.on("optionEnv:"+r,(r=>{const i=`error: option '${t.flags}' value '${r}' from env '${t.envVar}' is invalid.`;handleOptionValue(r,i,"env")}))}return this}_optionEx(t,r,i,o,a){if(typeof r==="object"&&r instanceof g){throw new Error("To add an Option object use addOption() instead of option() or requiredOption()")}const c=this.createOption(r,i);c.makeOptionMandatory(!!t.mandatory);if(typeof o==="function"){c.default(a).argParser(o)}else if(o instanceof RegExp){const t=o;o=(r,i)=>{const o=t.exec(r);return o?o[0]:i};c.default(a).argParser(o)}else{c.default(o)}return this.addOption(c)}option(t,r,i,o){return this._optionEx({},t,r,i,o)}requiredOption(t,r,i,o){return this._optionEx({mandatory:true},t,r,i,o)}combineFlagAndOptionalValue(t=true){this._combineFlagAndOptionalValue=!!t;return this}allowUnknownOption(t=true){this._allowUnknownOption=!!t;return this}allowExcessArguments(t=true){this._allowExcessArguments=!!t;return this}enablePositionalOptions(t=true){this._enablePositionalOptions=!!t;return this}passThroughOptions(t=true){this._passThroughOptions=!!t;if(!!this.parent&&t&&!this.parent._enablePositionalOptions){throw new Error("passThroughOptions can not be used without turning on enablePositionalOptions for parent command(s)")}return this}storeOptionsAsProperties(t=true){this._storeOptionsAsProperties=!!t;if(this.options.length){throw new Error("call .storeOptionsAsProperties() before adding options")}return this}getOptionValue(t){if(this._storeOptionsAsProperties){return this[t]}return this._optionValues[t]}setOptionValue(t,r){return this.setOptionValueWithSource(t,r,undefined)}setOptionValueWithSource(t,r,i){if(this._storeOptionsAsProperties){this[t]=r}else{this._optionValues[t]=r}this._optionValueSources[t]=i;return this}getOptionValueSource(t){return this._optionValueSources[t]}_prepareUserArgs(t,r){if(t!==undefined&&!Array.isArray(t)){throw new Error("first parameter to parse must be array or undefined")}r=r||{};if(t===undefined){t=h.argv;if(h.versions&&h.versions.electron){r.from="electron"}}this.rawArgs=t.slice();let i;switch(r.from){case undefined:case"node":this._scriptPath=t[1];i=t.slice(2);break;case"electron":if(h.defaultApp){this._scriptPath=t[1];i=t.slice(2)}else{i=t.slice(1)}break;case"user":i=t.slice(0);break;default:throw new Error(`unexpected parse option { from: '${r.from}' }`)}if(!this._name&&this._scriptPath)this.nameFromFilename(this._scriptPath);this._name=this._name||"program";return i}parse(t,r){const i=this._prepareUserArgs(t,r);this._parseCommand([],i);return this}async parseAsync(t,r){const i=this._prepareUserArgs(t,r);await this._parseCommand([],i);return this}_executeSubCommand(t,r){r=r.slice();let i=false;const o=[".js",".ts",".tsx",".mjs",".cjs"];function findFile(t,r){const i=c.resolve(t,r);if(l.existsSync(i))return i;if(o.includes(c.extname(r)))return undefined;const a=o.find((t=>l.existsSync(`${i}${t}`)));if(a)return`${i}${a}`;return undefined}this._checkForMissingMandatoryOptions();this._checkForConflictingOptions();let u=t._executableFile||`${this._name}-${t._name}`;let d=this._executableDir||"";if(this._scriptPath){let t;try{t=l.realpathSync(this._scriptPath)}catch(r){t=this._scriptPath}d=c.resolve(c.dirname(t),d)}if(d){let r=findFile(d,u);if(!r&&!t._executableFile&&this._scriptPath){const i=c.basename(this._scriptPath,c.extname(this._scriptPath));if(i!==this._name){r=findFile(d,`${i}-${t._name}`)}}u=r||u}i=o.includes(c.extname(u));let m;if(h.platform!=="win32"){if(i){r.unshift(u);r=incrementNodeInspectorPort(h.execArgv).concat(r);m=a.spawn(h.argv[0],r,{stdio:"inherit"})}else{m=a.spawn(u,r,{stdio:"inherit"})}}else{r.unshift(u);r=incrementNodeInspectorPort(h.execArgv).concat(r);m=a.spawn(h.execPath,r,{stdio:"inherit"})}if(!m.killed){const t=["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"];t.forEach((t=>{h.on(t,(()=>{if(m.killed===false&&m.exitCode===null){m.kill(t)}}))}))}const g=this._exitCallback;if(!g){m.on("close",h.exit.bind(h))}else{m.on("close",(()=>{g(new p(h.exitCode||0,"commander.executeSubCommandAsync","(close)"))}))}m.on("error",(r=>{if(r.code==="ENOENT"){const r=d?`searched for local subcommand relative to directory '${d}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory";const i=`'${u}' does not exist\n - if '${t._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name or path\n - ${r}`;throw new Error(i)}else if(r.code==="EACCES"){throw new Error(`'${u}' not executable`)}if(!g){h.exit(1)}else{const t=new p(1,"commander.executeSubCommandAsync","(error)");t.nestedError=r;g(t)}}));this.runningCommand=m}_dispatchSubcommand(t,r,i){const o=this._findCommand(t);if(!o)this.help({error:true});let a;a=this._chainOrCallSubCommandHook(a,o,"preSubcommand");a=this._chainOrCall(a,(()=>{if(o._executableHandler){this._executeSubCommand(o,r.concat(i))}else{return o._parseCommand(r,i)}}));return a}_checkNumberOfArguments(){this._args.forEach(((t,r)=>{if(t.required&&this.args[r]==null){this.missingArgument(t.name())}}));if(this._args.length>0&&this._args[this._args.length-1].variadic){return}if(this.args.length>this._args.length){this._excessArguments(this.args)}}_processArguments(){const myParseArg=(t,r,i)=>{let o=r;if(r!==null&&t.parseArg){try{o=t.parseArg(r,i)}catch(i){if(i.code==="commander.invalidArgument"){const o=`error: command-argument value '${r}' is invalid for argument '${t.name()}'. ${i.message}`;this.error(o,{exitCode:i.exitCode,code:i.code})}throw i}}return o};this._checkNumberOfArguments();const t=[];this._args.forEach(((r,i)=>{let o=r.defaultValue;if(r.variadic){if(i<this.args.length){o=this.args.slice(i);if(r.parseArg){o=o.reduce(((t,i)=>myParseArg(r,i,t)),r.defaultValue)}}else if(o===undefined){o=[]}}else if(i<this.args.length){o=this.args[i];if(r.parseArg){o=myParseArg(r,o,r.defaultValue)}}t[i]=o}));this.processedArgs=t}_chainOrCall(t,r){if(t&&t.then&&typeof t.then==="function"){return t.then((()=>r()))}return r()}_chainOrCallHooks(t,r){let i=t;const o=[];getCommandAndParents(this).reverse().filter((t=>t._lifeCycleHooks[r]!==undefined)).forEach((t=>{t._lifeCycleHooks[r].forEach((r=>{o.push({hookedCommand:t,callback:r})}))}));if(r==="postAction"){o.reverse()}o.forEach((t=>{i=this._chainOrCall(i,(()=>t.callback(t.hookedCommand,this)))}));return i}_chainOrCallSubCommandHook(t,r,i){let o=t;if(this._lifeCycleHooks[i]!==undefined){this._lifeCycleHooks[i].forEach((t=>{o=this._chainOrCall(o,(()=>t(this,r)))}))}return o}_parseCommand(t,r){const i=this.parseOptions(r);this._parseOptionsEnv();this._parseOptionsImplied();t=t.concat(i.operands);r=i.unknown;this.args=t.concat(r);if(t&&this._findCommand(t[0])){return this._dispatchSubcommand(t[0],t.slice(1),r)}if(this._hasImplicitHelpCommand()&&t[0]===this._helpCommandName){if(t.length===1){this.help()}return this._dispatchSubcommand(t[1],[],[this._helpLongFlag])}if(this._defaultCommandName){outputHelpIfRequested(this,r);return this._dispatchSubcommand(this._defaultCommandName,t,r)}if(this.commands.length&&this.args.length===0&&!this._actionHandler&&!this._defaultCommandName){this.help({error:true})}outputHelpIfRequested(this,i.unknown);this._checkForMissingMandatoryOptions();this._checkForConflictingOptions();const checkForUnknownOptions=()=>{if(i.unknown.length>0){this.unknownOption(i.unknown[0])}};const o=`command:${this.name()}`;if(this._actionHandler){checkForUnknownOptions();this._processArguments();let i;i=this._chainOrCallHooks(i,"preAction");i=this._chainOrCall(i,(()=>this._actionHandler(this.processedArgs)));if(this.parent){i=this._chainOrCall(i,(()=>{this.parent.emit(o,t,r)}))}i=this._chainOrCallHooks(i,"postAction");return i}if(this.parent&&this.parent.listenerCount(o)){checkForUnknownOptions();this._processArguments();this.parent.emit(o,t,r)}else if(t.length){if(this._findCommand("*")){return this._dispatchSubcommand("*",t,r)}if(this.listenerCount("command:*")){this.emit("command:*",t,r)}else if(this.commands.length){this.unknownCommand()}else{checkForUnknownOptions();this._processArguments()}}else if(this.commands.length){checkForUnknownOptions();this.help({error:true})}else{checkForUnknownOptions();this._processArguments()}}_findCommand(t){if(!t)return undefined;return this.commands.find((r=>r._name===t||r._aliases.includes(t)))}_findOption(t){return this.options.find((r=>r.is(t)))}_checkForMissingMandatoryOptions(){for(let t=this;t;t=t.parent){t.options.forEach((r=>{if(r.mandatory&&t.getOptionValue(r.attributeName())===undefined){t.missingMandatoryOptionValue(r)}}))}}_checkForConflictingLocalOptions(){const t=this.options.filter((t=>{const r=t.attributeName();if(this.getOptionValue(r)===undefined){return false}return this.getOptionValueSource(r)!=="default"}));const r=t.filter((t=>t.conflictsWith.length>0));r.forEach((r=>{const i=t.find((t=>r.conflictsWith.includes(t.attributeName())));if(i){this._conflictingOption(r,i)}}))}_checkForConflictingOptions(){for(let t=this;t;t=t.parent){t._checkForConflictingLocalOptions()}}parseOptions(t){const r=[];const i=[];let o=r;const a=t.slice();function maybeOption(t){return t.length>1&&t[0]==="-"}let c=null;while(a.length){const t=a.shift();if(t==="--"){if(o===i)o.push(t);o.push(...a);break}if(c&&!maybeOption(t)){this.emit(`option:${c.name()}`,t);continue}c=null;if(maybeOption(t)){const r=this._findOption(t);if(r){if(r.required){const t=a.shift();if(t===undefined)this.optionMissingArgument(r);this.emit(`option:${r.name()}`,t)}else if(r.optional){let t=null;if(a.length>0&&!maybeOption(a[0])){t=a.shift()}this.emit(`option:${r.name()}`,t)}else{this.emit(`option:${r.name()}`)}c=r.variadic?r:null;continue}}if(t.length>2&&t[0]==="-"&&t[1]!=="-"){const r=this._findOption(`-${t[1]}`);if(r){if(r.required||r.optional&&this._combineFlagAndOptionalValue){this.emit(`option:${r.name()}`,t.slice(2))}else{this.emit(`option:${r.name()}`);a.unshift(`-${t.slice(2)}`)}continue}}if(/^--[^=]+=/.test(t)){const r=t.indexOf("=");const i=this._findOption(t.slice(0,r));if(i&&(i.required||i.optional)){this.emit(`option:${i.name()}`,t.slice(r+1));continue}}if(maybeOption(t)){o=i}if((this._enablePositionalOptions||this._passThroughOptions)&&r.length===0&&i.length===0){if(this._findCommand(t)){r.push(t);if(a.length>0)i.push(...a);break}else if(t===this._helpCommandName&&this._hasImplicitHelpCommand()){r.push(t);if(a.length>0)r.push(...a);break}else if(this._defaultCommandName){i.push(t);if(a.length>0)i.push(...a);break}}if(this._passThroughOptions){o.push(t);if(a.length>0)o.push(...a);break}o.push(t)}return{operands:r,unknown:i}}opts(){if(this._storeOptionsAsProperties){const t={};const r=this.options.length;for(let i=0;i<r;i++){const r=this.options[i].attributeName();t[r]=r===this._versionOptionName?this._version:this[r]}return t}return this._optionValues}optsWithGlobals(){return getCommandAndParents(this).reduce(((t,r)=>Object.assign(t,r.opts())),{})}error(t,r){this._outputConfiguration.outputError(`${t}\n`,this._outputConfiguration.writeErr);if(typeof this._showHelpAfterError==="string"){this._outputConfiguration.writeErr(`${this._showHelpAfterError}\n`)}else if(this._showHelpAfterError){this._outputConfiguration.writeErr("\n");this.outputHelp({error:true})}const i=r||{};const o=i.exitCode||1;const a=i.code||"commander.error";this._exit(o,a,t)}_parseOptionsEnv(){this.options.forEach((t=>{if(t.envVar&&t.envVar in h.env){const r=t.attributeName();if(this.getOptionValue(r)===undefined||["default","config","env"].includes(this.getOptionValueSource(r))){if(t.required||t.optional){this.emit(`optionEnv:${t.name()}`,h.env[t.envVar])}else{this.emit(`optionEnv:${t.name()}`)}}}}))}_parseOptionsImplied(){const t=new b(this.options);const hasCustomOptionValue=t=>this.getOptionValue(t)!==undefined&&!["default","implied"].includes(this.getOptionValueSource(t));this.options.filter((r=>r.implied!==undefined&&hasCustomOptionValue(r.attributeName())&&t.valueFromOption(this.getOptionValue(r.attributeName()),r))).forEach((t=>{Object.keys(t.implied).filter((t=>!hasCustomOptionValue(t))).forEach((r=>{this.setOptionValueWithSource(r,t.implied[r],"implied")}))}))}missingArgument(t){const r=`error: missing required argument '${t}'`;this.error(r,{code:"commander.missingArgument"})}optionMissingArgument(t){const r=`error: option '${t.flags}' argument missing`;this.error(r,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(t){const r=`error: required option '${t.flags}' not specified`;this.error(r,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(t,r){const findBestOptionFromValue=t=>{const r=t.attributeName();const i=this.getOptionValue(r);const o=this.options.find((t=>t.negate&&r===t.attributeName()));const a=this.options.find((t=>!t.negate&&r===t.attributeName()));if(o&&(o.presetArg===undefined&&i===false||o.presetArg!==undefined&&i===o.presetArg)){return o}return a||t};const getErrorMessage=t=>{const r=findBestOptionFromValue(t);const i=r.attributeName();const o=this.getOptionValueSource(i);if(o==="env"){return`environment variable '${r.envVar}'`}return`option '${r.flags}'`};const i=`error: ${getErrorMessage(t)} cannot be used with ${getErrorMessage(r)}`;this.error(i,{code:"commander.conflictingOption"})}unknownOption(t){if(this._allowUnknownOption)return;let r="";if(t.startsWith("--")&&this._showSuggestionAfterError){let i=[];let o=this;do{const t=o.createHelp().visibleOptions(o).filter((t=>t.long)).map((t=>t.long));i=i.concat(t);o=o.parent}while(o&&!o._enablePositionalOptions);r=v(t,i)}const i=`error: unknown option '${t}'${r}`;this.error(i,{code:"commander.unknownOption"})}_excessArguments(t){if(this._allowExcessArguments)return;const r=this._args.length;const i=r===1?"":"s";const o=this.parent?` for '${this.name()}'`:"";const a=`error: too many arguments${o}. Expected ${r} argument${i} but got ${t.length}.`;this.error(a,{code:"commander.excessArguments"})}unknownCommand(){const t=this.args[0];let r="";if(this._showSuggestionAfterError){const i=[];this.createHelp().visibleCommands(this).forEach((t=>{i.push(t.name());if(t.alias())i.push(t.alias())}));r=v(t,i)}const i=`error: unknown command '${t}'${r}`;this.error(i,{code:"commander.unknownCommand"})}version(t,r,i){if(t===undefined)return this._version;this._version=t;r=r||"-V, --version";i=i||"output the version number";const o=this.createOption(r,i);this._versionOptionName=o.attributeName();this.options.push(o);this.on("option:"+o.name(),(()=>{this._outputConfiguration.writeOut(`${t}\n`);this._exit(0,"commander.version",t)}));return this}description(t,r){if(t===undefined&&r===undefined)return this._description;this._description=t;if(r){this._argsDescription=r}return this}summary(t){if(t===undefined)return this._summary;this._summary=t;return this}alias(t){if(t===undefined)return this._aliases[0];let r=this;if(this.commands.length!==0&&this.commands[this.commands.length-1]._executableHandler){r=this.commands[this.commands.length-1]}if(t===r._name)throw new Error("Command alias can't be the same as its name");r._aliases.push(t);return this}aliases(t){if(t===undefined)return this._aliases;t.forEach((t=>this.alias(t)));return this}usage(t){if(t===undefined){if(this._usage)return this._usage;const t=this._args.map((t=>d(t)));return[].concat(this.options.length||this._hasHelpOption?"[options]":[],this.commands.length?"[command]":[],this._args.length?t:[]).join(" ")}this._usage=t;return this}name(t){if(t===undefined)return this._name;this._name=t;return this}nameFromFilename(t){this._name=c.basename(t,c.extname(t));return this}executableDir(t){if(t===undefined)return this._executableDir;this._executableDir=t;return this}helpInformation(t){const r=this.createHelp();if(r.helpWidth===undefined){r.helpWidth=t&&t.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()}return r.formatHelp(this,r)}_getHelpContext(t){t=t||{};const r={error:!!t.error};let i;if(r.error){i=t=>this._outputConfiguration.writeErr(t)}else{i=t=>this._outputConfiguration.writeOut(t)}r.write=t.write||i;r.command=this;return r}outputHelp(t){let r;if(typeof t==="function"){r=t;t=undefined}const i=this._getHelpContext(t);getCommandAndParents(this).reverse().forEach((t=>t.emit("beforeAllHelp",i)));this.emit("beforeHelp",i);let o=this.helpInformation(i);if(r){o=r(o);if(typeof o!=="string"&&!Buffer.isBuffer(o)){throw new Error("outputHelp callback must return a string or a Buffer")}}i.write(o);this.emit(this._helpLongFlag);this.emit("afterHelp",i);getCommandAndParents(this).forEach((t=>t.emit("afterAllHelp",i)))}helpOption(t,r){if(typeof t==="boolean"){this._hasHelpOption=t;return this}this._helpFlags=t||this._helpFlags;this._helpDescription=r||this._helpDescription;const i=y(this._helpFlags);this._helpShortFlag=i.shortFlag;this._helpLongFlag=i.longFlag;return this}help(t){this.outputHelp(t);let r=h.exitCode||0;if(r===0&&t&&typeof t!=="function"&&t.error){r=1}this._exit(r,"commander.help","(outputHelp)")}addHelpText(t,r){const i=["beforeAll","before","after","afterAll"];if(!i.includes(t)){throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${i.join("', '")}'`)}const o=`${t}Help`;this.on(o,(t=>{let i;if(typeof r==="function"){i=r({error:t.error,command:t.command})}else{i=r}if(i){t.write(`${i}\n`)}}));return this}}function outputHelpIfRequested(t,r){const i=t._hasHelpOption&&r.find((r=>r===t._helpLongFlag||r===t._helpShortFlag));if(i){t.outputHelp();t._exit(0,"commander.helpDisplayed","(outputHelp)")}}function incrementNodeInspectorPort(t){return t.map((t=>{if(!t.startsWith("--inspect")){return t}let r;let i="127.0.0.1";let o="9229";let a;if((a=t.match(/^(--inspect(-brk)?)$/))!==null){r=a[1]}else if((a=t.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))!==null){r=a[1];if(/^\d+$/.test(a[3])){o=a[3]}else{i=a[3]}}else if((a=t.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))!==null){r=a[1];i=a[3];o=a[4]}if(r&&o!=="0"){return`${r}=${i}:${parseInt(o)+1}`}return t}))}function getCommandAndParents(t){const r=[];for(let i=t;i;i=i.parent){r.push(i)}return r}r.Command=Command},9027:(t,r)=>{class CommanderError extends Error{constructor(t,r,i){super(i);Error.captureStackTrace(this,this.constructor);this.name=this.constructor.name;this.code=r;this.exitCode=t;this.nestedError=undefined}}class InvalidArgumentError extends CommanderError{constructor(t){super(1,"commander.invalidArgument",t);Error.captureStackTrace(this,this.constructor);this.name=this.constructor.name}}r.CommanderError=CommanderError;r.InvalidArgumentError=InvalidArgumentError},9164:(t,r,i)=>{const{humanReadableArgName:o}=i(4079);class Help{constructor(){this.helpWidth=undefined;this.sortSubcommands=false;this.sortOptions=false}visibleCommands(t){const r=t.commands.filter((t=>!t._hidden));if(t._hasImplicitHelpCommand()){const[,i,o]=t._helpCommandnameAndArgs.match(/([^ ]+) *(.*)/);const a=t.createCommand(i).helpOption(false);a.description(t._helpCommandDescription);if(o)a.arguments(o);r.push(a)}if(this.sortSubcommands){r.sort(((t,r)=>t.name().localeCompare(r.name())))}return r}visibleOptions(t){const r=t.options.filter((t=>!t.hidden));const i=t._hasHelpOption&&t._helpShortFlag&&!t._findOption(t._helpShortFlag);const o=t._hasHelpOption&&!t._findOption(t._helpLongFlag);if(i||o){let a;if(!i){a=t.createOption(t._helpLongFlag,t._helpDescription)}else if(!o){a=t.createOption(t._helpShortFlag,t._helpDescription)}else{a=t.createOption(t._helpFlags,t._helpDescription)}r.push(a)}if(this.sortOptions){const getSortKey=t=>t.short?t.short.replace(/^-/,""):t.long.replace(/^--/,"");r.sort(((t,r)=>getSortKey(t).localeCompare(getSortKey(r))))}return r}visibleArguments(t){if(t._argsDescription){t._args.forEach((r=>{r.description=r.description||t._argsDescription[r.name()]||""}))}if(t._args.find((t=>t.description))){return t._args}return[]}subcommandTerm(t){const r=t._args.map((t=>o(t))).join(" ");return t._name+(t._aliases[0]?"|"+t._aliases[0]:"")+(t.options.length?" [options]":"")+(r?" "+r:"")}optionTerm(t){return t.flags}argumentTerm(t){return t.name()}longestSubcommandTermLength(t,r){return r.visibleCommands(t).reduce(((t,i)=>Math.max(t,r.subcommandTerm(i).length)),0)}longestOptionTermLength(t,r){return r.visibleOptions(t).reduce(((t,i)=>Math.max(t,r.optionTerm(i).length)),0)}longestArgumentTermLength(t,r){return r.visibleArguments(t).reduce(((t,i)=>Math.max(t,r.argumentTerm(i).length)),0)}commandUsage(t){let r=t._name;if(t._aliases[0]){r=r+"|"+t._aliases[0]}let i="";for(let r=t.parent;r;r=r.parent){i=r.name()+" "+i}return i+r+" "+t.usage()}commandDescription(t){return t.description()}subcommandDescription(t){return t.summary()||t.description()}optionDescription(t){const r=[];if(t.argChoices){r.push(`choices: ${t.argChoices.map((t=>JSON.stringify(t))).join(", ")}`)}if(t.defaultValue!==undefined){const i=t.required||t.optional||t.isBoolean()&&typeof t.defaultValue==="boolean";if(i){r.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`)}}if(t.presetArg!==undefined&&t.optional){r.push(`preset: ${JSON.stringify(t.presetArg)}`)}if(t.envVar!==undefined){r.push(`env: ${t.envVar}`)}if(r.length>0){return`${t.description} (${r.join(", ")})`}return t.description}argumentDescription(t){const r=[];if(t.argChoices){r.push(`choices: ${t.argChoices.map((t=>JSON.stringify(t))).join(", ")}`)}if(t.defaultValue!==undefined){r.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`)}if(r.length>0){const i=`(${r.join(", ")})`;if(t.description){return`${t.description} ${i}`}return i}return t.description}formatHelp(t,r){const i=r.padWidth(t,r);const o=r.helpWidth||80;const a=2;const c=2;function formatItem(t,l){if(l){const h=`${t.padEnd(i+c)}${l}`;return r.wrap(h,o-a,i+c)}return t}function formatList(t){return t.join("\n").replace(/^/gm," ".repeat(a))}let l=[`Usage: ${r.commandUsage(t)}`,""];const h=r.commandDescription(t);if(h.length>0){l=l.concat([h,""])}const u=r.visibleArguments(t).map((t=>formatItem(r.argumentTerm(t),r.argumentDescription(t))));if(u.length>0){l=l.concat(["Arguments:",formatList(u),""])}const d=r.visibleOptions(t).map((t=>formatItem(r.optionTerm(t),r.optionDescription(t))));if(d.length>0){l=l.concat(["Options:",formatList(d),""])}const p=r.visibleCommands(t).map((t=>formatItem(r.subcommandTerm(t),r.subcommandDescription(t))));if(p.length>0){l=l.concat(["Commands:",formatList(p),""])}return l.join("\n")}padWidth(t,r){return Math.max(r.longestOptionTermLength(t,r),r.longestSubcommandTermLength(t,r),r.longestArgumentTermLength(t,r))}wrap(t,r,i,o=40){if(t.match(/[\n]\s+/))return t;const a=r-i;if(a<o)return t;const c=t.slice(0,i);const l=t.slice(i);const h=" ".repeat(i);const u=new RegExp(".{1,"+(a-1)+"}([\\s]|$)|[^\\s]+?([\\s]|$)","g");const d=l.match(u)||[];return c+d.map(((t,r)=>{if(t.slice(-1)==="\n"){t=t.slice(0,t.length-1)}return(r>0?h:"")+t.trimRight()})).join("\n")}}r.Help=Help},5205:(t,r,i)=>{const{InvalidArgumentError:o}=i(9027);class Option{constructor(t,r){this.flags=t;this.description=r||"";this.required=t.includes("<");this.optional=t.includes("[");this.variadic=/\w\.\.\.[>\]]$/.test(t);this.mandatory=false;const i=splitOptionFlags(t);this.short=i.shortFlag;this.long=i.longFlag;this.negate=false;if(this.long){this.negate=this.long.startsWith("--no-")}this.defaultValue=undefined;this.defaultValueDescription=undefined;this.presetArg=undefined;this.envVar=undefined;this.parseArg=undefined;this.hidden=false;this.argChoices=undefined;this.conflictsWith=[];this.implied=undefined}default(t,r){this.defaultValue=t;this.defaultValueDescription=r;return this}preset(t){this.presetArg=t;return this}conflicts(t){this.conflictsWith=this.conflictsWith.concat(t);return this}implies(t){this.implied=Object.assign(this.implied||{},t);return this}env(t){this.envVar=t;return this}argParser(t){this.parseArg=t;return this}makeOptionMandatory(t=true){this.mandatory=!!t;return this}hideHelp(t=true){this.hidden=!!t;return this}_concatValue(t,r){if(r===this.defaultValue||!Array.isArray(r)){return[t]}return r.concat(t)}choices(t){this.argChoices=t.slice();this.parseArg=(t,r)=>{if(!this.argChoices.includes(t)){throw new o(`Allowed choices are ${this.argChoices.join(", ")}.`)}if(this.variadic){return this._concatValue(t,r)}return t};return this}name(){if(this.long){return this.long.replace(/^--/,"")}return this.short.replace(/^-/,"")}attributeName(){return camelcase(this.name().replace(/^no-/,""))}is(t){return this.short===t||this.long===t}isBoolean(){return!this.required&&!this.optional&&!this.negate}}class DualOptions{constructor(t){this.positiveOptions=new Map;this.negativeOptions=new Map;this.dualOptions=new Set;t.forEach((t=>{if(t.negate){this.negativeOptions.set(t.attributeName(),t)}else{this.positiveOptions.set(t.attributeName(),t)}}));this.negativeOptions.forEach(((t,r)=>{if(this.positiveOptions.has(r)){this.dualOptions.add(r)}}))}valueFromOption(t,r){const i=r.attributeName();if(!this.dualOptions.has(i))return true;const o=this.negativeOptions.get(i).presetArg;const a=o!==undefined?o:false;return r.negate===(a===t)}}function camelcase(t){return t.split("-").reduce(((t,r)=>t+r[0].toUpperCase()+r.slice(1)))}function splitOptionFlags(t){let r;let i;const o=t.split(/[ |,]+/);if(o.length>1&&!/^[[<]/.test(o[1]))r=o.shift();i=o.shift();if(!r&&/^-[^-]$/.test(i)){r=i;i=undefined}return{shortFlag:r,longFlag:i}}r.Option=Option;r.splitOptionFlags=splitOptionFlags;r.DualOptions=DualOptions},211:(t,r)=>{const i=3;function editDistance(t,r){if(Math.abs(t.length-r.length)>i)return Math.max(t.length,r.length);const o=[];for(let r=0;r<=t.length;r++){o[r]=[r]}for(let t=0;t<=r.length;t++){o[0][t]=t}for(let i=1;i<=r.length;i++){for(let a=1;a<=t.length;a++){let c=1;if(t[a-1]===r[i-1]){c=0}else{c=1}o[a][i]=Math.min(o[a-1][i]+1,o[a][i-1]+1,o[a-1][i-1]+c);if(a>1&&i>1&&t[a-1]===r[i-2]&&t[a-2]===r[i-1]){o[a][i]=Math.min(o[a][i],o[a-2][i-2]+1)}}}return o[t.length][r.length]}function suggestSimilar(t,r){if(!r||r.length===0)return"";r=Array.from(new Set(r));const o=t.startsWith("--");if(o){t=t.slice(2);r=r.map((t=>t.slice(2)))}let a=[];let c=i;const l=.4;r.forEach((r=>{if(r.length<=1)return;const i=editDistance(t,r);const o=Math.max(t.length,r.length);const h=(o-i)/o;if(h>l){if(i<c){c=i;a=[r]}else if(i===c){a.push(r)}}}));a.sort(((t,r)=>t.localeCompare(r)));if(o){a=a.map((t=>`--${t}`))}if(a.length>1){return`\n(Did you mean one of ${a.join(", ")}?)`}if(a.length===1){return`\n(Did you mean ${a[0]}?)`}return""}r.suggestSimilar=suggestSimilar}};var r={};function __nccwpck_require__(i){var o=r[i];if(o!==undefined){return o.exports}var a=r[i]={exports:{}};var c=true;try{t[i](a,a.exports,__nccwpck_require__);c=false}finally{if(c)delete r[i]}return a.exports}(()=>{__nccwpck_require__.n=t=>{var r=t&&t.__esModule?()=>t["default"]:()=>t;__nccwpck_require__.d(r,{a:r});return r}})();(()=>{__nccwpck_require__.d=(t,r)=>{for(var i in r){if(__nccwpck_require__.o(r,i)&&!__nccwpck_require__.o(t,i)){Object.defineProperty(t,i,{enumerable:true,get:r[i]})}}}})();(()=>{__nccwpck_require__.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r)})();(()=>{__nccwpck_require__.r=t=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(t,"__esModule",{value:true})}})();if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var i=__nccwpck_require__(911);module.exports=i})();