{"version":3,"file":"index.js","names":["SOURCE_FOLDER","tree","schema","options","normalizeOptions","GeneratorType","LIBRARY","packageGenerator","sourcePath","join","__dirname","packageJson","packageProjectJson","packageTsConfig","writeJson","packageRoot","packageBuildTsConfig","formatFiles","symlinkVsCodeConfiguration","updatePackages"],"sources":["../../../../src/generators/library/index.ts"],"sourcesContent":["import { formatFiles, Tree, writeJson } from '@nrwl/devkit';\nimport { join } from 'path';\n\nimport {\n  normalizeOptions,\n  packageGenerator,\n  symlinkVsCodeConfiguration,\n  updatePackages,\n} from '../helpers';\nimport { GeneratorType, Schema } from '../types';\nimport {\n  packageBuildTsConfig,\n  packageJson,\n  packageProjectJson,\n  packageTsConfig,\n} from './typed-json-config';\n\nconst SOURCE_FOLDER = './files';\n\nexport default async (tree: Tree, schema: Schema): Promise<() => void> => {\n  const options = normalizeOptions(tree, schema, GeneratorType.LIBRARY);\n\n  packageGenerator({\n    tree,\n    options,\n    sourcePath: join(__dirname, SOURCE_FOLDER),\n    packageJson,\n    packageProjectJson,\n    packageTsConfig,\n  });\n  writeJson(\n    tree,\n    join(options.packageRoot, `tsconfig.build.json`),\n    packageBuildTsConfig,\n  );\n  await formatFiles(tree);\n\n  return () => {\n    symlinkVsCodeConfiguration(options);\n    updatePackages(tree, options);\n  };\n};\n"],"mappings":";;;;;;;;;AAAA;AACA;AAEA;AAMA;AACA;AAOA,IAAMA,aAAa,GAAG,SAAS;AAAC;EAAA,yFAEjB,iBAAOC,IAAU,EAAEC,MAAc;IAAA;IAAA;MAAA;QAAA;UAAA;YACxCC,OAAO,GAAG,IAAAC,yBAAgB,EAACH,IAAI,EAAEC,MAAM,EAAEG,oBAAa,CAACC,OAAO,CAAC;YAErE,IAAAC,yBAAgB,EAAC;cACfN,IAAI,EAAJA,IAAI;cACJE,OAAO,EAAPA,OAAO;cACPK,UAAU,EAAE,IAAAC,UAAI,EAACC,SAAS,EAAEV,aAAa,CAAC;cAC1CW,WAAW,EAAXA,4BAAW;cACXC,kBAAkB,EAAlBA,mCAAkB;cAClBC,eAAe,EAAfA;YACF,CAAC,CAAC;YACF,IAAAC,iBAAS,EACPb,IAAI,EACJ,IAAAQ,UAAI,EAACN,OAAO,CAACY,WAAW,wBAAwB,EAChDC,qCAAoB,CACrB;YAAC;YAAA,OACI,IAAAC,mBAAW,EAAChB,IAAI,CAAC;UAAA;YAAA,iCAEhB,YAAM;cACX,IAAAiB,mCAA0B,EAACf,OAAO,CAAC;cACnC,IAAAgB,uBAAc,EAAClB,IAAI,EAAEE,OAAO,CAAC;YAC/B,CAAC;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACF;EAAA;IAAA;EAAA;AAAA;AAAA"}