{"version":3,"file":"packageGenerator.js","names":["packageGenerator","options","packageJson","packageProjectJson","packageTsConfig","sourcePath","tree","createFiles","writeJson","join","packageRoot","projectConfiguration","addProjectConfiguration","importPath","updateCodeWorkspace","updateRootPackageJson"],"sources":["../../../../src/generators/helpers/packageGenerator.ts"],"sourcesContent":["import {\n  addProjectConfiguration,\n  ProjectConfiguration,\n  Tree,\n  writeJson,\n} from '@nrwl/devkit';\nimport { join } from 'path';\n\nimport { NormalizedSchema, PackageJson, TsConfig } from '../types';\nimport { createFiles } from './createFiles';\nimport { updateCodeWorkspace } from './updateCodeWorkspace';\nimport { updateRootPackageJson } from './updateRootPackageJson';\n\ninterface PackageGeneratorParams {\n  tree: Tree;\n  options: NormalizedSchema;\n  sourcePath: string;\n  packageJson: (options: NormalizedSchema) => PackageJson;\n  packageProjectJson: (root: string) => ProjectConfiguration;\n  packageTsConfig: (options: NormalizedSchema) => TsConfig;\n}\n\nexport const packageGenerator = ({\n  options,\n  packageJson,\n  packageProjectJson,\n  packageTsConfig,\n  sourcePath,\n  tree,\n}: PackageGeneratorParams): void => {\n  createFiles(tree, options, sourcePath);\n\n  writeJson(\n    tree,\n    join(options.packageRoot, `package.json`),\n    packageJson(options),\n  );\n\n  writeJson(\n    tree,\n    join(options.packageRoot, `tsconfig.json`),\n    packageTsConfig(options),\n  );\n\n  const projectConfiguration = packageProjectJson(options.packageRoot);\n  addProjectConfiguration(tree, options.importPath, projectConfiguration);\n\n  updateCodeWorkspace(tree, options);\n  updateRootPackageJson(tree, options);\n};\n"],"mappings":";;;;;;AAAA;AAMA;AAGA;AACA;AACA;AAWO,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAgB,OAOO;EAAA,IANlCC,OAAO,QAAPA,OAAO;IACPC,WAAW,QAAXA,WAAW;IACXC,kBAAkB,QAAlBA,kBAAkB;IAClBC,eAAe,QAAfA,eAAe;IACfC,UAAU,QAAVA,UAAU;IACVC,IAAI,QAAJA,IAAI;EAEJ,IAAAC,wBAAW,EAACD,IAAI,EAAEL,OAAO,EAAEI,UAAU,CAAC;EAEtC,IAAAG,iBAAS,EACPF,IAAI,EACJ,IAAAG,UAAI,EAACR,OAAO,CAACS,WAAW,iBAAiB,EACzCR,WAAW,CAACD,OAAO,CAAC,CACrB;EAED,IAAAO,iBAAS,EACPF,IAAI,EACJ,IAAAG,UAAI,EAACR,OAAO,CAACS,WAAW,kBAAkB,EAC1CN,eAAe,CAACH,OAAO,CAAC,CACzB;EAED,IAAMU,oBAAoB,GAAGR,kBAAkB,CAACF,OAAO,CAACS,WAAW,CAAC;EACpE,IAAAE,+BAAuB,EAACN,IAAI,EAAEL,OAAO,CAACY,UAAU,EAAEF,oBAAoB,CAAC;EAEvE,IAAAG,wCAAmB,EAACR,IAAI,EAAEL,OAAO,CAAC;EAClC,IAAAc,4CAAqB,EAACT,IAAI,EAAEL,OAAO,CAAC;AACtC,CAAC;AAAC"}