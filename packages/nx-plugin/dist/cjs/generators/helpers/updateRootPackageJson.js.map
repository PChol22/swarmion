{"version":3,"file":"updateRootPackageJson.js","names":["updateRootPackageJson","tree","options","updateJson","json","workspaces","Array","from","Set","add","directory","sort"],"sources":["../../../../src/generators/helpers/updateRootPackageJson.ts"],"sourcesContent":["import { Tree, updateJson } from '@nrwl/devkit';\n\nimport { NormalizedSchema } from '../types';\n\ntype PackageJsonType = {\n  workspaces: string[];\n  [key: string]: unknown;\n};\n\nexport const updateRootPackageJson = (\n  tree: Tree,\n  options: NormalizedSchema,\n): void => {\n  updateJson(tree, 'package.json', (json: PackageJsonType) => {\n    json.workspaces = Array.from(\n      new Set(json.workspaces).add(`${options.directory}/*`),\n    ).sort();\n\n    return json;\n  });\n};\n"],"mappings":";;;;;;AAAA;AASO,IAAMA,qBAAqB,GAAG,SAAxBA,qBAAqB,CAChCC,IAAU,EACVC,OAAyB,EAChB;EACT,IAAAC,kBAAU,EAACF,IAAI,EAAE,cAAc,EAAE,UAACG,IAAqB,EAAK;IAC1DA,IAAI,CAACC,UAAU,GAAGC,KAAK,CAACC,IAAI,CAC1B,IAAIC,GAAG,CAACJ,IAAI,CAACC,UAAU,CAAC,CAACI,GAAG,WAAIP,OAAO,CAACQ,SAAS,QAAK,CACvD,CAACC,IAAI,EAAE;IAER,OAAOP,IAAI;EACb,CAAC,CAAC;AACJ,CAAC;AAAC"}