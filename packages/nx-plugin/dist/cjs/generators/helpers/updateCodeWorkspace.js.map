{"version":3,"file":"updateCodeWorkspace.js","names":["formatFolderName","options","formattedName","name","replace","RegExp","generatorType","GeneratorType","LIBRARY","toLowerCase","SERVICE","GeneratorTypeToDirectory","updateCodeWorkspace","tree","updateJson","workspaceName","json","folders","push","path","packageRoot"],"sources":["../../../../src/generators/helpers/updateCodeWorkspace.ts"],"sourcesContent":["import { Tree, updateJson } from '@nrwl/devkit';\n\nimport {\n  GeneratorType,\n  GeneratorTypeToDirectory,\n  NormalizedSchema,\n} from '../types';\n\ntype CodeWorkspaceType = {\n  folders: {\n    path: string;\n    name: string;\n  }[];\n};\n\nconst formatFolderName = (options: NormalizedSchema) => {\n  const formattedName = options.name.replace(new RegExp('-', 'g'), ' ');\n  switch (options.generatorType) {\n    case GeneratorType.LIBRARY:\n      return `${formattedName} [${options.generatorType.toLowerCase()}]`;\n    case GeneratorType.SERVICE:\n      return `${\n        GeneratorTypeToDirectory[options.generatorType]\n      } ${formattedName} [${options.generatorType.toLowerCase()}]`;\n  }\n};\n\nexport const updateCodeWorkspace = (\n  tree: Tree,\n  options: NormalizedSchema,\n): void => {\n  updateJson(\n    tree,\n    `${options.workspaceName}.code-workspace`,\n    (json: CodeWorkspaceType) => {\n      json.folders.push({\n        path: options.packageRoot,\n        name: formatFolderName(options),\n      });\n\n      return json;\n    },\n  );\n};\n"],"mappings":";;;;;;AAAA;AAEA;AAaA,IAAMA,gBAAgB,GAAG,SAAnBA,gBAAgB,CAAIC,OAAyB,EAAK;EACtD,IAAMC,aAAa,GAAGD,OAAO,CAACE,IAAI,CAACC,OAAO,CAAC,IAAIC,MAAM,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC;EACrE,QAAQJ,OAAO,CAACK,aAAa;IAC3B,KAAKC,oBAAa,CAACC,OAAO;MACxB,iBAAUN,aAAa,eAAKD,OAAO,CAACK,aAAa,CAACG,WAAW,EAAE;IACjE,KAAKF,oBAAa,CAACG,OAAO;MACxB,iBACEC,+BAAwB,CAACV,OAAO,CAACK,aAAa,CAAC,cAC7CJ,aAAa,eAAKD,OAAO,CAACK,aAAa,CAACG,WAAW,EAAE;EAAI;AAEnE,CAAC;AAEM,IAAMG,mBAAmB,GAAG,SAAtBA,mBAAmB,CAC9BC,IAAU,EACVZ,OAAyB,EAChB;EACT,IAAAa,kBAAU,EACRD,IAAI,YACDZ,OAAO,CAACc,aAAa,sBACxB,UAACC,IAAuB,EAAK;IAC3BA,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;MAChBC,IAAI,EAAElB,OAAO,CAACmB,WAAW;MACzBjB,IAAI,EAAEH,gBAAgB,CAACC,OAAO;IAChC,CAAC,CAAC;IAEF,OAAOe,IAAI;EACb,CAAC,CACF;AACH,CAAC;AAAC"}