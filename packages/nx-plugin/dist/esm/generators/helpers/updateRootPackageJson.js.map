{"version":3,"file":"updateRootPackageJson.js","names":["updateJson","updateRootPackageJson","tree","options","json","workspaces","Array","from","Set","add","directory","sort"],"sources":["../../../../src/generators/helpers/updateRootPackageJson.ts"],"sourcesContent":["import { Tree, updateJson } from '@nrwl/devkit';\n\nimport { NormalizedSchema } from '../types';\n\ntype PackageJsonType = {\n  workspaces: string[];\n  [key: string]: unknown;\n};\n\nexport const updateRootPackageJson = (\n  tree: Tree,\n  options: NormalizedSchema,\n): void => {\n  updateJson(tree, 'package.json', (json: PackageJsonType) => {\n    json.workspaces = Array.from(\n      new Set(json.workspaces).add(`${options.directory}/*`),\n    ).sort();\n\n    return json;\n  });\n};\n"],"mappings":"AAAA,SAAeA,UAAU,QAAQ,cAAc;AAS/C,OAAO,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAqB,CAChCC,IAAU,EACVC,OAAyB,EAChB;EACTH,UAAU,CAACE,IAAI,EAAE,cAAc,EAAE,UAACE,IAAqB,EAAK;IAC1DA,IAAI,CAACC,UAAU,GAAGC,KAAK,CAACC,IAAI,CAC1B,IAAIC,GAAG,CAACJ,IAAI,CAACC,UAAU,CAAC,CAACI,GAAG,WAAIN,OAAO,CAACO,SAAS,QAAK,CACvD,CAACC,IAAI,EAAE;IAER,OAAOP,IAAI;EACb,CAAC,CAAC;AACJ,CAAC"}