{"version":3,"file":"packageGenerator.js","names":["addProjectConfiguration","writeJson","join","createFiles","updateCodeWorkspace","updateRootPackageJson","packageGenerator","options","packageJson","packageProjectJson","packageTsConfig","sourcePath","tree","packageRoot","projectConfiguration","importPath"],"sources":["../../../../src/generators/helpers/packageGenerator.ts"],"sourcesContent":["import {\n  addProjectConfiguration,\n  ProjectConfiguration,\n  Tree,\n  writeJson,\n} from '@nrwl/devkit';\nimport { join } from 'path';\n\nimport { NormalizedSchema, PackageJson, TsConfig } from '../types';\nimport { createFiles } from './createFiles';\nimport { updateCodeWorkspace } from './updateCodeWorkspace';\nimport { updateRootPackageJson } from './updateRootPackageJson';\n\ninterface PackageGeneratorParams {\n  tree: Tree;\n  options: NormalizedSchema;\n  sourcePath: string;\n  packageJson: (options: NormalizedSchema) => PackageJson;\n  packageProjectJson: (root: string) => ProjectConfiguration;\n  packageTsConfig: (options: NormalizedSchema) => TsConfig;\n}\n\nexport const packageGenerator = ({\n  options,\n  packageJson,\n  packageProjectJson,\n  packageTsConfig,\n  sourcePath,\n  tree,\n}: PackageGeneratorParams): void => {\n  createFiles(tree, options, sourcePath);\n\n  writeJson(\n    tree,\n    join(options.packageRoot, `package.json`),\n    packageJson(options),\n  );\n\n  writeJson(\n    tree,\n    join(options.packageRoot, `tsconfig.json`),\n    packageTsConfig(options),\n  );\n\n  const projectConfiguration = packageProjectJson(options.packageRoot);\n  addProjectConfiguration(tree, options.importPath, projectConfiguration);\n\n  updateCodeWorkspace(tree, options);\n  updateRootPackageJson(tree, options);\n};\n"],"mappings":"AAAA,SACEA,uBAAuB,EAGvBC,SAAS,QACJ,cAAc;AACrB,SAASC,IAAI,QAAQ,MAAM;AAG3B,SAASC,WAAW;AACpB,SAASC,mBAAmB;AAC5B,SAASC,qBAAqB;AAW9B,OAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgB,OAOO;EAAA,IANlCC,OAAO,QAAPA,OAAO;IACPC,WAAW,QAAXA,WAAW;IACXC,kBAAkB,QAAlBA,kBAAkB;IAClBC,eAAe,QAAfA,eAAe;IACfC,UAAU,QAAVA,UAAU;IACVC,IAAI,QAAJA,IAAI;EAEJT,WAAW,CAACS,IAAI,EAAEL,OAAO,EAAEI,UAAU,CAAC;EAEtCV,SAAS,CACPW,IAAI,EACJV,IAAI,CAACK,OAAO,CAACM,WAAW,iBAAiB,EACzCL,WAAW,CAACD,OAAO,CAAC,CACrB;EAEDN,SAAS,CACPW,IAAI,EACJV,IAAI,CAACK,OAAO,CAACM,WAAW,kBAAkB,EAC1CH,eAAe,CAACH,OAAO,CAAC,CACzB;EAED,IAAMO,oBAAoB,GAAGL,kBAAkB,CAACF,OAAO,CAACM,WAAW,CAAC;EACpEb,uBAAuB,CAACY,IAAI,EAAEL,OAAO,CAACQ,UAAU,EAAED,oBAAoB,CAAC;EAEvEV,mBAAmB,CAACQ,IAAI,EAAEL,OAAO,CAAC;EAClCF,qBAAqB,CAACO,IAAI,EAAEL,OAAO,CAAC;AACtC,CAAC"}