{"version":3,"file":"index.js","names":["formatFiles","writeJson","join","normalizeOptions","packageGenerator","symlinkVsCodeConfiguration","updatePackages","GeneratorType","packageBuildTsConfig","packageJson","packageProjectJson","packageTsConfig","SOURCE_FOLDER","tree","schema","options","LIBRARY","sourcePath","__dirname","packageRoot"],"sources":["../../../../src/generators/library/index.ts"],"sourcesContent":["import { formatFiles, Tree, writeJson } from '@nrwl/devkit';\nimport { join } from 'path';\n\nimport {\n  normalizeOptions,\n  packageGenerator,\n  symlinkVsCodeConfiguration,\n  updatePackages,\n} from '../helpers';\nimport { GeneratorType, Schema } from '../types';\nimport {\n  packageBuildTsConfig,\n  packageJson,\n  packageProjectJson,\n  packageTsConfig,\n} from './typed-json-config';\n\nconst SOURCE_FOLDER = './files';\n\nexport default async (tree: Tree, schema: Schema): Promise<() => void> => {\n  const options = normalizeOptions(tree, schema, GeneratorType.LIBRARY);\n\n  packageGenerator({\n    tree,\n    options,\n    sourcePath: join(__dirname, SOURCE_FOLDER),\n    packageJson,\n    packageProjectJson,\n    packageTsConfig,\n  });\n  writeJson(\n    tree,\n    join(options.packageRoot, `tsconfig.build.json`),\n    packageBuildTsConfig,\n  );\n  await formatFiles(tree);\n\n  return () => {\n    symlinkVsCodeConfiguration(options);\n    updatePackages(tree, options);\n  };\n};\n"],"mappings":";;AAAA,SAASA,WAAW,EAAQC,SAAS,QAAQ,cAAc;AAC3D,SAASC,IAAI,QAAQ,MAAM;AAE3B,SACEC,gBAAgB,EAChBC,gBAAgB,EAChBC,0BAA0B,EAC1BC,cAAc;AAEhB,SAASC,aAAa;AACtB,SACEC,oBAAoB,EACpBC,WAAW,EACXC,kBAAkB,EAClBC,eAAe;AAGjB,IAAMC,aAAa,GAAG,SAAS;AAE/B;EAAA,oEAAe,iBAAOC,IAAU,EAAEC,MAAc;IAAA;IAAA;MAAA;QAAA;UAAA;YACxCC,OAAO,GAAGZ,gBAAgB,CAACU,IAAI,EAAEC,MAAM,EAAEP,aAAa,CAACS,OAAO,CAAC;YAErEZ,gBAAgB,CAAC;cACfS,IAAI,EAAJA,IAAI;cACJE,OAAO,EAAPA,OAAO;cACPE,UAAU,EAAEf,IAAI,CAACgB,SAAS,EAAEN,aAAa,CAAC;cAC1CH,WAAW,EAAXA,WAAW;cACXC,kBAAkB,EAAlBA,kBAAkB;cAClBC,eAAe,EAAfA;YACF,CAAC,CAAC;YACFV,SAAS,CACPY,IAAI,EACJX,IAAI,CAACa,OAAO,CAACI,WAAW,wBAAwB,EAChDX,oBAAoB,CACrB;YAAC;YAAA,OACIR,WAAW,CAACa,IAAI,CAAC;UAAA;YAAA,iCAEhB,YAAM;cACXR,0BAA0B,CAACU,OAAO,CAAC;cACnCT,cAAc,CAACO,IAAI,EAAEE,OAAO,CAAC;YAC/B,CAAC;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CACF;EAAA;IAAA;EAAA;AAAA"}