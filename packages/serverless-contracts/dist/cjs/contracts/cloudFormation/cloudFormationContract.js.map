{"version":3,"file":"cloudFormationContract.js","names":["CloudFormationContract","id","name","description","value","Description","Value","Export","Name"],"sources":["../../../../src/contracts/cloudFormation/cloudFormationContract.ts"],"sourcesContent":["import { CloudFormationExport, CloudFormationImport } from './types';\n\n/**\n * CloudFormationContract:\n *\n * a contract used to define a type-safe import/export through CloudFormation.\n *\n * Main features:\n * - export and import generated and type-safe;\n * - generation of a contract document that can be checked for breaking changes;\n */\nexport class CloudFormationContract<Name extends string = string> {\n  public contractType = 'cloudFormation' as const;\n  public id: string;\n  public name: Name;\n\n  /**\n   * Builds a new ApiGateway contract\n   *\n   * @param id a unique id to identify the contract among stacks. Beware uniqueness!\n   * @param name the name of the export\n   * See https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-importvalue.html\n   */\n  constructor({ id, name }: { id: string; name: Name }) {\n    this.id = id;\n    this.name = name;\n  }\n\n  /**\n   * @returns the CloudFormation { Fn::ImportValue } function corresponding to the name\n   */\n  get importValue(): CloudFormationImport<Name> {\n    return { 'Fn::ImportValue': this.name };\n  }\n\n  /**\n   * @returns the CloudFormation import name to use with Fn.importValue in CDK\n   */\n  get cdkImportValue(): Name {\n    return this.name;\n  }\n\n  /**\n   * @param description the description used in CloudFormation for this value\n   * @param value the CloudFormation function passed to the export\n   * For more information, see https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/intrinsic-function-reference-importvalue.html\n   * @returns the CloudFormation Export function\n   */\n  exportValue<Value>({\n    description,\n    value,\n  }: {\n    description: string;\n    value: Value;\n  }): CloudFormationExport<Name, Value> {\n    return {\n      Description: description,\n      Value: value,\n      Export: { Name: this.name },\n    };\n  }\n}\n"],"mappings":";;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GARA,IASaA,sBAAsB;EAKjC;AACF;AACA;AACA;AACA;AACA;AACA;EACE,sCAAsD;IAAA,IAAxCC,EAAE,QAAFA,EAAE;MAAEC,IAAI,QAAJA,IAAI;IAAA;IAAA,uDAXA,gBAAgB;IAYpC,IAAI,CAACD,EAAE,GAAGA,EAAE;IACZ,IAAI,CAACC,IAAI,GAAGA,IAAI;EAClB;;EAEA;AACF;AACA;EAFE;IAAA;IAAA,KAGA,eAA8C;MAC5C,OAAO;QAAE,iBAAiB,EAAE,IAAI,CAACA;MAAK,CAAC;IACzC;;IAEA;AACF;AACA;EAFE;IAAA;IAAA,KAGA,eAA2B;MACzB,OAAO,IAAI,CAACA,IAAI;IAClB;;IAEA;AACF;AACA;AACA;AACA;AACA;EALE;IAAA;IAAA,OAMA,4BAMsC;MAAA,IALpCC,WAAW,SAAXA,WAAW;QACXC,KAAK,SAALA,KAAK;MAKL,OAAO;QACLC,WAAW,EAAEF,WAAW;QACxBG,KAAK,EAAEF,KAAK;QACZG,MAAM,EAAE;UAAEC,IAAI,EAAE,IAAI,CAACN;QAAK;MAC5B,CAAC;IACH;EAAC;EAAA;AAAA;AAAA"}