{"version":3,"file":"requestParameters.js","names":["isUndefined","omitBy","fillPathTemplate","getRequestParameters","contract","requestArguments","pathParameters","queryStringParameters","headers","body","path","method"],"sources":["../../../../../src/contracts/apiGateway/features/requestParameters.ts"],"sourcesContent":["import isUndefined from 'lodash/isUndefined';\nimport omitBy from 'lodash/omitBy';\n\nimport { fillPathTemplate } from 'utils';\n\nimport { ApiGatewayContract } from '../apiGatewayContract';\nimport { BodyType, RequestArguments, RequestParameters } from '../types';\n\nexport const getRequestParameters = <Contract extends ApiGatewayContract>(\n  contract: Contract,\n  requestArguments: RequestArguments<Contract>,\n): RequestParameters<BodyType<Contract>> => {\n  // TODO improve inner typing here\n  const { pathParameters, queryStringParameters, headers, body } =\n    requestArguments as {\n      pathParameters: Record<string, string>;\n      queryStringParameters: Record<string, string | undefined>;\n      headers: Record<string, string>;\n      body: BodyType<Contract>;\n    };\n\n  const path =\n    typeof pathParameters !== 'undefined'\n      ? fillPathTemplate(contract.path, pathParameters)\n      : contract.path;\n\n  return omitBy(\n    {\n      method: contract.method,\n      path,\n      body,\n      queryStringParameters: omitBy(\n        queryStringParameters,\n        isUndefined,\n      ) as Record<string, string>,\n      headers,\n    },\n    isUndefined,\n  ) as unknown as RequestParameters<BodyType<Contract>>;\n};\n"],"mappings":"AAAA,OAAOA,WAAW,MAAM,oBAAoB;AAC5C,OAAOC,MAAM,MAAM,eAAe;AAElC,SAASC,gBAAgB;AAKzB,OAAO,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAoB,CAC/BC,QAAkB,EAClBC,gBAA4C,EACF;EAC1C;EACA,WACEA,gBAAgB;IADVC,cAAc,QAAdA,cAAc;IAAEC,qBAAqB,QAArBA,qBAAqB;IAAEC,OAAO,QAAPA,OAAO;IAAEC,IAAI,QAAJA,IAAI;EAQ5D,IAAMC,IAAI,GACR,OAAOJ,cAAc,KAAK,WAAW,GACjCJ,gBAAgB,CAACE,QAAQ,CAACM,IAAI,EAAEJ,cAAc,CAAC,GAC/CF,QAAQ,CAACM,IAAI;EAEnB,OAAOT,MAAM,CACX;IACEU,MAAM,EAAEP,QAAQ,CAACO,MAAM;IACvBD,IAAI,EAAJA,IAAI;IACJD,IAAI,EAAJA,IAAI;IACJF,qBAAqB,EAAEN,MAAM,CAC3BM,qBAAqB,EACrBP,WAAW,CACc;IAC3BQ,OAAO,EAAPA;EACF,CAAC,EACDR,WAAW,CACZ;AACH,CAAC"}